import{_ as Lo}from"./preload-helper.D6kgxu3v.js";import{s as JT,n as Ip,o as QT}from"./scheduler.BvLojk_z.js";import{S as ZT,i as ex,e as Wi,s as Ol,c as Hi,g as tx,a as El,j as No,d as wr,p as ji,b as Uo,z as rx,h as nx,k as ix,l as vi,m as ax}from"./index.BfUOqYnj.js";function jp(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}const ox=(e,t,r)=>{const n=e[t];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((i,a)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(a.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==r?". Note that variables only represent file names one level deep.":""))))})};var Tl="http://www.w3.org/1999/xhtml";const Mp={svg:"http://www.w3.org/2000/svg",xhtml:Tl,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function zs(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Mp.hasOwnProperty(t)?{space:Mp[t],local:e}:e}function sx(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Tl&&t.documentElement.namespaceURI===Tl?t.createElement(e):t.createElementNS(r,e)}}function ux(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Bb(e){var t=zs(e);return(t.local?ux:sx)(t)}function cx(){}function ld(e){return e==null?cx:function(){return this.querySelector(e)}}function fx(e){typeof e!="function"&&(e=ld(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],o=a.length,u=n[i]=new Array(o),c,s,f=0;f<o;++f)(c=a[f])&&(s=e.call(c,c.__data__,f,a))&&("__data__"in c&&(s.__data__=c.__data__),u[f]=s);return new st(n,this._parents)}function lx(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function hx(){return[]}function Wb(e){return e==null?hx:function(){return this.querySelectorAll(e)}}function dx(e){return function(){return lx(e.apply(this,arguments))}}function vx(e){typeof e=="function"?e=dx(e):e=Wb(e);for(var t=this._groups,r=t.length,n=[],i=[],a=0;a<r;++a)for(var o=t[a],u=o.length,c,s=0;s<u;++s)(c=o[s])&&(n.push(e.call(c,c.__data__,s,o)),i.push(c));return new st(n,i)}function Hb(e){return function(){return this.matches(e)}}function Yb(e){return function(t){return t.matches(e)}}var px=Array.prototype.find;function yx(e){return function(){return px.call(this.children,e)}}function gx(){return this.firstElementChild}function mx(e){return this.select(e==null?gx:yx(typeof e=="function"?e:Yb(e)))}var bx=Array.prototype.filter;function _x(){return Array.from(this.children)}function $x(e){return function(){return bx.call(this.children,e)}}function wx(e){return this.selectAll(e==null?_x:$x(typeof e=="function"?e:Yb(e)))}function Sx(e){typeof e!="function"&&(e=Hb(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],o=a.length,u=n[i]=[],c,s=0;s<o;++s)(c=a[s])&&e.call(c,c.__data__,s,a)&&u.push(c);return new st(n,this._parents)}function Vb(e){return new Array(e.length)}function Ox(){return new st(this._enter||this._groups.map(Vb),this._parents)}function us(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}us.prototype={constructor:us,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Ex(e){return function(){return e}}function Tx(e,t,r,n,i,a){for(var o=0,u,c=t.length,s=a.length;o<s;++o)(u=t[o])?(u.__data__=a[o],n[o]=u):r[o]=new us(e,a[o]);for(;o<c;++o)(u=t[o])&&(i[o]=u)}function xx(e,t,r,n,i,a,o){var u,c,s=new Map,f=t.length,l=a.length,h=new Array(f),d;for(u=0;u<f;++u)(c=t[u])&&(h[u]=d=o.call(c,c.__data__,u,t)+"",s.has(d)?i[u]=c:s.set(d,c));for(u=0;u<l;++u)d=o.call(e,a[u],u,a)+"",(c=s.get(d))?(n[u]=c,c.__data__=a[u],s.delete(d)):r[u]=new us(e,a[u]);for(u=0;u<f;++u)(c=t[u])&&s.get(h[u])===c&&(i[u]=c)}function Px(e){return e.__data__}function Cx(e,t){if(!arguments.length)return Array.from(this,Px);var r=t?xx:Tx,n=this._parents,i=this._groups;typeof e!="function"&&(e=Ex(e));for(var a=i.length,o=new Array(a),u=new Array(a),c=new Array(a),s=0;s<a;++s){var f=n[s],l=i[s],h=l.length,d=Ax(e.call(f,f&&f.__data__,s,n)),p=d.length,v=u[s]=new Array(p),b=o[s]=new Array(p),y=c[s]=new Array(h);r(f,l,v,b,y,d,t);for(var m=0,$=0,T,I;m<p;++m)if(T=v[m]){for(m>=$&&($=m+1);!(I=b[$])&&++$<p;);T._next=I||null}}return o=new st(o,n),o._enter=u,o._exit=c,o}function Ax(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Rx(){return new st(this._exit||this._groups.map(Vb),this._parents)}function Ix(e,t,r){var n=this.enter(),i=this,a=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?a.remove():r(a),n&&i?n.merge(i).order():i}function jx(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,a=n.length,o=Math.min(i,a),u=new Array(i),c=0;c<o;++c)for(var s=r[c],f=n[c],l=s.length,h=u[c]=new Array(l),d,p=0;p<l;++p)(d=s[p]||f[p])&&(h[p]=d);for(;c<i;++c)u[c]=r[c];return new st(u,this._parents)}function Mx(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,a=n[i],o;--i>=0;)(o=n[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function kx(e){e||(e=Dx);function t(l,h){return l&&h?e(l.__data__,h.__data__):!l-!h}for(var r=this._groups,n=r.length,i=new Array(n),a=0;a<n;++a){for(var o=r[a],u=o.length,c=i[a]=new Array(u),s,f=0;f<u;++f)(s=o[f])&&(c[f]=s);c.sort(t)}return new st(i,this._parents).order()}function Dx(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Fx(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Lx(){return Array.from(this)}function Nx(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length;i<a;++i){var o=n[i];if(o)return o}return null}function Ux(){let e=0;for(const t of this)++e;return e}function Bx(){return!this.node()}function Wx(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],a=0,o=i.length,u;a<o;++a)(u=i[a])&&e.call(u,u.__data__,a,i);return this}function Hx(e){return function(){this.removeAttribute(e)}}function Yx(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Vx(e,t){return function(){this.setAttribute(e,t)}}function Gx(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function zx(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function qx(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function Kx(e,t){var r=zs(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?Yx:Hx:typeof t=="function"?r.local?qx:zx:r.local?Gx:Vx)(r,t))}function Gb(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Xx(e){return function(){this.style.removeProperty(e)}}function Jx(e,t,r){return function(){this.style.setProperty(e,t,r)}}function Qx(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function Zx(e,t,r){return arguments.length>1?this.each((t==null?Xx:typeof t=="function"?Qx:Jx)(e,t,r??"")):Gn(this.node(),e)}function Gn(e,t){return e.style.getPropertyValue(t)||Gb(e).getComputedStyle(e,null).getPropertyValue(t)}function e3(e){return function(){delete this[e]}}function t3(e,t){return function(){this[e]=t}}function r3(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function n3(e,t){return arguments.length>1?this.each((t==null?e3:typeof t=="function"?r3:t3)(e,t)):this.node()[e]}function zb(e){return e.trim().split(/^|\s+/)}function hd(e){return e.classList||new qb(e)}function qb(e){this._node=e,this._names=zb(e.getAttribute("class")||"")}qb.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Kb(e,t){for(var r=hd(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function Xb(e,t){for(var r=hd(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function i3(e){return function(){Kb(this,e)}}function a3(e){return function(){Xb(this,e)}}function o3(e,t){return function(){(t.apply(this,arguments)?Kb:Xb)(this,e)}}function s3(e,t){var r=zb(e+"");if(arguments.length<2){for(var n=hd(this.node()),i=-1,a=r.length;++i<a;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?o3:t?i3:a3)(r,t))}function u3(){this.textContent=""}function c3(e){return function(){this.textContent=e}}function f3(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function l3(e){return arguments.length?this.each(e==null?u3:(typeof e=="function"?f3:c3)(e)):this.node().textContent}function h3(){this.innerHTML=""}function d3(e){return function(){this.innerHTML=e}}function v3(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function p3(e){return arguments.length?this.each(e==null?h3:(typeof e=="function"?v3:d3)(e)):this.node().innerHTML}function y3(){this.nextSibling&&this.parentNode.appendChild(this)}function g3(){return this.each(y3)}function m3(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function b3(){return this.each(m3)}function _3(e){var t=typeof e=="function"?e:Bb(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function $3(){return null}function w3(e,t){var r=typeof e=="function"?e:Bb(e),n=t==null?$3:typeof t=="function"?t:ld(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function S3(){var e=this.parentNode;e&&e.removeChild(this)}function O3(){return this.each(S3)}function E3(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function T3(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function x3(e){return this.select(e?T3:E3)}function P3(e){return arguments.length?this.property("__data__",e):this.node().__data__}function C3(e){return function(t){e.call(this,t,this.__data__)}}function A3(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function R3(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,a;r<i;++r)a=t[r],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++n]=a;++n?t.length=n:delete this.__on}}}function I3(e,t,r){return function(){var n=this.__on,i,a=C3(t);if(n){for(var o=0,u=n.length;o<u;++o)if((i=n[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=r),i.value=t;return}}this.addEventListener(e.type,a,r),i={type:e.type,name:e.name,value:t,listener:a,options:r},n?n.push(i):this.__on=[i]}}function j3(e,t,r){var n=A3(e+""),i,a=n.length,o;if(arguments.length<2){var u=this.node().__on;if(u){for(var c=0,s=u.length,f;c<s;++c)for(i=0,f=u[c];i<a;++i)if((o=n[i]).type===f.type&&o.name===f.name)return f.value}return}for(u=t?I3:R3,i=0;i<a;++i)this.each(u(n[i],t,r));return this}function Jb(e,t,r){var n=Gb(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function M3(e,t){return function(){return Jb(this,e,t)}}function k3(e,t){return function(){return Jb(this,e,t.apply(this,arguments))}}function D3(e,t){return this.each((typeof t=="function"?k3:M3)(e,t))}function*F3(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length,o;i<a;++i)(o=n[i])&&(yield o)}var Qb=[null];function st(e,t){this._groups=e,this._parents=t}function ba(){return new st([[document.documentElement]],Qb)}function L3(){return this}st.prototype=ba.prototype={constructor:st,select:fx,selectAll:vx,selectChild:mx,selectChildren:wx,filter:Sx,data:Cx,enter:Ox,exit:Rx,join:Ix,merge:jx,selection:L3,order:Mx,sort:kx,call:Fx,nodes:Lx,node:Nx,size:Ux,empty:Bx,each:Wx,attr:Kx,style:Zx,property:n3,classed:s3,text:l3,html:p3,raise:g3,lower:b3,append:_3,insert:w3,remove:O3,clone:x3,datum:P3,on:j3,dispatch:D3,[Symbol.iterator]:F3};function cs(e){return typeof e=="string"?new st([[document.querySelector(e)]],[document.documentElement]):new st([[e]],Qb)}function ai(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function _a(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ar(){}var Jr=.7,zn=1/Jr,Un="\\s*([+-]?\\d+)\\s*",ea="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",kt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",N3=/^#([0-9a-f]{3,8})$/,U3=new RegExp(`^rgb\\(${Un},${Un},${Un}\\)$`),B3=new RegExp(`^rgb\\(${kt},${kt},${kt}\\)$`),W3=new RegExp(`^rgba\\(${Un},${Un},${Un},${ea}\\)$`),H3=new RegExp(`^rgba\\(${kt},${kt},${kt},${ea}\\)$`),Y3=new RegExp(`^hsl\\(${ea},${kt},${kt}\\)$`),V3=new RegExp(`^hsla\\(${ea},${kt},${kt},${ea}\\)$`),kp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ai(Ar,Qr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Dp,formatHex:Dp,formatHex8:G3,formatHsl:z3,formatRgb:Fp,toString:Fp});function Dp(){return this.rgb().formatHex()}function G3(){return this.rgb().formatHex8()}function z3(){return Zb(this).formatHsl()}function Fp(){return this.rgb().formatRgb()}function Qr(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=N3.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Lp(t):r===3?new ke(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ka(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ka(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=U3.exec(e))?new ke(t[1],t[2],t[3],1):(t=B3.exec(e))?new ke(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=W3.exec(e))?Ka(t[1],t[2],t[3],t[4]):(t=H3.exec(e))?Ka(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Y3.exec(e))?Bp(t[1],t[2]/100,t[3]/100,1):(t=V3.exec(e))?Bp(t[1],t[2]/100,t[3]/100,t[4]):kp.hasOwnProperty(e)?Lp(kp[e]):e==="transparent"?new ke(NaN,NaN,NaN,0):null}function Lp(e){return new ke(e>>16&255,e>>8&255,e&255,1)}function Ka(e,t,r,n){return n<=0&&(e=t=r=NaN),new ke(e,t,r,n)}function dd(e){return e instanceof Ar||(e=Qr(e)),e?(e=e.rgb(),new ke(e.r,e.g,e.b,e.opacity)):new ke}function ta(e,t,r,n){return arguments.length===1?dd(e):new ke(e,t,r,n??1)}function ke(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}ai(ke,ta,_a(Ar,{brighter(e){return e=e==null?zn:Math.pow(zn,e),new ke(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Jr:Math.pow(Jr,e),new ke(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ke(qr(this.r),qr(this.g),qr(this.b),fs(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Np,formatHex:Np,formatHex8:q3,formatRgb:Up,toString:Up}));function Np(){return`#${zr(this.r)}${zr(this.g)}${zr(this.b)}`}function q3(){return`#${zr(this.r)}${zr(this.g)}${zr(this.b)}${zr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Up(){const e=fs(this.opacity);return`${e===1?"rgb(":"rgba("}${qr(this.r)}, ${qr(this.g)}, ${qr(this.b)}${e===1?")":`, ${e})`}`}function fs(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function qr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function zr(e){return e=qr(e),(e<16?"0":"")+e.toString(16)}function Bp(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ot(e,t,r,n)}function Zb(e){if(e instanceof Ot)return new Ot(e.h,e.s,e.l,e.opacity);if(e instanceof Ar||(e=Qr(e)),!e)return new Ot;if(e instanceof Ot)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,u=a-i,c=(a+i)/2;return u?(t===a?o=(r-n)/u+(r<n)*6:r===a?o=(n-t)/u+2:o=(t-r)/u+4,u/=c<.5?a+i:2-a-i,o*=60):u=c>0&&c<1?0:o,new Ot(o,u,c,e.opacity)}function xl(e,t,r,n){return arguments.length===1?Zb(e):new Ot(e,t,r,n??1)}function Ot(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}ai(Ot,xl,_a(Ar,{brighter(e){return e=e==null?zn:Math.pow(zn,e),new Ot(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Jr:Math.pow(Jr,e),new Ot(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new ke(pc(e>=240?e-240:e+120,i,n),pc(e,i,n),pc(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Ot(Wp(this.h),Xa(this.s),Xa(this.l),fs(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fs(this.opacity);return`${e===1?"hsl(":"hsla("}${Wp(this.h)}, ${Xa(this.s)*100}%, ${Xa(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Wp(e){return e=(e||0)%360,e<0?e+360:e}function Xa(e){return Math.max(0,Math.min(1,e||0))}function pc(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const e_=Math.PI/180,t_=180/Math.PI,ls=18,r_=.96422,n_=1,i_=.82521,a_=4/29,Bn=6/29,o_=3*Bn*Bn,K3=Bn*Bn*Bn;function s_(e){if(e instanceof Dt)return new Dt(e.l,e.a,e.b,e.opacity);if(e instanceof er)return u_(e);e instanceof ke||(e=dd(e));var t=bc(e.r),r=bc(e.g),n=bc(e.b),i=yc((.2225045*t+.7168786*r+.0606169*n)/n_),a,o;return t===r&&r===n?a=o=i:(a=yc((.4360747*t+.3850649*r+.1430804*n)/r_),o=yc((.0139322*t+.0971045*r+.7141733*n)/i_)),new Dt(116*i-16,500*(a-i),200*(i-o),e.opacity)}function Pl(e,t,r,n){return arguments.length===1?s_(e):new Dt(e,t,r,n??1)}function Dt(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}ai(Dt,Pl,_a(Ar,{brighter(e){return new Dt(this.l+ls*(e??1),this.a,this.b,this.opacity)},darker(e){return new Dt(this.l-ls*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=r_*gc(t),e=n_*gc(e),r=i_*gc(r),new ke(mc(3.1338561*t-1.6168667*e-.4906146*r),mc(-.9787684*t+1.9161415*e+.033454*r),mc(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}}));function yc(e){return e>K3?Math.pow(e,1/3):e/o_+a_}function gc(e){return e>Bn?e*e*e:o_*(e-a_)}function mc(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function bc(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function X3(e){if(e instanceof er)return new er(e.h,e.c,e.l,e.opacity);if(e instanceof Dt||(e=s_(e)),e.a===0&&e.b===0)return new er(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*t_;return new er(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function hs(e,t,r,n){return arguments.length===1?X3(e):new er(e,t,r,n??1)}function er(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}function u_(e){if(isNaN(e.h))return new Dt(e.l,0,0,e.opacity);var t=e.h*e_;return new Dt(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}ai(er,hs,_a(Ar,{brighter(e){return new er(this.h,this.c,this.l+ls*(e??1),this.opacity)},darker(e){return new er(this.h,this.c,this.l-ls*(e??1),this.opacity)},rgb(){return u_(this).rgb()}}));var c_=-.14861,vd=1.78277,pd=-.29227,qs=-.90649,ra=1.97294,Hp=ra*qs,Yp=ra*vd,Vp=vd*pd-qs*c_;function J3(e){if(e instanceof Kr)return new Kr(e.h,e.s,e.l,e.opacity);e instanceof ke||(e=dd(e));var t=e.r/255,r=e.g/255,n=e.b/255,i=(Vp*n+Hp*t-Yp*r)/(Vp+Hp-Yp),a=n-i,o=(ra*(r-i)-pd*a)/qs,u=Math.sqrt(o*o+a*a)/(ra*i*(1-i)),c=u?Math.atan2(o,a)*t_-120:NaN;return new Kr(c<0?c+360:c,u,i,e.opacity)}function Lt(e,t,r,n){return arguments.length===1?J3(e):new Kr(e,t,r,n??1)}function Kr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}ai(Kr,Lt,_a(Ar,{brighter(e){return e=e==null?zn:Math.pow(zn,e),new Kr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Jr:Math.pow(Jr,e),new Kr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*e_,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),i=Math.sin(e);return new ke(255*(t+r*(c_*n+vd*i)),255*(t+r*(pd*n+qs*i)),255*(t+r*(ra*n)),this.opacity)}}));function Er(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ks(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yd(e){let t,r,n;e.length!==2?(t=Er,r=(u,c)=>Er(e(u),c),n=(u,c)=>e(u)-c):(t=e===Er||e===Ks?e:Q3,r=e,n=e);function i(u,c,s=0,f=u.length){if(s<f){if(t(c,c)!==0)return f;do{const l=s+f>>>1;r(u[l],c)<0?s=l+1:f=l}while(s<f)}return s}function a(u,c,s=0,f=u.length){if(s<f){if(t(c,c)!==0)return f;do{const l=s+f>>>1;r(u[l],c)<=0?s=l+1:f=l}while(s<f)}return s}function o(u,c,s=0,f=u.length){const l=i(u,c,s,f-1);return l>s&&n(u[l-1],c)>-n(u[l],c)?l-1:l}return{left:i,center:o,right:a}}function Q3(){return 0}function f_(e){return e===null?NaN:+e}function*Z3(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}const eP=yd(Er),gd=eP.right;yd(f_).center;function md(e,t){let r,n;for(const i of e)i!=null&&(r===void 0?i>=i&&(r=n=i):(r>i&&(r=i),n<i&&(n=i)));return[r,n]}class Gp extends Map{constructor(t,r=d_){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(Cl(this,t))}has(t){return super.has(Cl(this,t))}set(t,r){return super.set(l_(this,t),r)}delete(t){return super.delete(h_(this,t))}}class tP extends Set{constructor(t,r=d_){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const n of t)this.add(n)}has(t){return super.has(Cl(this,t))}add(t){return super.add(l_(this,t))}delete(t){return super.delete(h_(this,t))}}function Cl({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function l_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function h_({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function d_(e){return e!==null&&typeof e=="object"?e.valueOf():e}function rP(e,t){return Array.from(t,r=>e[r])}function nP(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[r]=t;if(r&&r.length!==2||t.length>1){const n=Uint32Array.from(e,(i,a)=>a);return t.length>1?(t=t.map(i=>e.map(i)),n.sort((i,a)=>{for(const o of t){const u=ds(o[i],o[a]);if(u)return u}})):(r=e.map(r),n.sort((i,a)=>ds(r[i],r[a]))),rP(e,n)}return e.sort(v_(r))}function v_(e=Er){if(e===Er)return ds;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function ds(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const iP=Math.sqrt(50),aP=Math.sqrt(10),oP=Math.sqrt(2);function vs(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=iP?10:a>=aP?5:a>=oP?2:1;let u,c,s;return i<0?(s=Math.pow(10,-i)/o,u=Math.round(e*s),c=Math.round(t*s),u/s<e&&++u,c/s>t&&--c,s=-s):(s=Math.pow(10,i)*o,u=Math.round(e/s),c=Math.round(t/s),u*s<e&&++u,c*s>t&&--c),c<u&&.5<=r&&r<2?vs(e,t,r*2):[u,c,s]}function ps(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?vs(t,e,r):vs(e,t,r);if(!(a>=i))return[];const u=a-i+1,c=new Array(u);if(n)if(o<0)for(let s=0;s<u;++s)c[s]=(a-s)/-o;else for(let s=0;s<u;++s)c[s]=(a-s)*o;else if(o<0)for(let s=0;s<u;++s)c[s]=(i+s)/-o;else for(let s=0;s<u;++s)c[s]=(i+s)*o;return c}function Al(e,t,r){return t=+t,e=+e,r=+r,vs(e,t,r)[2]}function Rl(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Al(t,e,r):Al(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Tr(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function ys(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function p_(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?ds:v_(i);n>r;){if(n-r>600){const c=n-r+1,s=t-r+1,f=Math.log(c),l=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*l*(c-l)/c)*(s-c/2<0?-1:1),d=Math.max(r,Math.floor(t-s*l/c+h)),p=Math.min(n,Math.floor(t+(c-s)*l/c+h));p_(e,t,d,p,i)}const a=e[t];let o=r,u=n;for(pi(e,r,t),i(e[n],a)>0&&pi(e,r,n);o<u;){for(pi(e,o,u),++o,--u;i(e[o],a)<0;)++o;for(;i(e[u],a)>0;)--u}i(e[r],a)===0?pi(e,r,u):(++u,pi(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function pi(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Il(e,t,r){if(e=Float64Array.from(Z3(e,r)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return ys(e);if(t>=1)return Tr(e);var n,i=(n-1)*t,a=Math.floor(i),o=Tr(p_(e,a).subarray(0,a+1)),u=ys(e.subarray(a+1));return o+(u-o)*(i-a)}}function sP(e,t,r=f_){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),u=+r(e[a+1],a+1,e);return o+(u-o)*(i-a)}}function zp(e,t){return Il(e,.5,t)}function jl(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function gs(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}var uP={value:()=>{}};function y_(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Bo(r)}function Bo(e){this._=e}function cP(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Bo.prototype=y_.prototype={constructor:Bo,on:function(e,t){var r=this._,n=cP(e+"",r),i,a=-1,o=n.length;if(arguments.length<2){for(;++a<o;)if((i=(e=n[a]).type)&&(i=fP(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(e=n[a]).type)r[i]=qp(r[i],e.name,t);else if(t==null)for(i in r)r[i]=qp(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Bo(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,a;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],n=0,i=a.length;n<i;++n)a[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,a=n.length;i<a;++i)n[i].value.apply(t,r)}};function fP(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function qp(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=uP,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}function lP(e,t,r,n,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*r+(1+3*e+3*a-3*o)*n+o*i)/6}function hP(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],a=e[n+1],o=n>0?e[n-1]:2*i-a,u=n<t-1?e[n+2]:2*a-i;return lP((r-n/t)*t,o,i,a,u)}}const Xs=e=>()=>e;function g_(e,t){return function(r){return e+r*t}}function dP(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function bd(e,t){var r=t-e;return r?g_(e,r>180||r<-180?r-360*Math.round(r/360):r):Xs(isNaN(e)?t:e)}function vP(e){return(e=+e)==1?Ye:function(t,r){return r-t?dP(t,r,e):Xs(isNaN(t)?r:t)}}function Ye(e,t){var r=t-e;return r?g_(e,r):Xs(isNaN(e)?t:e)}const Zr=function e(t){var r=vP(t);function n(i,a){var o=r((i=ta(i)).r,(a=ta(a)).r),u=r(i.g,a.g),c=r(i.b,a.b),s=Ye(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=u(f),i.b=c(f),i.opacity=s(f),i+""}}return n.gamma=e,n}(1);function pP(e){return function(t){var r=t.length,n=new Array(r),i=new Array(r),a=new Array(r),o,u;for(o=0;o<r;++o)u=ta(t[o]),n[o]=u.r||0,i[o]=u.g||0,a[o]=u.b||0;return n=e(n),i=e(i),a=e(a),u.opacity=1,function(c){return u.r=n(c),u.g=i(c),u.b=a(c),u+""}}}var yP=pP(hP);function gP(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function mP(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function bP(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=$a(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(u){for(o=0;o<n;++o)a[o]=i[o](u);return a}}function _P(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function qe(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function $P(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=$a(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Ml=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_c=new RegExp(Ml.source,"g");function wP(e){return function(){return e}}function SP(e){return function(t){return e(t)+""}}function m_(e,t){var r=Ml.lastIndex=_c.lastIndex=0,n,i,a,o=-1,u=[],c=[];for(e=e+"",t=t+"";(n=Ml.exec(e))&&(i=_c.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),u[o]?u[o]+=a:u[++o]=a),(n=n[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,c.push({i:o,x:qe(n,i)})),r=_c.lastIndex;return r<t.length&&(a=t.slice(r),u[o]?u[o]+=a:u[++o]=a),u.length<2?c[0]?SP(c[0].x):wP(t):(t=c.length,function(s){for(var f=0,l;f<t;++f)u[(l=c[f]).i]=l.x(s);return u.join("")})}function $a(e,t){var r=typeof t,n;return t==null||r==="boolean"?Xs(t):(r==="number"?qe:r==="string"?(n=Qr(t))?(t=n,Zr):m_:t instanceof Qr?Zr:t instanceof Date?_P:mP(t)?gP:Array.isArray(t)?bP:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?$P:qe)(e,t)}function _d(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var Kp=180/Math.PI,kl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function b_(e,t,r,n,i,a){var o,u,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*r+t*n)&&(r-=e*c,n-=t*c),(u=Math.sqrt(r*r+n*n))&&(r/=u,n/=u,c/=u),e*n<t*r&&(e=-e,t=-t,c=-c,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*Kp,skewX:Math.atan(c)*Kp,scaleX:o,scaleY:u}}var Ja;function OP(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?kl:b_(t.a,t.b,t.c,t.d,t.e,t.f)}function EP(e){return e==null||(Ja||(Ja=document.createElementNS("http://www.w3.org/2000/svg","g")),Ja.setAttribute("transform",e),!(e=Ja.transform.baseVal.consolidate()))?kl:(e=e.matrix,b_(e.a,e.b,e.c,e.d,e.e,e.f))}function __(e,t,r,n){function i(s){return s.length?s.pop()+" ":""}function a(s,f,l,h,d,p){if(s!==l||f!==h){var v=d.push("translate(",null,t,null,r);p.push({i:v-4,x:qe(s,l)},{i:v-2,x:qe(f,h)})}else(l||h)&&d.push("translate("+l+t+h+r)}function o(s,f,l,h){s!==f?(s-f>180?f+=360:f-s>180&&(s+=360),h.push({i:l.push(i(l)+"rotate(",null,n)-2,x:qe(s,f)})):f&&l.push(i(l)+"rotate("+f+n)}function u(s,f,l,h){s!==f?h.push({i:l.push(i(l)+"skewX(",null,n)-2,x:qe(s,f)}):f&&l.push(i(l)+"skewX("+f+n)}function c(s,f,l,h,d,p){if(s!==l||f!==h){var v=d.push(i(d)+"scale(",null,",",null,")");p.push({i:v-4,x:qe(s,l)},{i:v-2,x:qe(f,h)})}else(l!==1||h!==1)&&d.push(i(d)+"scale("+l+","+h+")")}return function(s,f){var l=[],h=[];return s=e(s),f=e(f),a(s.translateX,s.translateY,f.translateX,f.translateY,l,h),o(s.rotate,f.rotate,l,h),u(s.skewX,f.skewX,l,h),c(s.scaleX,s.scaleY,f.scaleX,f.scaleY,l,h),s=f=null,function(d){for(var p=-1,v=h.length,b;++p<v;)l[(b=h[p]).i]=b.x(d);return l.join("")}}}var TP=__(OP,"px, ","px)","deg)"),xP=__(EP,", ",")",")");function PP(e){return function(t,r){var n=e((t=xl(t)).h,(r=xl(r)).h),i=Ye(t.s,r.s),a=Ye(t.l,r.l),o=Ye(t.opacity,r.opacity);return function(u){return t.h=n(u),t.s=i(u),t.l=a(u),t.opacity=o(u),t+""}}}const CP=PP(bd);function AP(e,t){var r=Ye((e=Pl(e)).l,(t=Pl(t)).l),n=Ye(e.a,t.a),i=Ye(e.b,t.b),a=Ye(e.opacity,t.opacity);return function(o){return e.l=r(o),e.a=n(o),e.b=i(o),e.opacity=a(o),e+""}}function RP(e){return function(t,r){var n=e((t=hs(t)).h,(r=hs(r)).h),i=Ye(t.c,r.c),a=Ye(t.l,r.l),o=Ye(t.opacity,r.opacity);return function(u){return t.h=n(u),t.c=i(u),t.l=a(u),t.opacity=o(u),t+""}}}const IP=RP(bd);function $_(e){return function t(r){r=+r;function n(i,a){var o=e((i=Lt(i)).h,(a=Lt(a)).h),u=Ye(i.s,a.s),c=Ye(i.l,a.l),s=Ye(i.opacity,a.opacity);return function(f){return i.h=o(f),i.s=u(f),i.l=c(Math.pow(f,r)),i.opacity=s(f),i+""}}return n.gamma=t,n}(1)}$_(bd);var $d=$_(Ye);function w_(e,t){t===void 0&&(t=e,e=$a);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var u=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[u](o-u)}}function Nt(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e(n/(t-1));return r}var qn=0,Mi=0,yi=0,S_=1e3,ms,ki,bs=0,en=0,Js=0,na=typeof performance=="object"&&performance.now?performance:Date,O_=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function wd(){return en||(O_(jP),en=na.now()+Js)}function jP(){en=0}function _s(){this._call=this._time=this._next=null}_s.prototype=E_.prototype={constructor:_s,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?wd():+r)+(t==null?0:+t),!this._next&&ki!==this&&(ki?ki._next=this:ms=this,ki=this),this._call=e,this._time=r,Dl()},stop:function(){this._call&&(this._call=null,this._time=1/0,Dl())}};function E_(e,t,r){var n=new _s;return n.restart(e,t,r),n}function MP(){wd(),++qn;for(var e=ms,t;e;)(t=en-e._time)>=0&&e._call.call(void 0,t),e=e._next;--qn}function Xp(){en=(bs=na.now())+Js,qn=Mi=0;try{MP()}finally{qn=0,DP(),en=0}}function kP(){var e=na.now(),t=e-bs;t>S_&&(Js-=t,bs=e)}function DP(){for(var e,t=ms,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:ms=r);ki=e,Dl(n)}function Dl(e){if(!qn){Mi&&(Mi=clearTimeout(Mi));var t=e-en;t>24?(e<1/0&&(Mi=setTimeout(Xp,e-na.now()-Js)),yi&&(yi=clearInterval(yi))):(yi||(bs=na.now(),yi=setInterval(kP,S_)),qn=1,O_(Xp))}}function Jp(e,t,r){var n=new _s;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var FP=y_("start","end","cancel","interrupt"),LP=[],T_=0,Qp=1,Fl=2,Wo=3,Zp=4,Ll=5,Ho=6;function Qs(e,t,r,n,i,a){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;NP(e,r,{name:t,index:n,group:i,on:FP,tween:LP,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:T_})}function Sd(e,t){var r=Et(e,t);if(r.state>T_)throw new Error("too late; already scheduled");return r}function Vt(e,t){var r=Et(e,t);if(r.state>Wo)throw new Error("too late; already running");return r}function Et(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function NP(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=E_(a,0,r.time);function a(s){r.state=Qp,r.timer.restart(o,r.delay,r.time),r.delay<=s&&o(s-r.delay)}function o(s){var f,l,h,d;if(r.state!==Qp)return c();for(f in n)if(d=n[f],d.name===r.name){if(d.state===Wo)return Jp(o);d.state===Zp?(d.state=Ho,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete n[f]):+f<t&&(d.state=Ho,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete n[f])}if(Jp(function(){r.state===Wo&&(r.state=Zp,r.timer.restart(u,r.delay,r.time),u(s))}),r.state=Fl,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Fl){for(r.state=Wo,i=new Array(h=r.tween.length),f=0,l=-1;f<h;++f)(d=r.tween[f].value.call(e,e.__data__,r.index,r.group))&&(i[++l]=d);i.length=l+1}}function u(s){for(var f=s<r.duration?r.ease.call(null,s/r.duration):(r.timer.restart(c),r.state=Ll,1),l=-1,h=i.length;++l<h;)i[l].call(e,f);r.state===Ll&&(r.on.call("end",e,e.__data__,r.index,r.group),c())}function c(){r.state=Ho,r.timer.stop(),delete n[t];for(var s in n)return;delete e.__transition}}function UP(e,t){var r=e.__transition,n,i,a=!0,o;if(r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){a=!1;continue}i=n.state>Fl&&n.state<Ll,n.state=Ho,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}a&&delete e.__transition}}function BP(e){return this.each(function(){UP(this,e)})}function WP(e,t){var r,n;return function(){var i=Vt(this,e),a=i.tween;if(a!==r){n=r=a;for(var o=0,u=n.length;o<u;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}i.tween=n}}function HP(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var a=Vt(this,e),o=a.tween;if(o!==n){i=(n=o).slice();for(var u={name:t,value:r},c=0,s=i.length;c<s;++c)if(i[c].name===t){i[c]=u;break}c===s&&i.push(u)}a.tween=i}}function YP(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Et(this.node(),r).tween,i=0,a=n.length,o;i<a;++i)if((o=n[i]).name===e)return o.value;return null}return this.each((t==null?WP:HP)(r,e,t))}function Od(e,t,r){var n=e._id;return e.each(function(){var i=Vt(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return Et(i,n).value[t]}}function x_(e,t){var r;return(typeof t=="number"?qe:t instanceof Qr?Zr:(r=Qr(t))?(t=r,Zr):m_)(e,t)}function VP(e){return function(){this.removeAttribute(e)}}function GP(e){return function(){this.removeAttributeNS(e.space,e.local)}}function zP(e,t,r){var n,i=r+"",a;return function(){var o=this.getAttribute(e);return o===i?null:o===n?a:a=t(n=o,r)}}function qP(e,t,r){var n,i=r+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===n?a:a=t(n=o,r)}}function KP(e,t,r){var n,i,a;return function(){var o,u=r(this),c;return u==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=u+"",o===c?null:o===n&&c===i?a:(i=c,a=t(n=o,u)))}}function XP(e,t,r){var n,i,a;return function(){var o,u=r(this),c;return u==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=u+"",o===c?null:o===n&&c===i?a:(i=c,a=t(n=o,u)))}}function JP(e,t){var r=zs(e),n=r==="transform"?xP:x_;return this.attrTween(e,typeof t=="function"?(r.local?XP:KP)(r,n,Od(this,"attr."+e,t)):t==null?(r.local?GP:VP)(r):(r.local?qP:zP)(r,n,t))}function QP(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function ZP(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function e6(e,t){var r,n;function i(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&ZP(e,a)),r}return i._value=t,i}function t6(e,t){var r,n;function i(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&QP(e,a)),r}return i._value=t,i}function r6(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=zs(e);return this.tween(r,(n.local?e6:t6)(n,t))}function n6(e,t){return function(){Sd(this,e).delay=+t.apply(this,arguments)}}function i6(e,t){return t=+t,function(){Sd(this,e).delay=t}}function a6(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?n6:i6)(t,e)):Et(this.node(),t).delay}function o6(e,t){return function(){Vt(this,e).duration=+t.apply(this,arguments)}}function s6(e,t){return t=+t,function(){Vt(this,e).duration=t}}function u6(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?o6:s6)(t,e)):Et(this.node(),t).duration}function c6(e,t){if(typeof t!="function")throw new Error;return function(){Vt(this,e).ease=t}}function f6(e){var t=this._id;return arguments.length?this.each(c6(t,e)):Et(this.node(),t).ease}function l6(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Vt(this,e).ease=r}}function h6(e){if(typeof e!="function")throw new Error;return this.each(l6(this._id,e))}function d6(e){typeof e!="function"&&(e=Hb(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],o=a.length,u=n[i]=[],c,s=0;s<o;++s)(c=a[s])&&e.call(c,c.__data__,s,a)&&u.push(c);return new or(n,this._parents,this._name,this._id)}function v6(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,a=Math.min(n,i),o=new Array(n),u=0;u<a;++u)for(var c=t[u],s=r[u],f=c.length,l=o[u]=new Array(f),h,d=0;d<f;++d)(h=c[d]||s[d])&&(l[d]=h);for(;u<n;++u)o[u]=t[u];return new or(o,this._parents,this._name,this._id)}function p6(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function y6(e,t,r){var n,i,a=p6(t)?Sd:Vt;return function(){var o=a(this,e),u=o.on;u!==n&&(i=(n=u).copy()).on(t,r),o.on=i}}function g6(e,t){var r=this._id;return arguments.length<2?Et(this.node(),r).on.on(e):this.each(y6(r,e,t))}function m6(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function b6(){return this.on("end.remove",m6(this._id))}function _6(e){var t=this._name,r=this._id;typeof e!="function"&&(e=ld(e));for(var n=this._groups,i=n.length,a=new Array(i),o=0;o<i;++o)for(var u=n[o],c=u.length,s=a[o]=new Array(c),f,l,h=0;h<c;++h)(f=u[h])&&(l=e.call(f,f.__data__,h,u))&&("__data__"in f&&(l.__data__=f.__data__),s[h]=l,Qs(s[h],t,r,h,s,Et(f,r)));return new or(a,this._parents,t,r)}function $6(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Wb(e));for(var n=this._groups,i=n.length,a=[],o=[],u=0;u<i;++u)for(var c=n[u],s=c.length,f,l=0;l<s;++l)if(f=c[l]){for(var h=e.call(f,f.__data__,l,c),d,p=Et(f,r),v=0,b=h.length;v<b;++v)(d=h[v])&&Qs(d,t,r,v,h,p);a.push(h),o.push(f)}return new or(a,o,t,r)}var w6=ba.prototype.constructor;function S6(){return new w6(this._groups,this._parents)}function O6(e,t){var r,n,i;return function(){var a=Gn(this,e),o=(this.style.removeProperty(e),Gn(this,e));return a===o?null:a===r&&o===n?i:i=t(r=a,n=o)}}function P_(e){return function(){this.style.removeProperty(e)}}function E6(e,t,r){var n,i=r+"",a;return function(){var o=Gn(this,e);return o===i?null:o===n?a:a=t(n=o,r)}}function T6(e,t,r){var n,i,a;return function(){var o=Gn(this,e),u=r(this),c=u+"";return u==null&&(c=u=(this.style.removeProperty(e),Gn(this,e))),o===c?null:o===n&&c===i?a:(i=c,a=t(n=o,u))}}function x6(e,t){var r,n,i,a="style."+t,o="end."+a,u;return function(){var c=Vt(this,e),s=c.on,f=c.value[a]==null?u||(u=P_(t)):void 0;(s!==r||i!==f)&&(n=(r=s).copy()).on(o,i=f),c.on=n}}function P6(e,t,r){var n=(e+="")=="transform"?TP:x_;return t==null?this.styleTween(e,O6(e,n)).on("end.style."+e,P_(e)):typeof t=="function"?this.styleTween(e,T6(e,n,Od(this,"style."+e,t))).each(x6(this._id,e)):this.styleTween(e,E6(e,n,t),r).on("end.style."+e,null)}function C6(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function A6(e,t,r){var n,i;function a(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&C6(e,o,r)),n}return a._value=t,a}function R6(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,A6(e,t,r??""))}function I6(e){return function(){this.textContent=e}}function j6(e){return function(){var t=e(this);this.textContent=t??""}}function M6(e){return this.tween("text",typeof e=="function"?j6(Od(this,"text",e)):I6(e==null?"":e+""))}function k6(e){return function(t){this.textContent=e.call(this,t)}}function D6(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&k6(i)),t}return n._value=e,n}function F6(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,D6(e))}function L6(){for(var e=this._name,t=this._id,r=C_(),n=this._groups,i=n.length,a=0;a<i;++a)for(var o=n[a],u=o.length,c,s=0;s<u;++s)if(c=o[s]){var f=Et(c,t);Qs(c,e,r,s,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new or(n,this._parents,e,r)}function N6(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(a,o){var u={value:o},c={value:function(){--i===0&&a()}};r.each(function(){var s=Vt(this,n),f=s.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(c)),s.on=t}),i===0&&a()})}var U6=0;function or(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function C_(){return++U6}var Jt=ba.prototype;or.prototype={constructor:or,select:_6,selectAll:$6,selectChild:Jt.selectChild,selectChildren:Jt.selectChildren,filter:d6,merge:v6,selection:S6,transition:L6,call:Jt.call,nodes:Jt.nodes,node:Jt.node,size:Jt.size,empty:Jt.empty,each:Jt.each,on:g6,attr:JP,attrTween:r6,style:P6,styleTween:R6,text:M6,textTween:F6,remove:b6,tween:YP,delay:a6,duration:u6,ease:f6,easeVarying:h6,end:N6,[Symbol.iterator]:Jt[Symbol.iterator]};function B6(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var W6={time:null,delay:0,duration:250,ease:B6};function H6(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function Y6(e){var t,r;e instanceof or?(t=e._id,e=e._name):(t=C_(),(r=W6).time=wd(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,a=0;a<i;++a)for(var o=n[a],u=o.length,c,s=0;s<u;++s)(c=o[s])&&Qs(c,e,t,s,o,r||H6(c,t));return new or(n,this._parents,e,t)}ba.prototype.interrupt=BP;ba.prototype.transition=Y6;var ey={},$c={},wc=34,gi=10,Sc=13;function A_(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+'] || ""'}).join(",")+"}")}function V6(e,t){var r=A_(e);return function(n,i){return t(r(n),i,e)}}function ty(e){var t=Object.create(null),r=[];return e.forEach(function(n){for(var i in n)i in t||r.push(t[i]=i)}),r}function Qe(e,t){var r=e+"",n=r.length;return n<t?new Array(t-n+1).join(0)+r:r}function G6(e){return e<0?"-"+Qe(-e,6):e>9999?"+"+Qe(e,6):Qe(e,4)}function z6(e){var t=e.getUTCHours(),r=e.getUTCMinutes(),n=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":G6(e.getUTCFullYear())+"-"+Qe(e.getUTCMonth()+1,2)+"-"+Qe(e.getUTCDate(),2)+(i?"T"+Qe(t,2)+":"+Qe(r,2)+":"+Qe(n,2)+"."+Qe(i,3)+"Z":n?"T"+Qe(t,2)+":"+Qe(r,2)+":"+Qe(n,2)+"Z":r||t?"T"+Qe(t,2)+":"+Qe(r,2)+"Z":"")}function R_(e){var t=new RegExp('["'+e+`
\r]`),r=e.charCodeAt(0);function n(l,h){var d,p,v=i(l,function(b,y){if(d)return d(b,y-1);p=b,d=h?V6(b,h):A_(b)});return v.columns=p||[],v}function i(l,h){var d=[],p=l.length,v=0,b=0,y,m=p<=0,$=!1;l.charCodeAt(p-1)===gi&&--p,l.charCodeAt(p-1)===Sc&&--p;function T(){if(m)return $c;if($)return $=!1,ey;var C,U=v,G;if(l.charCodeAt(U)===wc){for(;v++<p&&l.charCodeAt(v)!==wc||l.charCodeAt(++v)===wc;);return(C=v)>=p?m=!0:(G=l.charCodeAt(v++))===gi?$=!0:G===Sc&&($=!0,l.charCodeAt(v)===gi&&++v),l.slice(U+1,C-1).replace(/""/g,'"')}for(;v<p;){if((G=l.charCodeAt(C=v++))===gi)$=!0;else if(G===Sc)$=!0,l.charCodeAt(v)===gi&&++v;else if(G!==r)continue;return l.slice(U,C)}return m=!0,l.slice(U,p)}for(;(y=T())!==$c;){for(var I=[];y!==ey&&y!==$c;)I.push(y),y=T();h&&(I=h(I,b++))==null||d.push(I)}return d}function a(l,h){return l.map(function(d){return h.map(function(p){return f(d[p])}).join(e)})}function o(l,h){return h==null&&(h=ty(l)),[h.map(f).join(e)].concat(a(l,h)).join(`
`)}function u(l,h){return h==null&&(h=ty(l)),a(l,h).join(`
`)}function c(l){return l.map(s).join(`
`)}function s(l){return l.map(f).join(e)}function f(l){return l==null?"":l instanceof Date?z6(l):t.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l}return{parse:n,parseRows:i,format:o,formatBody:u,formatRows:c,formatRow:s,formatValue:f}}var q6=R_(","),K6=q6.parse;function X6(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function Ed(e,t){return fetch(e,t).then(X6)}function J6(e){return function(t,r,n){return arguments.length===2&&typeof r=="function"&&(n=r,r=void 0),Ed(t,r).then(function(i){return e(i,n)})}}function Q6(e,t,r,n){arguments.length===3&&typeof r=="function"&&(n=r,r=void 0);var i=R_(e);return Ed(t,r).then(function(a){return i.parse(a,n)})}var Z6=J6(K6);function eC(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function tC(e,t){return fetch(e,t).then(eC)}function rC(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function $s(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Kn(e){return e=$s(Math.abs(e)),e?e[1]:NaN}function nC(e,t){return function(r,n){for(var i=r.length,a=[],o=0,u=e[0],c=0;i>0&&u>0&&(c+u+1>n&&(u=Math.max(1,n-c)),a.push(r.substring(i-=u,i+u)),!((c+=u+1)>n));)u=e[o=(o+1)%e.length];return a.reverse().join(t)}}function iC(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var aC=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ia(e){if(!(t=aC.exec(e)))throw new Error("invalid format: "+e);var t;return new Td({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ia.prototype=Td.prototype;function Td(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Td.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function oC(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var I_;function sC(e,t){var r=$s(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(I_=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+$s(e,Math.max(0,t+a-1))[0]}function ry(e,t){var r=$s(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const ny={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:rC,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ry(e*100,t),r:ry,s:sC,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function iy(e){return e}var ay=Array.prototype.map,oy=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function uC(e){var t=e.grouping===void 0||e.thousands===void 0?iy:nC(ay.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?iy:iC(ay.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function s(l){l=ia(l);var h=l.fill,d=l.align,p=l.sign,v=l.symbol,b=l.zero,y=l.width,m=l.comma,$=l.precision,T=l.trim,I=l.type;I==="n"?(m=!0,I="g"):ny[I]||($===void 0&&($=12),T=!0,I="g"),(b||h==="0"&&d==="=")&&(b=!0,h="0",d="=");var C=v==="$"?r:v==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",U=v==="$"?n:/[%p]/.test(I)?o:"",G=ny[I],z=/[defgprs%]/.test(I);$=$===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,$)):Math.max(0,Math.min(20,$));function F(j){var k=C,B=U,A,L,W;if(I==="c")B=G(j)+B,j="";else{j=+j;var V=j<0||1/j<0;if(j=isNaN(j)?c:G(Math.abs(j),$),T&&(j=oC(j)),V&&+j==0&&p!=="+"&&(V=!1),k=(V?p==="("?p:u:p==="-"||p==="("?"":p)+k,B=(I==="s"?oy[8+I_/3]:"")+B+(V&&p==="("?")":""),z){for(A=-1,L=j.length;++A<L;)if(W=j.charCodeAt(A),48>W||W>57){B=(W===46?i+j.slice(A+1):j.slice(A))+B,j=j.slice(0,A);break}}}m&&!b&&(j=t(j,1/0));var S=k.length+j.length+B.length,w=S<y?new Array(y-S+1).join(h):"";switch(m&&b&&(j=t(w+j,w.length?y-B.length:1/0),w=""),d){case"<":j=k+j+B+w;break;case"=":j=k+w+j+B;break;case"^":j=w.slice(0,S=w.length>>1)+k+j+B+w.slice(S);break;default:j=w+k+j+B;break}return a(j)}return F.toString=function(){return l+""},F}function f(l,h){var d=s((l=ia(l),l.type="f",l)),p=Math.max(-8,Math.min(8,Math.floor(Kn(h)/3)))*3,v=Math.pow(10,-p),b=oy[8+p/3];return function(y){return d(v*y)+b}}return{format:s,formatPrefix:f}}var Qa,xd,j_;cC({thousands:",",grouping:[3],currency:["$",""]});function cC(e){return Qa=uC(e),xd=Qa.format,j_=Qa.formatPrefix,Qa}function fC(e){return Math.max(0,-Kn(Math.abs(e)))}function lC(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Kn(t)/3)))*3-Kn(Math.abs(e)))}function hC(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Kn(t)-Kn(e))+1}function Gt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Zs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Nl=Symbol("implicit");function Pd(){var e=new Gp,t=[],r=[],n=Nl;function i(a){let o=e.get(a);if(o===void 0){if(n!==Nl)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Gp;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Pd(t,r).unknown(n)},Gt.apply(i,arguments),i}function Cd(){var e=Pd().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,u=!1,c=0,s=0,f=.5;delete e.unknown;function l(){var h=t().length,d=i<n,p=d?i:n,v=d?n:i;a=(v-p)/Math.max(1,h-c+s*2),u&&(a=Math.floor(a)),p+=(v-p-a*(h-c))*f,o=a*(1-c),u&&(p=Math.round(p),o=Math.round(o));var b=jl(h).map(function(y){return p+a*y});return r(d?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),l()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,l()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,u=!0,l()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(u=!!h,l()):u},e.padding=function(h){return arguments.length?(c=Math.min(1,s=+h),l()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),l()):c},e.paddingOuter=function(h){return arguments.length?(s=+h,l()):s},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),l()):f},e.copy=function(){return Cd(t(),[n,i]).round(u).paddingInner(c).paddingOuter(s).align(f)},Gt.apply(l(),arguments)}function M_(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return M_(t())},e}function dC(){return M_(Cd.apply(null,arguments).paddingInner(1))}function vC(e){return function(){return e}}function Ul(e){return+e}var sy=[0,1];function ht(e){return e}function Bl(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:vC(isNaN(t)?NaN:.5)}function pC(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function yC(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=Bl(i,n),a=r(o,a)):(n=Bl(n,i),a=r(a,o)),function(u){return a(n(u))}}function gC(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=Bl(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(u){var c=gd(e,u,1,n)-1;return a[c](i[c](u))}}function wa(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function eu(){var e=sy,t=sy,r=$a,n,i,a,o=ht,u,c,s;function f(){var h=Math.min(e.length,t.length);return o!==ht&&(o=pC(e[0],e[h-1])),u=h>2?gC:yC,c=s=null,l}function l(h){return h==null||isNaN(h=+h)?a:(c||(c=u(e.map(n),t,r)))(n(o(h)))}return l.invert=function(h){return o(i((s||(s=u(t,e.map(n),qe)))(h)))},l.domain=function(h){return arguments.length?(e=Array.from(h,Ul),f()):e.slice()},l.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},l.rangeRound=function(h){return t=Array.from(h),r=_d,f()},l.clamp=function(h){return arguments.length?(o=h?!0:ht,f()):o!==ht},l.interpolate=function(h){return arguments.length?(r=h,f()):r},l.unknown=function(h){return arguments.length?(a=h,l):a},function(h,d){return n=h,i=d,f()}}function k_(){return eu()(ht,ht)}function mC(e,t,r,n){var i=Rl(e,t,r),a;switch(n=ia(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=lC(i,o))&&(n.precision=a),j_(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=hC(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=fC(i))&&(n.precision=a-(n.type==="%")*2);break}}return xd(n)}function Sa(e){var t=e.domain;return e.ticks=function(r){var n=t();return ps(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return mC(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],u=n[a],c,s,f=10;for(u<o&&(s=o,o=u,u=s,s=i,i=a,a=s);f-- >0;){if(s=Al(o,u,r),s===c)return n[i]=o,n[a]=u,t(n);if(s>0)o=Math.floor(o/s)*s,u=Math.ceil(u/s)*s;else if(s<0)o=Math.ceil(o*s)/s,u=Math.floor(u*s)/s;else break;c=s}return e},e}function D_(){var e=k_();return e.copy=function(){return wa(e,D_())},Gt.apply(e,arguments),Sa(e)}function F_(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Ul),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return F_(e).unknown(t)},e=arguments.length?Array.from(e,Ul):[0,1],Sa(r)}function L_(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function uy(e){return Math.log(e)}function cy(e){return Math.exp(e)}function bC(e){return-Math.log(-e)}function _C(e){return-Math.exp(-e)}function $C(e){return isFinite(e)?+("1e"+e):e<0?0:e}function wC(e){return e===10?$C:e===Math.E?Math.exp:t=>Math.pow(e,t)}function SC(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function fy(e){return(t,r)=>-e(-t,r)}function N_(e){const t=e(uy,cy),r=t.domain;let n=10,i,a;function o(){return i=SC(n),a=wC(n),r()[0]<0?(i=fy(i),a=fy(a),e(bC,_C)):e(uy,cy),t}return t.base=function(u){return arguments.length?(n=+u,o()):n},t.domain=function(u){return arguments.length?(r(u),o()):r()},t.ticks=u=>{const c=r();let s=c[0],f=c[c.length-1];const l=f<s;l&&([s,f]=[f,s]);let h=i(s),d=i(f),p,v;const b=u==null?10:+u;let y=[];if(!(n%1)&&d-h<b){if(h=Math.floor(h),d=Math.ceil(d),s>0){for(;h<=d;++h)for(p=1;p<n;++p)if(v=h<0?p/a(-h):p*a(h),!(v<s)){if(v>f)break;y.push(v)}}else for(;h<=d;++h)for(p=n-1;p>=1;--p)if(v=h>0?p/a(-h):p*a(h),!(v<s)){if(v>f)break;y.push(v)}y.length*2<b&&(y=ps(s,f,b))}else y=ps(h,d,Math.min(d-h,b)).map(a);return l?y.reverse():y},t.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=ia(c)).precision==null&&(c.trim=!0),c=xd(c)),u===1/0)return c;const s=Math.max(1,n*u/t.ticks().length);return f=>{let l=f/a(Math.round(i(f)));return l*n<n-.5&&(l*=n),l<=s?c(f):""}},t.nice=()=>r(L_(r(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),t}function U_(){const e=N_(eu()).domain([1,10]);return e.copy=()=>wa(e,U_()).base(e.base()),Gt.apply(e,arguments),e}function ly(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function hy(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function B_(e){var t=1,r=e(ly(t),hy(t));return r.constant=function(n){return arguments.length?e(ly(t=+n),hy(t)):t},Sa(r)}function W_(){var e=B_(eu());return e.copy=function(){return wa(e,W_()).constant(e.constant())},Gt.apply(e,arguments)}function dy(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function OC(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function EC(e){return e<0?-e*e:e*e}function H_(e){var t=e(ht,ht),r=1;function n(){return r===1?e(ht,ht):r===.5?e(OC,EC):e(dy(r),dy(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Sa(t)}function Y_(){var e=H_(eu());return e.copy=function(){return wa(e,Y_()).exponent(e.exponent())},Gt.apply(e,arguments),e}function V_(){var e=[],t=[],r=[],n;function i(){var o=0,u=Math.max(1,t.length);for(r=new Array(u-1);++o<u;)r[o-1]=sP(e,o/u);return a}function a(o){return o==null||isNaN(o=+o)?n:t[gd(r,o)]}return a.invertExtent=function(o){var u=t.indexOf(o);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let u of o)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Er),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return V_().domain(e).range(t).unknown(n)},Gt.apply(a,arguments)}function G_(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[gd(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return G_().domain(e).range(t).unknown(r)},Gt.apply(i,arguments)}const Oc=new Date,Ec=new Date;function Ae(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),u=i.ceil(a);return a-o<u-a?o:u},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,u)=>{const c=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<o)||!(u>0))return c;let s;do c.push(s=new Date(+a)),t(a,u),e(a);while(s<a&&a<o);return c},i.filter=a=>Ae(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;t(o,-1),!a(o););else for(;--u>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(Oc.setTime(+a),Ec.setTime(+o),e(Oc),e(Ec),Math.floor(r(Oc,Ec))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const ws=Ae(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ws.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ae(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ws);ws.range;const tr=1e3,dt=tr*60,rr=dt*60,sr=rr*24,Ad=sr*7,vy=sr*30,Tc=sr*365,nr=Ae(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*tr)},(e,t)=>(t-e)/tr,e=>e.getUTCSeconds());nr.range;const tu=Ae(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*tr)},(e,t)=>{e.setTime(+e+t*dt)},(e,t)=>(t-e)/dt,e=>e.getMinutes());tu.range;const ru=Ae(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*dt)},(e,t)=>(t-e)/dt,e=>e.getUTCMinutes());ru.range;const nu=Ae(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*tr-e.getMinutes()*dt)},(e,t)=>{e.setTime(+e+t*rr)},(e,t)=>(t-e)/rr,e=>e.getHours());nu.range;const iu=Ae(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*rr)},(e,t)=>(t-e)/rr,e=>e.getUTCHours());iu.range;const oi=Ae(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*dt)/sr,e=>e.getDate()-1);oi.range;const Oa=Ae(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/sr,e=>e.getUTCDate()-1);Oa.range;const z_=Ae(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/sr,e=>Math.floor(e/sr));z_.range;function ln(e){return Ae(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*dt)/Ad)}const Xn=ln(0),aa=ln(1),q_=ln(2),K_=ln(3),tn=ln(4),X_=ln(5),J_=ln(6);Xn.range;aa.range;q_.range;K_.range;tn.range;X_.range;J_.range;function hn(e){return Ae(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Ad)}const Jn=hn(0),oa=hn(1),Q_=hn(2),Z_=hn(3),rn=hn(4),e$=hn(5),t$=hn(6);Jn.range;oa.range;Q_.range;Z_.range;rn.range;e$.range;t$.range;const Wn=Ae(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Wn.range;const Hn=Ae(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Hn.range;const Ut=Ae(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ut.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ae(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ut.range;const Bt=Ae(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Bt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ae(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Bt.range;function r$(e,t,r,n,i,a){const o=[[nr,1,tr],[nr,5,5*tr],[nr,15,15*tr],[nr,30,30*tr],[a,1,dt],[a,5,5*dt],[a,15,15*dt],[a,30,30*dt],[i,1,rr],[i,3,3*rr],[i,6,6*rr],[i,12,12*rr],[n,1,sr],[n,2,2*sr],[r,1,Ad],[t,1,vy],[t,3,3*vy],[e,1,Tc]];function u(s,f,l){const h=f<s;h&&([s,f]=[f,s]);const d=l&&typeof l.range=="function"?l:c(s,f,l),p=d?d.range(s,+f+1):[];return h?p.reverse():p}function c(s,f,l){const h=Math.abs(f-s)/l,d=yd(([,,b])=>b).right(o,h);if(d===o.length)return e.every(Rl(s/Tc,f/Tc,l));if(d===0)return ws.every(Math.max(Rl(s,f,l),1));const[p,v]=o[h/o[d-1][2]<o[d][2]/h?d-1:d];return p.every(v)}return[u,c]}const[TC,xC]=r$(Bt,Hn,Jn,z_,iu,ru),[PC,CC]=r$(Ut,Wn,Xn,oi,nu,tu);function xc(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Pc(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function mi(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function AC(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,u=e.months,c=e.shortMonths,s=bi(i),f=_i(i),l=bi(a),h=_i(a),d=bi(o),p=_i(o),v=bi(u),b=_i(u),y=bi(c),m=_i(c),$={a:V,A:S,b:w,B:O,c:null,d:_y,e:_y,f:ZC,g:c8,G:l8,H:XC,I:JC,j:QC,L:n$,m:e8,M:t8,p:P,q:M,Q:Sy,s:Oy,S:r8,u:n8,U:i8,V:a8,w:o8,W:s8,x:null,X:null,y:u8,Y:f8,Z:h8,"%":wy},T={a:x,A:D,b:H,B:Y,c:null,d:$y,e:$y,f:y8,g:T8,G:P8,H:d8,I:v8,j:p8,L:a$,m:g8,M:m8,p:K,q:g,Q:Sy,s:Oy,S:b8,u:_8,U:$8,V:w8,w:S8,W:O8,x:null,X:null,y:E8,Y:x8,Z:C8,"%":wy},I={a:F,A:j,b:k,B,c:A,d:my,e:my,f:GC,g:gy,G:yy,H:by,I:by,j:WC,L:VC,m:BC,M:HC,p:z,q:UC,Q:qC,s:KC,S:YC,u:kC,U:DC,V:FC,w:MC,W:LC,x:L,X:W,y:gy,Y:yy,Z:NC,"%":zC};$.x=C(r,$),$.X=C(n,$),$.c=C(t,$),T.x=C(r,T),T.X=C(n,T),T.c=C(t,T);function C(_,E){return function(N){var R=[],q=-1,J=0,Z=_.length,re,ce,ae;for(N instanceof Date||(N=new Date(+N));++q<Z;)_.charCodeAt(q)===37&&(R.push(_.slice(J,q)),(ce=py[re=_.charAt(++q)])!=null?re=_.charAt(++q):ce=re==="e"?" ":"0",(ae=E[re])&&(re=ae(N,ce)),R.push(re),J=q+1);return R.push(_.slice(J,q)),R.join("")}}function U(_,E){return function(N){var R=mi(1900,void 0,1),q=G(R,_,N+="",0),J,Z;if(q!=N.length)return null;if("Q"in R)return new Date(R.Q);if("s"in R)return new Date(R.s*1e3+("L"in R?R.L:0));if(E&&!("Z"in R)&&(R.Z=0),"p"in R&&(R.H=R.H%12+R.p*12),R.m===void 0&&(R.m="q"in R?R.q:0),"V"in R){if(R.V<1||R.V>53)return null;"w"in R||(R.w=1),"Z"in R?(J=Pc(mi(R.y,0,1)),Z=J.getUTCDay(),J=Z>4||Z===0?oa.ceil(J):oa(J),J=Oa.offset(J,(R.V-1)*7),R.y=J.getUTCFullYear(),R.m=J.getUTCMonth(),R.d=J.getUTCDate()+(R.w+6)%7):(J=xc(mi(R.y,0,1)),Z=J.getDay(),J=Z>4||Z===0?aa.ceil(J):aa(J),J=oi.offset(J,(R.V-1)*7),R.y=J.getFullYear(),R.m=J.getMonth(),R.d=J.getDate()+(R.w+6)%7)}else("W"in R||"U"in R)&&("w"in R||(R.w="u"in R?R.u%7:"W"in R?1:0),Z="Z"in R?Pc(mi(R.y,0,1)).getUTCDay():xc(mi(R.y,0,1)).getDay(),R.m=0,R.d="W"in R?(R.w+6)%7+R.W*7-(Z+5)%7:R.w+R.U*7-(Z+6)%7);return"Z"in R?(R.H+=R.Z/100|0,R.M+=R.Z%100,Pc(R)):xc(R)}}function G(_,E,N,R){for(var q=0,J=E.length,Z=N.length,re,ce;q<J;){if(R>=Z)return-1;if(re=E.charCodeAt(q++),re===37){if(re=E.charAt(q++),ce=I[re in py?E.charAt(q++):re],!ce||(R=ce(_,N,R))<0)return-1}else if(re!=N.charCodeAt(R++))return-1}return R}function z(_,E,N){var R=s.exec(E.slice(N));return R?(_.p=f.get(R[0].toLowerCase()),N+R[0].length):-1}function F(_,E,N){var R=d.exec(E.slice(N));return R?(_.w=p.get(R[0].toLowerCase()),N+R[0].length):-1}function j(_,E,N){var R=l.exec(E.slice(N));return R?(_.w=h.get(R[0].toLowerCase()),N+R[0].length):-1}function k(_,E,N){var R=y.exec(E.slice(N));return R?(_.m=m.get(R[0].toLowerCase()),N+R[0].length):-1}function B(_,E,N){var R=v.exec(E.slice(N));return R?(_.m=b.get(R[0].toLowerCase()),N+R[0].length):-1}function A(_,E,N){return G(_,t,E,N)}function L(_,E,N){return G(_,r,E,N)}function W(_,E,N){return G(_,n,E,N)}function V(_){return o[_.getDay()]}function S(_){return a[_.getDay()]}function w(_){return c[_.getMonth()]}function O(_){return u[_.getMonth()]}function P(_){return i[+(_.getHours()>=12)]}function M(_){return 1+~~(_.getMonth()/3)}function x(_){return o[_.getUTCDay()]}function D(_){return a[_.getUTCDay()]}function H(_){return c[_.getUTCMonth()]}function Y(_){return u[_.getUTCMonth()]}function K(_){return i[+(_.getUTCHours()>=12)]}function g(_){return 1+~~(_.getUTCMonth()/3)}return{format:function(_){var E=C(_+="",$);return E.toString=function(){return _},E},parse:function(_){var E=U(_+="",!1);return E.toString=function(){return _},E},utcFormat:function(_){var E=C(_+="",T);return E.toString=function(){return _},E},utcParse:function(_){var E=U(_+="",!0);return E.toString=function(){return _},E}}}var py={"-":"",_:" ",0:"0"},Fe=/^\s*\d+/,RC=/^%/,IC=/[\\^$*+?|[\]().{}]/g;function fe(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function jC(e){return e.replace(IC,"\\$&")}function bi(e){return new RegExp("^(?:"+e.map(jC).join("|")+")","i")}function _i(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function MC(e,t,r){var n=Fe.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function kC(e,t,r){var n=Fe.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function DC(e,t,r){var n=Fe.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function FC(e,t,r){var n=Fe.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function LC(e,t,r){var n=Fe.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function yy(e,t,r){var n=Fe.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function gy(e,t,r){var n=Fe.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function NC(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function UC(e,t,r){var n=Fe.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function BC(e,t,r){var n=Fe.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function my(e,t,r){var n=Fe.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function WC(e,t,r){var n=Fe.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function by(e,t,r){var n=Fe.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function HC(e,t,r){var n=Fe.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function YC(e,t,r){var n=Fe.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function VC(e,t,r){var n=Fe.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function GC(e,t,r){var n=Fe.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function zC(e,t,r){var n=RC.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function qC(e,t,r){var n=Fe.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function KC(e,t,r){var n=Fe.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function _y(e,t){return fe(e.getDate(),t,2)}function XC(e,t){return fe(e.getHours(),t,2)}function JC(e,t){return fe(e.getHours()%12||12,t,2)}function QC(e,t){return fe(1+oi.count(Ut(e),e),t,3)}function n$(e,t){return fe(e.getMilliseconds(),t,3)}function ZC(e,t){return n$(e,t)+"000"}function e8(e,t){return fe(e.getMonth()+1,t,2)}function t8(e,t){return fe(e.getMinutes(),t,2)}function r8(e,t){return fe(e.getSeconds(),t,2)}function n8(e){var t=e.getDay();return t===0?7:t}function i8(e,t){return fe(Xn.count(Ut(e)-1,e),t,2)}function i$(e){var t=e.getDay();return t>=4||t===0?tn(e):tn.ceil(e)}function a8(e,t){return e=i$(e),fe(tn.count(Ut(e),e)+(Ut(e).getDay()===4),t,2)}function o8(e){return e.getDay()}function s8(e,t){return fe(aa.count(Ut(e)-1,e),t,2)}function u8(e,t){return fe(e.getFullYear()%100,t,2)}function c8(e,t){return e=i$(e),fe(e.getFullYear()%100,t,2)}function f8(e,t){return fe(e.getFullYear()%1e4,t,4)}function l8(e,t){var r=e.getDay();return e=r>=4||r===0?tn(e):tn.ceil(e),fe(e.getFullYear()%1e4,t,4)}function h8(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+fe(t/60|0,"0",2)+fe(t%60,"0",2)}function $y(e,t){return fe(e.getUTCDate(),t,2)}function d8(e,t){return fe(e.getUTCHours(),t,2)}function v8(e,t){return fe(e.getUTCHours()%12||12,t,2)}function p8(e,t){return fe(1+Oa.count(Bt(e),e),t,3)}function a$(e,t){return fe(e.getUTCMilliseconds(),t,3)}function y8(e,t){return a$(e,t)+"000"}function g8(e,t){return fe(e.getUTCMonth()+1,t,2)}function m8(e,t){return fe(e.getUTCMinutes(),t,2)}function b8(e,t){return fe(e.getUTCSeconds(),t,2)}function _8(e){var t=e.getUTCDay();return t===0?7:t}function $8(e,t){return fe(Jn.count(Bt(e)-1,e),t,2)}function o$(e){var t=e.getUTCDay();return t>=4||t===0?rn(e):rn.ceil(e)}function w8(e,t){return e=o$(e),fe(rn.count(Bt(e),e)+(Bt(e).getUTCDay()===4),t,2)}function S8(e){return e.getUTCDay()}function O8(e,t){return fe(oa.count(Bt(e)-1,e),t,2)}function E8(e,t){return fe(e.getUTCFullYear()%100,t,2)}function T8(e,t){return e=o$(e),fe(e.getUTCFullYear()%100,t,2)}function x8(e,t){return fe(e.getUTCFullYear()%1e4,t,4)}function P8(e,t){var r=e.getUTCDay();return e=r>=4||r===0?rn(e):rn.ceil(e),fe(e.getUTCFullYear()%1e4,t,4)}function C8(){return"+0000"}function wy(){return"%"}function Sy(e){return+e}function Oy(e){return Math.floor(+e/1e3)}var wn,s$,u$;A8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function A8(e){return wn=AC(e),s$=wn.format,wn.parse,u$=wn.utcFormat,wn.utcParse,wn}function R8(e){return new Date(e)}function I8(e){return e instanceof Date?+e:+new Date(+e)}function Rd(e,t,r,n,i,a,o,u,c,s){var f=k_(),l=f.invert,h=f.domain,d=s(".%L"),p=s(":%S"),v=s("%I:%M"),b=s("%I %p"),y=s("%a %d"),m=s("%b %d"),$=s("%B"),T=s("%Y");function I(C){return(c(C)<C?d:u(C)<C?p:o(C)<C?v:a(C)<C?b:n(C)<C?i(C)<C?y:m:r(C)<C?$:T)(C)}return f.invert=function(C){return new Date(l(C))},f.domain=function(C){return arguments.length?h(Array.from(C,I8)):h().map(R8)},f.ticks=function(C){var U=h();return e(U[0],U[U.length-1],C??10)},f.tickFormat=function(C,U){return U==null?I:s(U)},f.nice=function(C){var U=h();return(!C||typeof C.range!="function")&&(C=t(U[0],U[U.length-1],C??10)),C?h(L_(U,C)):f},f.copy=function(){return wa(f,Rd(e,t,r,n,i,a,o,u,c,s))},f}function j8(){return Gt.apply(Rd(PC,CC,Ut,Wn,Xn,oi,nu,tu,nr,s$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function M8(){return Gt.apply(Rd(TC,xC,Bt,Hn,Jn,Oa,iu,ru,nr,u$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function au(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ou(){var e=0,t=.5,r=1,n=1,i,a,o,u,c,s=ht,f,l=!1,h;function d(v){return isNaN(v=+v)?h:(v=.5+((v=+f(v))-a)*(n*v<n*a?u:c),s(l?Math.max(0,Math.min(1,v)):v))}d.domain=function(v){return arguments.length?([e,t,r]=v,i=f(e=+e),a=f(t=+t),o=f(r=+r),u=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,d):[e,t,r]},d.clamp=function(v){return arguments.length?(l=!!v,d):l},d.interpolator=function(v){return arguments.length?(s=v,d):s};function p(v){return function(b){var y,m,$;return arguments.length?([y,m,$]=b,s=w_(v,[y,m,$]),d):[s(0),s(.5),s(1)]}}return d.range=p($a),d.rangeRound=p(_d),d.unknown=function(v){return arguments.length?(h=v,d):h},function(v){return f=v,i=v(e),a=v(t),o=v(r),u=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,d}}function c$(){var e=Sa(ou()(ht));return e.copy=function(){return au(e,c$())},Zs.apply(e,arguments)}function f$(){var e=N_(ou()).domain([.1,1,10]);return e.copy=function(){return au(e,f$()).base(e.base())},Zs.apply(e,arguments)}function l$(){var e=B_(ou());return e.copy=function(){return au(e,l$()).constant(e.constant())},Zs.apply(e,arguments)}function h$(){var e=H_(ou());return e.copy=function(){return au(e,h$()).exponent(e.exponent())},Zs.apply(e,arguments)}function ue(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}const k8=ue("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),D8=ue("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),F8=ue("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),L8=ue("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),N8=ue("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),U8=ue("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),B8=ue("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),W8=ue("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),H8=ue("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Y8=ue("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ge=e=>yP(e[e.length-1]);var d$=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(ue);const v$=ge(d$);var p$=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(ue);const y$=ge(p$);var g$=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(ue);const m$=ge(g$);var b$=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(ue);const _$=ge(b$);var Wl=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(ue);const Ss=ge(Wl);var $$=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(ue);const w$=ge($$);var Hl=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(ue);const Os=ge(Hl);var S$=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(ue);const O$=ge(S$);var E$=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(ue);const T$=ge(E$);var x$=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(ue);const P$=ge(x$);var C$=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(ue);const A$=ge(C$);var R$=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(ue);const I$=ge(R$);var j$=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(ue);const M$=ge(j$);var k$=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(ue);const D$=ge(k$);var F$=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(ue);const L$=ge(F$);var N$=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(ue);const U$=ge(N$);var B$=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(ue);const W$=ge(B$);var H$=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(ue);const Y$=ge(H$);var V$=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(ue);const G$=ge(V$);var z$=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(ue);const q$=ge(z$);var K$=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(ue);const X$=ge(K$);var J$=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ue);const Q$=ge(J$);var Z$=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(ue);const ew=ge(Z$);var tw=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(ue);const rw=ge(tw);var nw=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(ue);const iw=ge(nw);var aw=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(ue);const ow=ge(aw);var sw=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(ue);const uw=ge(sw);function cw(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const fw=$d(Lt(300,.5,0),Lt(-240,.5,1));var lw=$d(Lt(-100,.75,.35),Lt(80,1.5,.8)),hw=$d(Lt(260,.75,.35),Lt(80,1.5,.8)),Za=Lt();function dw(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Za.h=360*e-100,Za.s=1.5-1.5*t,Za.l=.8-.9*t,Za+""}var eo=ta(),V8=Math.PI/3,G8=Math.PI*2/3;function vw(e){var t;return e=(.5-e)*Math.PI,eo.r=255*(t=Math.sin(e))*t,eo.g=255*(t=Math.sin(e+V8))*t,eo.b=255*(t=Math.sin(e+G8))*t,eo+""}function pw(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function su(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}const yw=su(ue("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var gw=su(ue("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),mw=su(ue("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),bw=su(ue("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const _w=Math.cos,Id=Math.min,Es=Math.sin,Re=Math.sqrt,Ts=Math.PI,uu=2*Ts,z8=Re(3),$w={draw(e,t){const r=Re(t+Id(t/28,.75))*.59436,n=r/2,i=n*z8;e.moveTo(0,r),e.lineTo(0,-r),e.moveTo(-i,-n),e.lineTo(i,n),e.moveTo(-i,n),e.lineTo(i,-n)}},jd={draw(e,t){const r=Re(t/Ts);e.moveTo(r,0),e.arc(0,0,r,0,uu)}},ww={draw(e,t){const r=Re(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Sw=Re(1/3),q8=Sw*2,Ow={draw(e,t){const r=Re(t/q8),n=r*Sw;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Ew={draw(e,t){const r=Re(t)*.62625;e.moveTo(0,-r),e.lineTo(r,0),e.lineTo(0,r),e.lineTo(-r,0),e.closePath()}},Tw={draw(e,t){const r=Re(t-Id(t/7,2))*.87559;e.moveTo(-r,0),e.lineTo(r,0),e.moveTo(0,r),e.lineTo(0,-r)}},xw={draw(e,t){const r=Re(t),n=-r/2;e.rect(n,n,r,r)}},Pw={draw(e,t){const r=Re(t)*.4431;e.moveTo(r,r),e.lineTo(r,-r),e.lineTo(-r,-r),e.lineTo(-r,r),e.closePath()}},K8=.8908130915292852,Cw=Es(Ts/10)/Es(7*Ts/10),X8=Es(uu/10)*Cw,J8=-_w(uu/10)*Cw,Aw={draw(e,t){const r=Re(t*K8),n=X8*r,i=J8*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=uu*a/5,u=_w(o),c=Es(o);e.lineTo(c*r,-u*r),e.lineTo(u*n-c*i,c*n+u*i)}e.closePath()}},Cc=Re(3),Rw={draw(e,t){const r=-Re(t/(Cc*3));e.moveTo(0,r*2),e.lineTo(-Cc*r,-r),e.lineTo(Cc*r,-r),e.closePath()}},Q8=Re(3),Iw={draw(e,t){const r=Re(t)*.6824,n=r/2,i=r*Q8/2;e.moveTo(0,-r),e.lineTo(i,n),e.lineTo(-i,n),e.closePath()}},ft=-.5,lt=Re(3)/2,Yl=1/Re(12),Z8=(Yl/2+1)*3,jw={draw(e,t){const r=Re(t/Z8),n=r/2,i=r*Yl,a=n,o=r*Yl+r,u=-a,c=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(u,c),e.lineTo(ft*n-lt*i,lt*n+ft*i),e.lineTo(ft*a-lt*o,lt*a+ft*o),e.lineTo(ft*u-lt*c,lt*u+ft*c),e.lineTo(ft*n+lt*i,ft*i-lt*n),e.lineTo(ft*a+lt*o,ft*o-lt*a),e.lineTo(ft*u+lt*c,ft*c-lt*u),e.closePath()}},Mw={draw(e,t){const r=Re(t-Id(t/6,1.7))*.6189;e.moveTo(-r,-r),e.lineTo(r,r),e.moveTo(-r,r),e.lineTo(r,-r)}},e5=[jd,ww,Ow,xw,Aw,Rw,jw],t5=[jd,Tw,Mw,Iw,$w,Pw,Ew];function Di(e,t,r){this.k=e,this.x=t,this.y=r}Di.prototype={constructor:Di,scale:function(e){return e===1?this:new Di(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Di(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Di.prototype;function r5(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,u=[],c=!0,s=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(f){s=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(s)throw i}}return u}}function nn(){nn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(k,B,A){k[B]=A.value},i=typeof Symbol=="function"?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(k,B,A){return Object.defineProperty(k,B,{value:A,enumerable:!0,configurable:!0,writable:!0}),k[B]}try{c({},"")}catch{c=function(B,A,L){return B[A]=L}}function s(k,B,A,L){var W=B&&B.prototype instanceof h?B:h,V=Object.create(W.prototype),S=new z(L||[]);return n(V,"_invoke",{value:I(k,A,S)}),V}function f(k,B,A){try{return{type:"normal",arg:k.call(B,A)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function h(){}function d(){}function p(){}var v={};c(v,a,function(){return this});var b=Object.getPrototypeOf,y=b&&b(b(F([])));y&&y!==t&&r.call(y,a)&&(v=y);var m=p.prototype=h.prototype=Object.create(v);function $(k){["next","throw","return"].forEach(function(B){c(k,B,function(A){return this._invoke(B,A)})})}function T(k,B){function A(W,V,S,w){var O=f(k[W],k,V);if(O.type!=="throw"){var P=O.arg,M=P.value;return M&&typeof M=="object"&&r.call(M,"__await")?B.resolve(M.__await).then(function(x){A("next",x,S,w)},function(x){A("throw",x,S,w)}):B.resolve(M).then(function(x){P.value=x,S(P)},function(x){return A("throw",x,S,w)})}w(O.arg)}var L;n(this,"_invoke",{value:function(W,V){function S(){return new B(function(w,O){A(W,V,w,O)})}return L=L?L.then(S,S):S()}})}function I(k,B,A){var L="suspendedStart";return function(W,V){if(L==="executing")throw new Error("Generator is already running");if(L==="completed"){if(W==="throw")throw V;return j()}for(A.method=W,A.arg=V;;){var S=A.delegate;if(S){var w=C(S,A);if(w){if(w===l)continue;return w}}if(A.method==="next")A.sent=A._sent=A.arg;else if(A.method==="throw"){if(L==="suspendedStart")throw L="completed",A.arg;A.dispatchException(A.arg)}else A.method==="return"&&A.abrupt("return",A.arg);L="executing";var O=f(k,B,A);if(O.type==="normal"){if(L=A.done?"completed":"suspendedYield",O.arg===l)continue;return{value:O.arg,done:A.done}}O.type==="throw"&&(L="completed",A.method="throw",A.arg=O.arg)}}}function C(k,B){var A=B.method,L=k.iterator[A];if(L===void 0)return B.delegate=null,A==="throw"&&k.iterator.return&&(B.method="return",B.arg=void 0,C(k,B),B.method==="throw")||A!=="return"&&(B.method="throw",B.arg=new TypeError("The iterator does not provide a '"+A+"' method")),l;var W=f(L,k.iterator,B.arg);if(W.type==="throw")return B.method="throw",B.arg=W.arg,B.delegate=null,l;var V=W.arg;return V?V.done?(B[k.resultName]=V.value,B.next=k.nextLoc,B.method!=="return"&&(B.method="next",B.arg=void 0),B.delegate=null,l):V:(B.method="throw",B.arg=new TypeError("iterator result is not an object"),B.delegate=null,l)}function U(k){var B={tryLoc:k[0]};1 in k&&(B.catchLoc=k[1]),2 in k&&(B.finallyLoc=k[2],B.afterLoc=k[3]),this.tryEntries.push(B)}function G(k){var B=k.completion||{};B.type="normal",delete B.arg,k.completion=B}function z(k){this.tryEntries=[{tryLoc:"root"}],k.forEach(U,this),this.reset(!0)}function F(k){if(k){var B=k[a];if(B)return B.call(k);if(typeof k.next=="function")return k;if(!isNaN(k.length)){var A=-1,L=function W(){for(;++A<k.length;)if(r.call(k,A))return W.value=k[A],W.done=!1,W;return W.value=void 0,W.done=!0,W};return L.next=L}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=p,n(m,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(k){var B=typeof k=="function"&&k.constructor;return!!B&&(B===d||(B.displayName||B.name)==="GeneratorFunction")},e.mark=function(k){return Object.setPrototypeOf?Object.setPrototypeOf(k,p):(k.__proto__=p,c(k,u,"GeneratorFunction")),k.prototype=Object.create(m),k},e.awrap=function(k){return{__await:k}},$(T.prototype),c(T.prototype,o,function(){return this}),e.AsyncIterator=T,e.async=function(k,B,A,L,W){W===void 0&&(W=Promise);var V=new T(s(k,B,A,L),W);return e.isGeneratorFunction(B)?V:V.next().then(function(S){return S.done?S.value:V.next()})},$(m),c(m,u,"Generator"),c(m,a,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),e.keys=function(k){var B=Object(k),A=[];for(var L in B)A.push(L);return A.reverse(),function W(){for(;A.length;){var V=A.pop();if(V in B)return W.value=V,W.done=!1,W}return W.done=!0,W}},e.values=F,z.prototype={constructor:z,reset:function(k){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(G),!k)for(var B in this)B.charAt(0)==="t"&&r.call(this,B)&&!isNaN(+B.slice(1))&&(this[B]=void 0)},stop:function(){this.done=!0;var k=this.tryEntries[0].completion;if(k.type==="throw")throw k.arg;return this.rval},dispatchException:function(k){if(this.done)throw k;var B=this;function A(O,P){return V.type="throw",V.arg=k,B.next=O,P&&(B.method="next",B.arg=void 0),!!P}for(var L=this.tryEntries.length-1;L>=0;--L){var W=this.tryEntries[L],V=W.completion;if(W.tryLoc==="root")return A("end");if(W.tryLoc<=this.prev){var S=r.call(W,"catchLoc"),w=r.call(W,"finallyLoc");if(S&&w){if(this.prev<W.catchLoc)return A(W.catchLoc,!0);if(this.prev<W.finallyLoc)return A(W.finallyLoc)}else if(S){if(this.prev<W.catchLoc)return A(W.catchLoc,!0)}else{if(!w)throw new Error("try statement without catch or finally");if(this.prev<W.finallyLoc)return A(W.finallyLoc)}}}},abrupt:function(k,B){for(var A=this.tryEntries.length-1;A>=0;--A){var L=this.tryEntries[A];if(L.tryLoc<=this.prev&&r.call(L,"finallyLoc")&&this.prev<L.finallyLoc){var W=L;break}}W&&(k==="break"||k==="continue")&&W.tryLoc<=B&&B<=W.finallyLoc&&(W=null);var V=W?W.completion:{};return V.type=k,V.arg=B,W?(this.method="next",this.next=W.finallyLoc,l):this.complete(V)},complete:function(k,B){if(k.type==="throw")throw k.arg;return k.type==="break"||k.type==="continue"?this.next=k.arg:k.type==="return"?(this.rval=this.arg=k.arg,this.method="return",this.next="end"):k.type==="normal"&&B&&(this.next=B),l},finish:function(k){for(var B=this.tryEntries.length-1;B>=0;--B){var A=this.tryEntries[B];if(A.finallyLoc===k)return this.complete(A.completion,A.afterLoc),G(A),l}},catch:function(k){for(var B=this.tryEntries.length-1;B>=0;--B){var A=this.tryEntries[B];if(A.tryLoc===k){var L=A.completion;if(L.type==="throw"){var W=L.arg;G(A)}return W}}throw new Error("illegal catch attempt")},delegateYield:function(k,B,A){return this.delegate={iterator:F(k),resultName:B,nextLoc:A},this.method==="next"&&(this.arg=void 0),l}},e}function Yi(e){"@babel/helpers - typeof";return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(e)}function Ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Fw(n.key),n)}}function ze(e,t,r){return t&&n5(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function i5(e,t,r){return t=Fw(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kw(e,t){return o5(e)||r5(e,t)||Dw(e,t)||c5()}function Vl(e){return a5(e)||s5(e)||Dw(e)||u5()}function a5(e){if(Array.isArray(e))return Gl(e)}function o5(e){if(Array.isArray(e))return e}function s5(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dw(e,t){if(e){if(typeof e=="string")return Gl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gl(e,t)}}function Gl(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f5(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Fw(e){var t=f5(e,"string");return typeof t=="symbol"?t:String(t)}var De=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ke(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $i=function(e){return e&&e.Math===Math&&e},Oe=$i(typeof globalThis=="object"&&globalThis)||$i(typeof window=="object"&&window)||$i(typeof self=="object"&&self)||$i(typeof De=="object"&&De)||$i(typeof De=="object"&&De)||function(){return this}()||Function("return this")(),Lw={exports:{}},Ey=Oe,l5=Object.defineProperty,Md=function(e,t){try{l5(Ey,e,{value:t,configurable:!0,writable:!0})}catch{Ey[e]=t}return t},h5=Oe,d5=Md,Ty="__core-js_shared__",v5=h5[Ty]||d5(Ty,{}),kd=v5,xy=kd;(Lw.exports=function(e,t){return xy[e]||(xy[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.34.0",mode:"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Dd=Lw.exports,he=function(e){try{return!!e()}catch{return!0}},p5=he,cu=!p5(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Nw=cu,Uw=Function.prototype,zl=Uw.call,y5=Nw&&Uw.bind.bind(zl,zl),ye=Nw?y5:function(e){return function(){return zl.apply(e,arguments)}},Rr=function(e){return e==null},g5=Rr,m5=TypeError,dn=function(e){if(g5(e))throw new m5("Can't call method on "+e);return e},b5=dn,_5=Object,zt=function(e){return _5(b5(e))},$5=ye,w5=zt,S5=$5({}.hasOwnProperty),mt=Object.hasOwn||function(t,r){return S5(w5(t),r)},O5=ye,E5=0,T5=Math.random(),x5=O5(1 .toString),Fd=function(e){return"Symbol("+(e===void 0?"":e)+")_"+x5(++E5+T5,36)},vn=typeof navigator<"u"&&String(navigator.userAgent)||"",Bw=Oe,Ac=vn,Py=Bw.process,Cy=Bw.Deno,Ay=Py&&Py.versions||Cy&&Cy.version,Ry=Ay&&Ay.v8,wt,xs;Ry&&(wt=Ry.split("."),xs=wt[0]>0&&wt[0]<4?1:+(wt[0]+wt[1]));!xs&&Ac&&(wt=Ac.match(/Edge\/(\d+)/),(!wt||wt[1]>=74)&&(wt=Ac.match(/Chrome\/(\d+)/),wt&&(xs=+wt[1])));var Ea=xs,Iy=Ea,P5=he,C5=Oe,A5=C5.String,Ww=!!Object.getOwnPropertySymbols&&!P5(function(){var e=Symbol("symbol detection");return!A5(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Iy&&Iy<41}),R5=Ww,Hw=R5&&!Symbol.sham&&typeof Symbol.iterator=="symbol",I5=Oe,j5=Dd,jy=mt,M5=Fd,k5=Ww,D5=Hw,kn=I5.Symbol,Rc=j5("wks"),F5=D5?kn.for||kn:kn&&kn.withoutSetter||M5,Ee=function(e){return jy(Rc,e)||(Rc[e]=k5&&jy(kn,e)?kn[e]:F5("Symbol."+e)),Rc[e]},L5=Ee,N5=L5("toStringTag"),Yw={};Yw[N5]="z";var Ld=String(Yw)==="[object z]",ql=typeof document=="object"&&document.all,U5=typeof ql>"u"&&ql!==void 0,Vw={all:ql,IS_HTMLDDA:U5},Gw=Vw,B5=Gw.all,Se=Gw.IS_HTMLDDA?function(e){return typeof e=="function"||e===B5}:function(e){return typeof e=="function"},Tt={},W5=he,rt=!W5(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),My=Se,zw=Vw,H5=zw.all,Ue=zw.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:My(e)||e===H5}:function(e){return typeof e=="object"?e!==null:My(e)},Y5=Oe,ky=Ue,Kl=Y5.document,V5=ky(Kl)&&ky(Kl.createElement),fu=function(e){return V5?Kl.createElement(e):{}},G5=rt,z5=he,q5=fu,qw=!G5&&!z5(function(){return Object.defineProperty(q5("div"),"a",{get:function(){return 7}}).a!==7}),K5=rt,X5=he,Kw=K5&&X5(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),J5=Ue,Q5=String,Z5=TypeError,Xe=function(e){if(J5(e))return e;throw new Z5(Q5(e)+" is not an object")},e4=cu,to=Function.prototype.call,Be=e4?to.bind(to):function(){return to.apply(to,arguments)},Ic=Oe,t4=Se,r4=function(e){return t4(e)?e:void 0},pn=function(e,t){return arguments.length<2?r4(Ic[e]):Ic[e]&&Ic[e][t]},n4=ye,Nd=n4({}.isPrototypeOf),i4=pn,a4=Se,o4=Nd,s4=Hw,u4=Object,Xw=s4?function(e){return typeof e=="symbol"}:function(e){var t=i4("Symbol");return a4(t)&&o4(t.prototype,u4(e))},c4=String,Ta=function(e){try{return c4(e)}catch{return"Object"}},f4=Se,l4=Ta,h4=TypeError,qt=function(e){if(f4(e))return e;throw new h4(l4(e)+" is not a function")},d4=qt,v4=Rr,lu=function(e,t){var r=e[t];return v4(r)?void 0:d4(r)},jc=Be,Mc=Se,kc=Ue,p4=TypeError,y4=function(e,t){var r,n;if(t==="string"&&Mc(r=e.toString)&&!kc(n=jc(r,e))||Mc(r=e.valueOf)&&!kc(n=jc(r,e))||t!=="string"&&Mc(r=e.toString)&&!kc(n=jc(r,e)))return n;throw new p4("Can't convert object to primitive value")},g4=Be,Dy=Ue,Fy=Xw,m4=lu,b4=y4,_4=Ee,$4=TypeError,w4=_4("toPrimitive"),S4=function(e,t){if(!Dy(e)||Fy(e))return e;var r=m4(e,w4),n;if(r){if(t===void 0&&(t="default"),n=g4(r,e,t),!Dy(n)||Fy(n))return n;throw new $4("Can't convert object to primitive value")}return t===void 0&&(t="number"),b4(e,t)},O4=S4,E4=Xw,Ud=function(e){var t=O4(e,"string");return E4(t)?t:t+""},T4=rt,x4=qw,P4=Kw,ro=Xe,Ly=Ud,C4=TypeError,Dc=Object.defineProperty,A4=Object.getOwnPropertyDescriptor,Fc="enumerable",Lc="configurable",Nc="writable";Tt.f=T4?P4?function(t,r,n){if(ro(t),r=Ly(r),ro(n),typeof t=="function"&&r==="prototype"&&"value"in n&&Nc in n&&!n[Nc]){var i=A4(t,r);i&&i[Nc]&&(t[r]=n.value,n={configurable:Lc in n?n[Lc]:i[Lc],enumerable:Fc in n?n[Fc]:i[Fc],writable:!1})}return Dc(t,r,n)}:Dc:function(t,r,n){if(ro(t),r=Ly(r),ro(n),x4)try{return Dc(t,r,n)}catch{}if("get"in n||"set"in n)throw new C4("Accessors not supported");return"value"in n&&(t[r]=n.value),t};var Jw={exports:{}},Xl=rt,R4=mt,Qw=Function.prototype,I4=Xl&&Object.getOwnPropertyDescriptor,Bd=R4(Qw,"name"),j4=Bd&&(function(){}).name==="something",M4=Bd&&(!Xl||Xl&&I4(Qw,"name").configurable),hu={EXISTS:Bd,PROPER:j4,CONFIGURABLE:M4},k4=ye,D4=Se,Jl=kd,F4=k4(Function.toString);D4(Jl.inspectSource)||(Jl.inspectSource=function(e){return F4(e)});var Wd=Jl.inspectSource,L4=Oe,N4=Se,Ny=L4.WeakMap,U4=N4(Ny)&&/native code/.test(String(Ny)),du=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},B4=rt,W4=Tt,H4=du,si=B4?function(e,t,r){return W4.f(e,t,H4(1,r))}:function(e,t,r){return e[t]=r,e},Y4=Dd,V4=Fd,Uy=Y4("keys"),Hd=function(e){return Uy[e]||(Uy[e]=V4(e))},vu={},G4=U4,Zw=Oe,z4=Ue,q4=si,Uc=mt,Bc=kd,K4=Hd,X4=vu,By="Object already initialized",Ql=Zw.TypeError,J4=Zw.WeakMap,Ps,sa,Cs,Q4=function(e){return Cs(e)?sa(e):Ps(e,{})},Z4=function(e){return function(t){var r;if(!z4(t)||(r=sa(t)).type!==e)throw new Ql("Incompatible receiver, "+e+" required");return r}};if(G4||Bc.state){var It=Bc.state||(Bc.state=new J4);It.get=It.get,It.has=It.has,It.set=It.set,Ps=function(e,t){if(It.has(e))throw new Ql(By);return t.facade=e,It.set(e,t),t},sa=function(e){return It.get(e)||{}},Cs=function(e){return It.has(e)}}else{var Sn=K4("state");X4[Sn]=!0,Ps=function(e,t){if(Uc(e,Sn))throw new Ql(By);return t.facade=e,q4(e,Sn,t),t},sa=function(e){return Uc(e,Sn)?e[Sn]:{}},Cs=function(e){return Uc(e,Sn)}}var yn={set:Ps,get:sa,has:Cs,enforce:Q4,getterFor:Z4},Yd=ye,eA=he,tA=Se,no=mt,Zl=rt,rA=hu.CONFIGURABLE,nA=Wd,e2=yn,iA=e2.enforce,aA=e2.get,Wy=String,Yo=Object.defineProperty,oA=Yd("".slice),sA=Yd("".replace),uA=Yd([].join),cA=Zl&&!eA(function(){return Yo(function(){},"length",{value:8}).length!==8}),fA=String(String).split("String"),lA=Jw.exports=function(e,t,r){oA(Wy(t),0,7)==="Symbol("&&(t="["+sA(Wy(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!no(e,"name")||rA&&e.name!==t)&&(Zl?Yo(e,"name",{value:t,configurable:!0}):e.name=t),cA&&r&&no(r,"arity")&&e.length!==r.arity&&Yo(e,"length",{value:r.arity});try{r&&no(r,"constructor")&&r.constructor?Zl&&Yo(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var n=iA(e);return no(n,"source")||(n.source=uA(fA,typeof t=="string"?t:"")),e};Function.prototype.toString=lA(function(){return tA(this)&&aA(this).source||nA(this)},"toString");var t2=Jw.exports,hA=Se,dA=Tt,vA=t2,pA=Md,dr=function(e,t,r,n){n||(n={});var i=n.enumerable,a=n.name!==void 0?n.name:t;if(hA(r)&&vA(r,a,n),n.global)i?e[t]=r:pA(t,r);else{try{n.unsafe?e[t]&&(i=!0):delete e[t]}catch{}i?e[t]=r:dA.f(e,t,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e},r2=ye,yA=r2({}.toString),gA=r2("".slice),vr=function(e){return gA(yA(e),8,-1)},mA=Ld,bA=Se,Vo=vr,_A=Ee,$A=_A("toStringTag"),wA=Object,SA=Vo(function(){return arguments}())==="Arguments",OA=function(e,t){try{return e[t]}catch{}},pu=mA?Vo:function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=OA(t=wA(e),$A))=="string"?r:SA?Vo(t):(n=Vo(t))==="Object"&&bA(t.callee)?"Arguments":n},EA=Ld,TA=pu,xA=EA?{}.toString:function(){return"[object "+TA(this)+"]"},PA=Ld,CA=dr,AA=xA;PA||CA(Object.prototype,"toString",AA,{unsafe:!0});var xa={},yu={},n2={}.propertyIsEnumerable,i2=Object.getOwnPropertyDescriptor,RA=i2&&!n2.call({1:2},1);yu.f=RA?function(t){var r=i2(this,t);return!!r&&r.enumerable}:n2;var IA=ye,jA=he,MA=vr,Wc=Object,kA=IA("".split),gu=jA(function(){return!Wc("z").propertyIsEnumerable(0)})?function(e){return MA(e)==="String"?kA(e,""):Wc(e)}:Wc,DA=gu,FA=dn,pr=function(e){return DA(FA(e))},LA=rt,NA=Be,UA=yu,BA=du,WA=pr,HA=Ud,YA=mt,VA=qw,Hy=Object.getOwnPropertyDescriptor;xa.f=LA?Hy:function(t,r){if(t=WA(t),r=HA(r),VA)try{return Hy(t,r)}catch{}if(YA(t,r))return BA(!NA(UA.f,t,r),t[r])};var mu={},GA=Math.ceil,zA=Math.floor,qA=Math.trunc||function(t){var r=+t;return(r>0?zA:GA)(r)},KA=qA,bu=function(e){var t=+e;return t!==t||t===0?0:KA(t)},XA=bu,JA=Math.max,QA=Math.min,_u=function(e,t){var r=XA(e);return r<0?JA(r+t,0):QA(r,t)},ZA=bu,eR=Math.min,Vd=function(e){return e>0?eR(ZA(e),9007199254740991):0},tR=Vd,yr=function(e){return tR(e.length)},rR=pr,nR=_u,iR=yr,Yy=function(e){return function(t,r,n){var i=rR(t),a=iR(i),o=nR(n,a),u;if(e&&r!==r){for(;a>o;)if(u=i[o++],u!==u)return!0}else for(;a>o;o++)if((e||o in i)&&i[o]===r)return e||o||0;return!e&&-1}},a2={includes:Yy(!0),indexOf:Yy(!1)},aR=ye,Hc=mt,oR=pr,sR=a2.indexOf,uR=vu,Vy=aR([].push),o2=function(e,t){var r=oR(e),n=0,i=[],a;for(a in r)!Hc(uR,a)&&Hc(r,a)&&Vy(i,a);for(;t.length>n;)Hc(r,a=t[n++])&&(~sR(i,a)||Vy(i,a));return i},Gd=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],cR=o2,fR=Gd,lR=fR.concat("length","prototype");mu.f=Object.getOwnPropertyNames||function(t){return cR(t,lR)};var zd={};zd.f=Object.getOwnPropertySymbols;var hR=pn,dR=ye,vR=mu,pR=zd,yR=Xe,gR=dR([].concat),mR=hR("Reflect","ownKeys")||function(t){var r=vR.f(yR(t)),n=pR.f;return n?gR(r,n(t)):r},Gy=mt,bR=mR,_R=xa,$R=Tt,wR=function(e,t,r){for(var n=bR(t),i=$R.f,a=_R.f,o=0;o<n.length;o++){var u=n[o];!Gy(e,u)&&!(r&&Gy(r,u))&&i(e,u,a(t,u))}},SR=he,OR=Se,ER=/#|\.prototype\./,Pa=function(e,t){var r=xR[TR(e)];return r===CR?!0:r===PR?!1:OR(t)?SR(t):!!t},TR=Pa.normalize=function(e){return String(e).replace(ER,".").toLowerCase()},xR=Pa.data={},PR=Pa.NATIVE="N",CR=Pa.POLYFILL="P",qd=Pa,Yc=Oe,AR=xa.f,RR=si,IR=dr,jR=Md,MR=wR,kR=qd,me=function(e,t){var r=e.target,n=e.global,i=e.stat,a,o,u,c,s,f;if(n?o=Yc:i?o=Yc[r]||jR(r,{}):o=(Yc[r]||{}).prototype,o)for(u in t){if(s=t[u],e.dontCallGetSet?(f=AR(o,u),c=f&&f.value):c=o[u],a=kR(n?u:r+(i?".":"#")+u,e.forced),!a&&c!==void 0){if(typeof s==typeof c)continue;MR(s,c)}(e.sham||c&&c.sham)&&RR(s,"sham",!0),IR(o,u,s,e)}},DR=Oe,FR=vr,$u=FR(DR.process)==="process",LR=ye,NR=qt,UR=function(e,t,r){try{return LR(NR(Object.getOwnPropertyDescriptor(e,t)[r]))}catch{}},BR=Se,WR=String,HR=TypeError,YR=function(e){if(typeof e=="object"||BR(e))return e;throw new HR("Can't set "+WR(e)+" as a prototype")},VR=UR,GR=Xe,zR=YR,Kd=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={},r;try{r=VR(Object.prototype,"__proto__","set"),r(t,[]),e=t instanceof Array}catch{}return function(i,a){return GR(i),zR(a),e?r(i,a):i.__proto__=a,i}}():void 0),qR=Tt.f,KR=mt,XR=Ee,zy=XR("toStringTag"),Ca=function(e,t,r){e&&!r&&(e=e.prototype),e&&!KR(e,zy)&&qR(e,zy,{configurable:!0,value:t})},qy=t2,JR=Tt,Xd=function(e,t,r){return r.get&&qy(r.get,t,{getter:!0}),r.set&&qy(r.set,t,{setter:!0}),JR.f(e,t,r)},QR=pn,ZR=Xd,e7=Ee,t7=rt,Ky=e7("species"),s2=function(e){var t=QR(e);t7&&t&&!t[Ky]&&ZR(t,Ky,{configurable:!0,get:function(){return this}})},r7=Nd,n7=TypeError,wu=function(e,t){if(r7(t,e))return e;throw new n7("Incorrect invocation")},i7=ye,a7=he,u2=Se,o7=pu,s7=pn,u7=Wd,c2=function(){},c7=[],f2=s7("Reflect","construct"),Jd=/^\s*(?:class|function)\b/,f7=i7(Jd.exec),l7=!Jd.test(c2),wi=function(t){if(!u2(t))return!1;try{return f2(c2,c7,t),!0}catch{return!1}},l2=function(t){if(!u2(t))return!1;switch(o7(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return l7||!!f7(Jd,u7(t))}catch{return!0}};l2.sham=!0;var Su=!f2||a7(function(){var e;return wi(wi.call)||!wi(Object)||!wi(function(){e=!0})||e})?l2:wi,h7=Su,d7=Ta,v7=TypeError,p7=function(e){if(h7(e))return e;throw new v7(d7(e)+" is not a constructor")},Xy=Xe,y7=p7,g7=Rr,m7=Ee,b7=m7("species"),_7=function(e,t){var r=Xy(e).constructor,n;return r===void 0||g7(n=Xy(r)[b7])?t:y7(n)},$7=cu,h2=Function.prototype,Jy=h2.apply,Qy=h2.call,d2=typeof Reflect=="object"&&Reflect.apply||($7?Qy.bind(Jy):function(){return Qy.apply(Jy,arguments)}),w7=vr,S7=ye,Qd=function(e){if(w7(e)==="Function")return S7(e)},Zy=Qd,O7=qt,E7=cu,T7=Zy(Zy.bind),ui=function(e,t){return O7(e),t===void 0?e:E7?T7(e,t):function(){return e.apply(t,arguments)}},x7=pn,v2=x7("document","documentElement"),P7=ye,p2=P7([].slice),C7=TypeError,A7=function(e,t){if(e<t)throw new C7("Not enough arguments");return e},R7=vn,y2=/(?:ipad|iphone|ipod).*applewebkit/i.test(R7),at=Oe,I7=d2,j7=ui,eg=Se,M7=mt,g2=he,tg=v2,k7=p2,rg=fu,D7=A7,F7=y2,L7=$u,eh=at.setImmediate,th=at.clearImmediate,N7=at.process,Vc=at.Dispatch,U7=at.Function,ng=at.MessageChannel,B7=at.String,Gc=0,Vi={},ig="onreadystatechange",ua,Nr,zc,qc;g2(function(){ua=at.location});var Zd=function(e){if(M7(Vi,e)){var t=Vi[e];delete Vi[e],t()}},Kc=function(e){return function(){Zd(e)}},ag=function(e){Zd(e.data)},og=function(e){at.postMessage(B7(e),ua.protocol+"//"+ua.host)};(!eh||!th)&&(eh=function(t){D7(arguments.length,1);var r=eg(t)?t:U7(t),n=k7(arguments,1);return Vi[++Gc]=function(){I7(r,void 0,n)},Nr(Gc),Gc},th=function(t){delete Vi[t]},L7?Nr=function(e){N7.nextTick(Kc(e))}:Vc&&Vc.now?Nr=function(e){Vc.now(Kc(e))}:ng&&!F7?(zc=new ng,qc=zc.port2,zc.port1.onmessage=ag,Nr=j7(qc.postMessage,qc)):at.addEventListener&&eg(at.postMessage)&&!at.importScripts&&ua&&ua.protocol!=="file:"&&!g2(og)?(Nr=og,at.addEventListener("message",ag,!1)):ig in rg("script")?Nr=function(e){tg.appendChild(rg("script"))[ig]=function(){tg.removeChild(this),Zd(e)}}:Nr=function(e){setTimeout(Kc(e),0)});var m2={set:eh,clear:th},b2=function(){this.head=null,this.tail=null};b2.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return t===null&&(this.tail=null),e.item}}};var _2=b2,W7=vn,H7=/ipad|iphone|ipod/i.test(W7)&&typeof Pebble<"u",Y7=vn,V7=/web0s(?!.*chrome)/i.test(Y7),an=Oe,sg=ui,G7=xa.f,Xc=m2.set,z7=_2,q7=y2,K7=H7,X7=V7,Jc=$u,ug=an.MutationObserver||an.WebKitMutationObserver,cg=an.document,fg=an.process,io=an.Promise,lg=G7(an,"queueMicrotask"),rh=lg&&lg.value,On,Qc,Zc,ao,hg;if(!rh){var oo=new z7,so=function(){var e,t;for(Jc&&(e=fg.domain)&&e.exit();t=oo.get();)try{t()}catch(r){throw oo.head&&On(),r}e&&e.enter()};!q7&&!Jc&&!X7&&ug&&cg?(Qc=!0,Zc=cg.createTextNode(""),new ug(so).observe(Zc,{characterData:!0}),On=function(){Zc.data=Qc=!Qc}):!K7&&io&&io.resolve?(ao=io.resolve(void 0),ao.constructor=io,hg=sg(ao.then,ao),On=function(){hg(so)}):Jc?On=function(){fg.nextTick(so)}:(Xc=sg(Xc,an),On=function(){Xc(so)}),rh=function(e){oo.head||On(),oo.add(e)}}var J7=rh,Q7=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch{}},Ou=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}},Z7=Oe,Eu=Z7.Promise,$2=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",eI=$2,tI=$u,rI=!eI&&!tI&&typeof window=="object"&&typeof document=="object",nI=Oe,Gi=Eu,iI=Se,aI=qd,oI=Wd,sI=Ee,uI=rI,cI=$2,ef=Ea;Gi&&Gi.prototype;var fI=sI("species"),nh=!1,w2=iI(nI.PromiseRejectionEvent),lI=aI("Promise",function(){var e=oI(Gi),t=e!==String(Gi);if(!t&&ef===66)return!0;if(!ef||ef<51||!/native code/.test(e)){var r=new Gi(function(a){a(1)}),n=function(a){a(function(){},function(){})},i=r.constructor={};if(i[fI]=n,nh=r.then(function(){})instanceof n,!nh)return!0}return!t&&(uI||cI)&&!w2}),Aa={CONSTRUCTOR:lI,REJECTION_EVENT:w2,SUBCLASSING:nh},gn={},dg=qt,hI=TypeError,dI=function(e){var t,r;this.promise=new e(function(n,i){if(t!==void 0||r!==void 0)throw new hI("Bad Promise constructor");t=n,r=i}),this.resolve=dg(t),this.reject=dg(r)};gn.f=function(e){return new dI(e)};var vI=me,As=$u,xr=Oe,Qn=Be,vg=dr,pg=Kd,pI=Ca,yI=s2,gI=qt,Go=Se,mI=Ue,bI=wu,_I=_7,S2=m2.set,ev=J7,$I=Q7,wI=Ou,SI=_2,O2=yn,Rs=Eu,tv=Aa,E2=gn,Tu="Promise",T2=tv.CONSTRUCTOR,OI=tv.REJECTION_EVENT,EI=tv.SUBCLASSING,tf=O2.getterFor(Tu),TI=O2.set,In=Rs&&Rs.prototype,Vr=Rs,uo=In,x2=xr.TypeError,ih=xr.document,rv=xr.process,ah=E2.f,xI=ah,PI=!!(ih&&ih.createEvent&&xr.dispatchEvent),P2="unhandledrejection",CI="rejectionhandled",yg=0,C2=1,AI=2,nv=1,A2=2,co,gg,RI,mg,R2=function(e){var t;return mI(e)&&Go(t=e.then)?t:!1},I2=function(e,t){var r=t.value,n=t.state===C2,i=n?e.ok:e.fail,a=e.resolve,o=e.reject,u=e.domain,c,s,f;try{i?(n||(t.rejection===A2&&jI(t),t.rejection=nv),i===!0?c=r:(u&&u.enter(),c=i(r),u&&(u.exit(),f=!0)),c===e.promise?o(new x2("Promise-chain cycle")):(s=R2(c))?Qn(s,c,a,o):a(c)):o(r)}catch(l){u&&!f&&u.exit(),o(l)}},j2=function(e,t){e.notified||(e.notified=!0,ev(function(){for(var r=e.reactions,n;n=r.get();)I2(n,e);e.notified=!1,t&&!e.rejection&&II(e)}))},M2=function(e,t,r){var n,i;PI?(n=ih.createEvent("Event"),n.promise=t,n.reason=r,n.initEvent(e,!1,!0),xr.dispatchEvent(n)):n={promise:t,reason:r},!OI&&(i=xr["on"+e])?i(n):e===P2&&$I("Unhandled promise rejection",r)},II=function(e){Qn(S2,xr,function(){var t=e.facade,r=e.value,n=bg(e),i;if(n&&(i=wI(function(){As?rv.emit("unhandledRejection",r,t):M2(P2,t,r)}),e.rejection=As||bg(e)?A2:nv,i.error))throw i.value})},bg=function(e){return e.rejection!==nv&&!e.parent},jI=function(e){Qn(S2,xr,function(){var t=e.facade;As?rv.emit("rejectionHandled",t):M2(CI,t,e.value)})},Dn=function(e,t,r){return function(n){e(t,n,r)}},Yn=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=AI,j2(e,!0))},oh=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new x2("Promise can't be resolved itself");var n=R2(t);n?ev(function(){var i={done:!1};try{Qn(n,t,Dn(oh,i,e),Dn(Yn,i,e))}catch(a){Yn(i,a,e)}}):(e.value=t,e.state=C2,j2(e,!1))}catch(i){Yn({done:!1},i,e)}}};if(T2&&(Vr=function(t){bI(this,uo),gI(t),Qn(co,this);var r=tf(this);try{t(Dn(oh,r),Dn(Yn,r))}catch(n){Yn(r,n)}},uo=Vr.prototype,co=function(t){TI(this,{type:Tu,done:!1,notified:!1,parent:!1,reactions:new SI,rejection:!1,state:yg,value:void 0})},co.prototype=vg(uo,"then",function(t,r){var n=tf(this),i=ah(_I(this,Vr));return n.parent=!0,i.ok=Go(t)?t:!0,i.fail=Go(r)&&r,i.domain=As?rv.domain:void 0,n.state===yg?n.reactions.add(i):ev(function(){I2(i,n)}),i.promise}),gg=function(){var e=new co,t=tf(e);this.promise=e,this.resolve=Dn(oh,t),this.reject=Dn(Yn,t)},E2.f=ah=function(e){return e===Vr||e===RI?new gg(e):xI(e)},Go(Rs)&&In!==Object.prototype)){mg=In.then,EI||vg(In,"then",function(t,r){var n=this;return new Vr(function(i,a){Qn(mg,n,i,a)}).then(t,r)},{unsafe:!0});try{delete In.constructor}catch{}pg&&pg(In,uo)}vI({global:!0,constructor:!0,wrap:!0,forced:T2},{Promise:Vr});pI(Vr,Tu,!1);yI(Tu);var Ra={},MI=Ee,kI=Ra,DI=MI("iterator"),FI=Array.prototype,k2=function(e){return e!==void 0&&(kI.Array===e||FI[DI]===e)},LI=pu,_g=lu,NI=Rr,UI=Ra,BI=Ee,WI=BI("iterator"),iv=function(e){if(!NI(e))return _g(e,WI)||_g(e,"@@iterator")||UI[LI(e)]},HI=Be,YI=qt,VI=Xe,GI=Ta,zI=iv,qI=TypeError,D2=function(e,t){var r=arguments.length<2?zI(e):t;if(YI(r))return VI(HI(r,e));throw new qI(GI(e)+" is not iterable")},KI=Be,$g=Xe,XI=lu,F2=function(e,t,r){var n,i;$g(e);try{if(n=XI(e,"return"),!n){if(t==="throw")throw r;return r}n=KI(n,e)}catch(a){i=!0,n=a}if(t==="throw")throw r;if(i)throw n;return $g(n),r},JI=ui,QI=Be,ZI=Xe,ej=Ta,tj=k2,rj=yr,wg=Nd,nj=D2,ij=iv,Sg=F2,aj=TypeError,zo=function(e,t){this.stopped=e,this.result=t},Og=zo.prototype,ci=function(e,t,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),a=!!(r&&r.IS_RECORD),o=!!(r&&r.IS_ITERATOR),u=!!(r&&r.INTERRUPTED),c=JI(t,n),s,f,l,h,d,p,v,b=function(m){return s&&Sg(s,"normal",m),new zo(!0,m)},y=function(m){return i?(ZI(m),u?c(m[0],m[1],b):c(m[0],m[1])):u?c(m,b):c(m)};if(a)s=e.iterator;else if(o)s=e;else{if(f=ij(e),!f)throw new aj(ej(e)+" is not iterable");if(tj(f)){for(l=0,h=rj(e);h>l;l++)if(d=y(e[l]),d&&wg(Og,d))return d;return new zo(!1)}s=nj(e,f)}for(p=a?e.next:s.next;!(v=QI(p,s)).done;){try{d=y(v.value)}catch(m){Sg(s,"throw",m)}if(typeof d=="object"&&d&&wg(Og,d))return d}return new zo(!1)},oj=Ee,L2=oj("iterator"),N2=!1;try{var sj=0,Eg={next:function(){return{done:!!sj++}},return:function(){N2=!0}};Eg[L2]=function(){return this},Array.from(Eg,function(){throw 2})}catch{}var av=function(e,t){try{if(!t&&!N2)return!1}catch{return!1}var r=!1;try{var n={};n[L2]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch{}return r},uj=Eu,cj=av,fj=Aa.CONSTRUCTOR,ov=fj||!cj(function(e){uj.all(e).then(void 0,function(){})}),lj=me,hj=Be,dj=qt,vj=gn,pj=Ou,yj=ci,gj=ov;lj({target:"Promise",stat:!0,forced:gj},{all:function(t){var r=this,n=vj.f(r),i=n.resolve,a=n.reject,o=pj(function(){var u=dj(r.resolve),c=[],s=0,f=1;yj(t,function(l){var h=s++,d=!1;f++,hj(u,r,l).then(function(p){d||(d=!0,c[h]=p,--f||i(c))},a)}),--f||i(c)});return o.error&&a(o.value),n.promise}});var mj=me,bj=Aa.CONSTRUCTOR,sh=Eu,_j=pn,$j=Se,wj=dr,Tg=sh&&sh.prototype;mj({target:"Promise",proto:!0,forced:bj,real:!0},{catch:function(e){return this.then(void 0,e)}});if($j(sh)){var xg=_j("Promise").prototype.catch;Tg.catch!==xg&&wj(Tg,"catch",xg,{unsafe:!0})}var Sj=me,Oj=Be,Ej=qt,Tj=gn,xj=Ou,Pj=ci,Cj=ov;Sj({target:"Promise",stat:!0,forced:Cj},{race:function(t){var r=this,n=Tj.f(r),i=n.reject,a=xj(function(){var o=Ej(r.resolve);Pj(t,function(u){Oj(o,r,u).then(n.resolve,i)})});return a.error&&i(a.value),n.promise}});var Aj=me,Rj=Be,Ij=gn,jj=Aa.CONSTRUCTOR;Aj({target:"Promise",stat:!0,forced:jj},{reject:function(t){var r=Ij.f(this);return Rj(r.reject,void 0,t),r.promise}});var Mj=Xe,kj=Ue,Dj=gn,Fj=function(e,t){if(Mj(e),kj(t)&&t.constructor===e)return t;var r=Dj.f(e),n=r.resolve;return n(t),r.promise},Lj=me,Nj=pn,Uj=Aa.CONSTRUCTOR,Bj=Fj;Nj("Promise");Lj({target:"Promise",stat:!0,forced:Uj},{resolve:function(t){return Bj(this,t)}});var U2={},Wj=o2,Hj=Gd,xu=Object.keys||function(t){return Wj(t,Hj)},Yj=rt,Vj=Kw,Gj=Tt,zj=Xe,qj=pr,Kj=xu;U2.f=Yj&&!Vj?Object.defineProperties:function(t,r){zj(t);for(var n=qj(r),i=Kj(r),a=i.length,o=0,u;a>o;)Gj.f(t,u=i[o++],n[u]);return t};var Xj=Xe,Jj=U2,Pg=Gd,Qj=vu,Zj=v2,eM=fu,tM=Hd,Cg=">",Ag="<",uh="prototype",ch="script",B2=tM("IE_PROTO"),rf=function(){},W2=function(e){return Ag+ch+Cg+e+Ag+"/"+ch+Cg},Rg=function(e){e.write(W2("")),e.close();var t=e.parentWindow.Object;return e=null,t},rM=function(){var e=eM("iframe"),t="java"+ch+":",r;return e.style.display="none",Zj.appendChild(e),e.src=String(t),r=e.contentWindow.document,r.open(),r.write(W2("document.F=Object")),r.close(),r.F},fo,qo=function(){try{fo=new ActiveXObject("htmlfile")}catch{}qo=typeof document<"u"?document.domain&&fo?Rg(fo):rM():Rg(fo);for(var e=Pg.length;e--;)delete qo[uh][Pg[e]];return qo()};Qj[B2]=!0;var Pu=Object.create||function(t,r){var n;return t!==null?(rf[uh]=Xj(t),n=new rf,rf[uh]=null,n[B2]=t):n=qo(),r===void 0?n:Jj.f(n,r)},nM=Ee,iM=Pu,aM=Tt.f,fh=nM("unscopables"),lh=Array.prototype;lh[fh]===void 0&&aM(lh,fh,{configurable:!0,value:iM(null)});var sv=function(e){lh[fh][e]=!0},oM=he,sM=!oM(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),uM=mt,cM=Se,fM=zt,lM=Hd,hM=sM,Ig=lM("IE_PROTO"),hh=Object,dM=hh.prototype,uv=hM?hh.getPrototypeOf:function(e){var t=fM(e);if(uM(t,Ig))return t[Ig];var r=t.constructor;return cM(r)&&t instanceof r?r.prototype:t instanceof hh?dM:null},vM=he,pM=Se,yM=Ue,jg=uv,gM=dr,mM=Ee,dh=mM("iterator"),H2=!1,on,nf,af;[].keys&&(af=[].keys(),"next"in af?(nf=jg(jg(af)),nf!==Object.prototype&&(on=nf)):H2=!0);var bM=!yM(on)||vM(function(){var e={};return on[dh].call(e)!==e});bM&&(on={});pM(on[dh])||gM(on,dh,function(){return this});var Y2={IteratorPrototype:on,BUGGY_SAFARI_ITERATORS:H2},_M=Y2.IteratorPrototype,$M=Pu,wM=du,SM=Ca,OM=Ra,EM=function(){return this},TM=function(e,t,r,n){var i=t+" Iterator";return e.prototype=$M(_M,{next:wM(+!n,r)}),SM(e,i,!1),OM[i]=EM,e},xM=me,PM=Be,V2=hu,CM=Se,AM=TM,Mg=uv,kg=Kd,RM=Ca,IM=si,of=dr,jM=Ee,MM=Ra,G2=Y2,kM=V2.PROPER,DM=V2.CONFIGURABLE,Dg=G2.IteratorPrototype,lo=G2.BUGGY_SAFARI_ITERATORS,Si=jM("iterator"),Fg="keys",Oi="values",Lg="entries",FM=function(){return this},cv=function(e,t,r,n,i,a,o){AM(r,t,n);var u=function(y){if(y===i&&h)return h;if(!lo&&y&&y in f)return f[y];switch(y){case Fg:return function(){return new r(this,y)};case Oi:return function(){return new r(this,y)};case Lg:return function(){return new r(this,y)}}return function(){return new r(this)}},c=t+" Iterator",s=!1,f=e.prototype,l=f[Si]||f["@@iterator"]||i&&f[i],h=!lo&&l||u(i),d=t==="Array"&&f.entries||l,p,v,b;if(d&&(p=Mg(d.call(new e)),p!==Object.prototype&&p.next&&(Mg(p)!==Dg&&(kg?kg(p,Dg):CM(p[Si])||of(p,Si,FM)),RM(p,c,!0))),kM&&i===Oi&&l&&l.name!==Oi&&(DM?IM(f,"name",Oi):(s=!0,h=function(){return PM(l,this)})),i)if(v={values:u(Oi),keys:a?h:u(Fg),entries:u(Lg)},o)for(b in v)(lo||s||!(b in f))&&of(f,b,v[b]);else xM({target:t,proto:!0,forced:lo||s},v);return f[Si]!==h&&of(f,Si,h,{name:i}),MM[t]=h,v},fv=function(e,t){return{value:e,done:t}},LM=pr,lv=sv,Ng=Ra,z2=yn,NM=Tt.f,UM=cv,ho=fv,BM=rt,q2="Array Iterator",WM=z2.set,HM=z2.getterFor(q2),YM=UM(Array,"Array",function(e,t){WM(this,{type:q2,target:LM(e),index:0,kind:t})},function(){var e=HM(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=void 0,ho(void 0,!0);switch(e.kind){case"keys":return ho(r,!1);case"values":return ho(t[r],!1)}return ho([r,t[r]],!1)},"values"),Ug=Ng.Arguments=Ng.Array;lv("keys");lv("values");lv("entries");if(BM&&Ug.name!=="values")try{NM(Ug,"name",{value:"values"})}catch{}var VM=me,GM=Be,zM=qt,qM=gn,KM=Ou,XM=ci,JM=ov;VM({target:"Promise",stat:!0,forced:JM},{allSettled:function(t){var r=this,n=qM.f(r),i=n.resolve,a=n.reject,o=KM(function(){var u=zM(r.resolve),c=[],s=0,f=1;XM(t,function(l){var h=s++,d=!1;f++,GM(u,r,l).then(function(p){d||(d=!0,c[h]={status:"fulfilled",value:p},--f||i(c))},function(p){d||(d=!0,c[h]={status:"rejected",reason:p},--f||i(c))})}),--f||i(c)});return o.error&&a(o.value),n.promise}});var QM=pu,ZM=String,Ir=function(e){if(QM(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return ZM(e)},hv=ye,e9=bu,t9=Ir,r9=dn,n9=hv("".charAt),Bg=hv("".charCodeAt),i9=hv("".slice),Wg=function(e){return function(t,r){var n=t9(r9(t)),i=e9(r),a=n.length,o,u;return i<0||i>=a?e?"":void 0:(o=Bg(n,i),o<55296||o>56319||i+1===a||(u=Bg(n,i+1))<56320||u>57343?e?n9(n,i):o:e?i9(n,i,i+2):(o-55296<<10)+(u-56320)+65536)}},K2={codeAt:Wg(!1),charAt:Wg(!0)},a9=K2.charAt,o9=Ir,X2=yn,s9=cv,Hg=fv,J2="String Iterator",u9=X2.set,c9=X2.getterFor(J2);s9(String,"String",function(e){u9(this,{type:J2,string:o9(e),index:0})},function(){var t=c9(this),r=t.string,n=t.index,i;return n>=r.length?Hg(void 0,!0):(i=a9(r,n),t.index+=i.length,Hg(i,!1))});var Q2={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},f9=fu,sf=f9("span").classList,Yg=sf&&sf.constructor&&sf.constructor.prototype,Z2=Yg===Object.prototype?void 0:Yg,Vg=Oe,eS=Q2,l9=Z2,Fi=YM,Gg=si,h9=Ca,d9=Ee,uf=d9("iterator"),cf=Fi.values,tS=function(e,t){if(e){if(e[uf]!==cf)try{Gg(e,uf,cf)}catch{e[uf]=cf}if(h9(e,t,!0),eS[t]){for(var r in Fi)if(e[r]!==Fi[r])try{Gg(e,r,Fi[r])}catch{e[r]=Fi[r]}}}};for(var ff in eS)tS(Vg[ff]&&Vg[ff].prototype,ff);tS(l9,"DOMTokenList");var v9=zt,zg=_u,p9=yr,y9=function(t){for(var r=v9(this),n=p9(r),i=arguments.length,a=zg(i>1?arguments[1]:void 0,n),o=i>2?arguments[2]:void 0,u=o===void 0?n:zg(o,n);u>a;)r[a++]=t;return r},g9=me,m9=y9,b9=sv;g9({target:"Array",proto:!0},{fill:m9});b9("fill");var _9=vr,dv=Array.isArray||function(t){return _9(t)==="Array"},$9=Ud,w9=Tt,S9=du,Cu=function(e,t,r){var n=$9(t);n in e?w9.f(e,n,S9(0,r)):e[n]=r},O9=he,E9=Ee,T9=Ea,x9=E9("species"),Au=function(e){return T9>=51||!O9(function(){var t=[],r=t.constructor={};return r[x9]=function(){return{foo:1}},t[e](Boolean).foo!==1})},P9=me,qg=dv,C9=Su,A9=Ue,Kg=_u,R9=yr,I9=pr,j9=Cu,M9=Ee,k9=Au,D9=p2,F9=k9("slice"),L9=M9("species"),lf=Array,N9=Math.max;P9({target:"Array",proto:!0,forced:!F9},{slice:function(t,r){var n=I9(this),i=R9(n),a=Kg(t,i),o=Kg(r===void 0?i:r,i),u,c,s;if(qg(n)&&(u=n.constructor,C9(u)&&(u===lf||qg(u.prototype))?u=void 0:A9(u)&&(u=u[L9],u===null&&(u=void 0)),u===lf||u===void 0))return D9(n,a,o);for(c=new(u===void 0?lf:u)(N9(o-a,0)),s=0;a<o;a++,s++)a in n&&j9(c,s,n[a]);return c.length=s,c}});function vv(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function u(f){try{s(n.next(f))}catch(l){o(l)}}function c(f){try{s(n.throw(f))}catch(l){o(l)}}function s(f){f.done?a(f.value):i(f.value).then(u,c)}s((n=n.apply(e,[])).next())})}function se(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}var rS={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,s,f){this.fn=c,this.context=s,this.once=f||!1}function a(c,s,f,l,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var d=new i(f,l||c,h),p=r?r+s:s;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],d]:c._events[p].push(d):(c._events[p]=d,c._eventsCount++),c}function o(c,s){--c._eventsCount===0?c._events=new n:delete c._events[s]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var s=[],f,l;if(this._eventsCount===0)return s;for(l in f=this._events)t.call(f,l)&&s.push(r?l.slice(1):l);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(f)):s},u.prototype.listeners=function(s){var f=r?r+s:s,l=this._events[f];if(!l)return[];if(l.fn)return[l.fn];for(var h=0,d=l.length,p=new Array(d);h<d;h++)p[h]=l[h].fn;return p},u.prototype.listenerCount=function(s){var f=r?r+s:s,l=this._events[f];return l?l.fn?1:l.length:0},u.prototype.emit=function(s,f,l,h,d,p){var v=r?r+s:s;if(!this._events[v])return!1;var b=this._events[v],y=arguments.length,m,$;if(b.fn){switch(b.once&&this.removeListener(s,b.fn,void 0,!0),y){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,l),!0;case 4:return b.fn.call(b.context,f,l,h),!0;case 5:return b.fn.call(b.context,f,l,h,d),!0;case 6:return b.fn.call(b.context,f,l,h,d,p),!0}for($=1,m=new Array(y-1);$<y;$++)m[$-1]=arguments[$];b.fn.apply(b.context,m)}else{var T=b.length,I;for($=0;$<T;$++)switch(b[$].once&&this.removeListener(s,b[$].fn,void 0,!0),y){case 1:b[$].fn.call(b[$].context);break;case 2:b[$].fn.call(b[$].context,f);break;case 3:b[$].fn.call(b[$].context,f,l);break;case 4:b[$].fn.call(b[$].context,f,l,h);break;default:if(!m)for(I=1,m=new Array(y-1);I<y;I++)m[I-1]=arguments[I];b[$].fn.apply(b[$].context,m)}}return!0},u.prototype.on=function(s,f,l){return a(this,s,f,l,!1)},u.prototype.once=function(s,f,l){return a(this,s,f,l,!0)},u.prototype.removeListener=function(s,f,l,h){var d=r?r+s:s;if(!this._events[d])return this;if(!f)return o(this,d),this;var p=this._events[d];if(p.fn)p.fn===f&&(!h||p.once)&&(!l||p.context===l)&&o(this,d);else{for(var v=0,b=[],y=p.length;v<y;v++)(p[v].fn!==f||h&&!p[v].once||l&&p[v].context!==l)&&b.push(p[v]);b.length?this._events[d]=b.length===1?b[0]:b:o(this,d)}return this},u.prototype.removeAllListeners=function(s){var f;return s?(f=r?r+s:s,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(rS);var U9=rS.exports,B9=Ke(U9),W9=Array.isArray,pt=W9;function Ru(){if(!arguments.length)return[];var e=arguments[0];return pt(e)?e:[e]}var Xg=dv,H9=Su,Y9=Ue,V9=Ee,G9=V9("species"),Jg=Array,z9=function(e){var t;return Xg(e)&&(t=e.constructor,H9(t)&&(t===Jg||Xg(t.prototype))?t=void 0:Y9(t)&&(t=t[G9],t===null&&(t=void 0))),t===void 0?Jg:t},q9=z9,nS=function(e,t){return new(q9(e))(t===0?0:t)},K9=ui,X9=ye,J9=gu,Q9=zt,Z9=yr,ek=nS,Qg=X9([].push),br=function(e){var t=e===1,r=e===2,n=e===3,i=e===4,a=e===6,o=e===7,u=e===5||a;return function(c,s,f,l){for(var h=Q9(c),d=J9(h),p=Z9(d),v=K9(s,f),b=0,y=l||ek,m=t?y(c,p):r||o?y(c,0):void 0,$,T;p>b;b++)if((u||b in d)&&($=d[b],T=v($,b,h),e))if(t)m[b]=T;else if(T)switch(e){case 3:return!0;case 5:return $;case 6:return b;case 2:Qg(m,$)}else switch(e){case 4:return!1;case 7:Qg(m,$)}return a?-1:n||i?i:m}},Iu={forEach:br(0),map:br(1),filter:br(2),some:br(3),every:br(4),find:br(5),findIndex:br(6),filterReject:br(7)},tk=me,rk=Iu.map,nk=Au,ik=nk("map");tk({target:"Array",proto:!0,forced:!ik},{map:function(t){return rk(this,t,arguments.length>1?arguments[1]:void 0)}});var Zg=rt,ak=ye,ok=Be,sk=he,hf=xu,uk=zd,ck=yu,fk=zt,lk=gu,En=Object.assign,em=Object.defineProperty,hk=ak([].concat),dk=!En||sk(function(){if(Zg&&En({b:1},En(em({},"a",{enumerable:!0,get:function(){em(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(i){t[i]=i}),En({},e)[r]!==7||hf(En({},t)).join("")!==n})?function(t,r){for(var n=fk(t),i=arguments.length,a=1,o=uk.f,u=ck.f;i>a;)for(var c=lk(arguments[a++]),s=o?hk(hf(c),o(c)):hf(c),f=s.length,l=0,h;f>l;)h=s[l++],(!Zg||ok(u,c,h))&&(n[h]=c[h]);return n}:En,vk=me,tm=dk;vk({target:"Object",stat:!0,arity:2,forced:Object.assign!==tm},{assign:tm});var iS={exports:{}},aS={},rm=_u,pk=yr,yk=Cu,gk=Array,mk=Math.max,oS=function(e,t,r){for(var n=pk(e),i=rm(t,n),a=rm(r===void 0?n:r,n),o=gk(mk(a-i,0)),u=0;i<a;i++,u++)yk(o,u,e[i]);return o.length=u,o},bk=vr,_k=pr,sS=mu.f,$k=oS,uS=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],wk=function(e){try{return sS(e)}catch{return $k(uS)}};aS.f=function(t){return uS&&bk(t)==="Window"?wk(t):sS(_k(t))};var Sk=he,Ok=Sk(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Ek=he,Tk=Ue,xk=vr,nm=Ok,Ko=Object.isExtensible,Pk=Ek(function(){Ko(1)}),Ck=Pk||nm?function(t){return!Tk(t)||nm&&xk(t)==="ArrayBuffer"?!1:Ko?Ko(t):!0}:Ko,Ak=he,Rk=!Ak(function(){return Object.isExtensible(Object.preventExtensions({}))}),Ik=me,jk=ye,Mk=vu,kk=Ue,pv=mt,Dk=Tt.f,im=mu,Fk=aS,yv=Ck,Lk=Fd,Nk=Rk,cS=!1,ur=Lk("meta"),Uk=0,gv=function(e){Dk(e,ur,{value:{objectID:"O"+Uk++,weakData:{}}})},Bk=function(e,t){if(!kk(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!pv(e,ur)){if(!yv(e))return"F";if(!t)return"E";gv(e)}return e[ur].objectID},Wk=function(e,t){if(!pv(e,ur)){if(!yv(e))return!0;if(!t)return!1;gv(e)}return e[ur].weakData},Hk=function(e){return Nk&&cS&&yv(e)&&!pv(e,ur)&&gv(e),e},Yk=function(){Vk.enable=function(){},cS=!0;var e=im.f,t=jk([].splice),r={};r[ur]=1,e(r).length&&(im.f=function(n){for(var i=e(n),a=0,o=i.length;a<o;a++)if(i[a]===ur){t(i,a,1);break}return i},Ik({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Fk.f}))},Vk=iS.exports={enable:Yk,fastKey:Bk,getWeakData:Wk,onFreeze:Hk};Mk[ur]=!0;var mv=iS.exports,Gk=Se,zk=Ue,am=Kd,qk=function(e,t,r){var n,i;return am&&Gk(n=t.constructor)&&n!==r&&zk(i=n.prototype)&&i!==r.prototype&&am(e,i),e},Kk=me,Xk=Oe,Jk=ye,om=qd,Qk=dr,Zk=mv,eD=ci,tD=wu,rD=Se,nD=Rr,df=Ue,vf=he,iD=av,aD=Ca,oD=qk,bv=function(e,t,r){var n=e.indexOf("Map")!==-1,i=e.indexOf("Weak")!==-1,a=n?"set":"add",o=Xk[e],u=o&&o.prototype,c=o,s={},f=function(y){var m=Jk(u[y]);Qk(u,y,y==="add"?function(T){return m(this,T===0?0:T),this}:y==="delete"?function($){return i&&!df($)?!1:m(this,$===0?0:$)}:y==="get"?function(T){return i&&!df(T)?void 0:m(this,T===0?0:T)}:y==="has"?function(T){return i&&!df(T)?!1:m(this,T===0?0:T)}:function(T,I){return m(this,T===0?0:T,I),this})},l=om(e,!rD(o)||!(i||u.forEach&&!vf(function(){new o().entries().next()})));if(l)c=r.getConstructor(t,e,n,a),Zk.enable();else if(om(e,!0)){var h=new c,d=h[a](i?{}:-0,1)!==h,p=vf(function(){h.has(1)}),v=iD(function(y){new o(y)}),b=!i&&vf(function(){for(var y=new o,m=5;m--;)y[a](m,m);return!y.has(-0)});v||(c=t(function(y,m){tD(y,u);var $=oD(new o,y,c);return nD(m)||eD(m,$[a],{that:$,AS_ENTRIES:n}),$}),c.prototype=u,u.constructor=c),(p||b)&&(f("delete"),f("has"),n&&f("get")),(b||d)&&f(a),i&&u.clear&&delete u.clear}return s[e]=c,Kk({global:!0,constructor:!0,forced:c!==o},s),aD(c,e),i||r.setStrong(c,e,n),c},sD=dr,fS=function(e,t,r){for(var n in t)sD(e,n,t[n],r);return e},uD=ye,sm=fS,vo=mv.getWeakData,cD=wu,fD=Xe,lD=Rr,pf=Ue,hD=ci,lS=Iu,um=mt,hS=yn,dD=hS.set,vD=hS.getterFor,pD=lS.find,yD=lS.findIndex,gD=uD([].splice),mD=0,po=function(e){return e.frozen||(e.frozen=new dS)},dS=function(){this.entries=[]},yf=function(e,t){return pD(e.entries,function(r){return r[0]===t})};dS.prototype={get:function(e){var t=yf(this,e);if(t)return t[1]},has:function(e){return!!yf(this,e)},set:function(e,t){var r=yf(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=yD(this.entries,function(r){return r[0]===e});return~t&&gD(this.entries,t,1),!!~t}};var bD={getConstructor:function(e,t,r,n){var i=e(function(c,s){cD(c,a),dD(c,{type:t,id:mD++,frozen:void 0}),lD(s)||hD(s,c[n],{that:c,AS_ENTRIES:r})}),a=i.prototype,o=vD(t),u=function(c,s,f){var l=o(c),h=vo(fD(s),!0);return h===!0?po(l).set(s,f):h[l.id]=f,c};return sm(a,{delete:function(c){var s=o(this);if(!pf(c))return!1;var f=vo(c);return f===!0?po(s).delete(c):f&&um(f,s.id)&&delete f[s.id]},has:function(s){var f=o(this);if(!pf(s))return!1;var l=vo(s);return l===!0?po(f).has(s):l&&um(l,f.id)}}),sm(a,r?{get:function(s){var f=o(this);if(pf(s)){var l=vo(s);return l===!0?po(f).get(s):l?l[f.id]:void 0}},set:function(s,f){return u(this,s,f)}}:{add:function(s){return u(this,s,!0)}}),i}},_D=bv,$D=bD;_D("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},$D);var Pe;(function(e){e[e.SCROLL_NONE=0]="SCROLL_NONE",e[e.SCROLL_BACKWARD=1]="SCROLL_BACKWARD",e[e.SCROLL_FORWARD=2]="SCROLL_FORWARD"})(Pe||(Pe={}));var Wt;(function(e){e[e.TOP=0]="TOP",e[e.RIGHT=1]="RIGHT",e[e.BOTTOM=2]="BOTTOM",e[e.LEFT=3]="LEFT"})(Wt||(Wt={}));var wD="hour",SD="minute",OD=10,ED=10,TD=2,xD=0,PD=200,CD=12,AD="#cal-heatmap",RD="light",ID="en",jD="red",MD="YlOrBr",kD="quantize",DD=[0,100],Xo,vS,pS,FD=function(){function e(t){Ge(this,e),Xo.add(this),this.calendar=t,this.maxDomainReached=!1,this.minDomainReached=!1}return ze(e,[{key:"loadNewDomains",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pe.SCROLL_NONE,a=this.calendar.options.options,o=this.calendar.templateCollection,u=a.date.min?o.get(a.domain.type).extractUnit(+a.date.min):void 0,c=a.date.max?o.get(a.domain.type).extractUnit(+a.date.max):void 0,s=this.calendar.domainCollection;return se(this,Xo,"m",vS).call(this,r,u,c,i)?Pe.SCROLL_NONE:(i!==Pe.SCROLL_NONE&&r.clamp(u,c).slice(a.range,i===Pe.SCROLL_FORWARD),s.merge(r,a.range,function(f,l){var h=null;return r.at(l+1)?h=r.at(l+1):h=n.calendar.dateHelper.intervals(a.domain.type,f,2).pop(),o.get(a.subDomain.type).mapping(f,h).map(function(d){return Object.assign(Object.assign({},d),{v:a.data.defaultValue})})}),se(this,Xo,"m",pS).call(this,s.min,s.max,u,c),i===Pe.SCROLL_BACKWARD?this.calendar.eventEmitter.emit("domainsLoaded",[s.min]):i===Pe.SCROLL_FORWARD&&this.calendar.eventEmitter.emit("domainsLoaded",[s.max]),i)}},{key:"jumpTo",value:function(r,n){var i=this.calendar,a=i.domainCollection,o=i.options,u=new Date(a.min),c=new Date(a.max);return r<u?this.loadNewDomains(this.calendar.createDomainCollection(r,u,!1),Pe.SCROLL_BACKWARD):n?this.loadNewDomains(this.calendar.createDomainCollection(r,o.options.range),u<r?Pe.SCROLL_FORWARD:Pe.SCROLL_BACKWARD):r>c?this.loadNewDomains(this.calendar.createDomainCollection(c,r,!1),Pe.SCROLL_FORWARD):Pe.SCROLL_NONE}}]),e}();Xo=new WeakSet,vS=function(t,r,n,i){return!!(n&&t.max>=n&&this.maxDomainReached&&i===Pe.SCROLL_FORWARD||r&&t.min<=r&&this.minDomainReached&&i===Pe.SCROLL_BACKWARD)},pS=function(t,r,n,i){if(n){var a=t<=n;this.calendar.eventEmitter.emit(a?"minDateReached":"minDateNotReached"),this.minDomainReached=a}if(i){var o=r>=i;this.calendar.eventEmitter.emit(o?"maxDateReached":"maxDateNotReached"),this.maxDomainReached=o}};var LD=TypeError,ND=9007199254740991,UD=function(e){if(e>ND)throw LD("Maximum allowed index exceeded");return e},BD=me,WD=he,HD=dv,YD=Ue,VD=zt,GD=yr,cm=UD,fm=Cu,zD=nS,qD=Au,KD=Ee,XD=Ea,yS=KD("isConcatSpreadable"),JD=XD>=51||!WD(function(){var e=[];return e[yS]=!1,e.concat()[0]!==e}),QD=function(e){if(!YD(e))return!1;var t=e[yS];return t!==void 0?!!t:HD(e)},ZD=!JD||!qD("concat");BD({target:"Array",proto:!0,arity:1,forced:ZD},{concat:function(t){var r=VD(this),n=zD(r,0),i=0,a,o,u,c,s;for(a=-1,u=arguments.length;a<u;a++)if(s=a===-1?r:arguments[a],QD(s))for(c=GD(s),cm(i+c),o=0;o<c;o++,i++)o in s&&fm(n,i,s[o]);else cm(i+1),fm(n,i++,s);return n.length=i,n}});var eF=he,_v=function(e,t){var r=[][e];return!!r&&eF(function(){r.call(null,t||function(){return 1},1)})},tF=me,rF=ye,nF=gu,iF=pr,aF=_v,oF=rF([].join),sF=nF!==Object,uF=sF||!aF("join",",");tF({target:"Array",proto:!0,forced:uF},{join:function(t){return oF(iF(this),t===void 0?",":t)}});var cF=Pu,fF=Xd,lm=fS,lF=ui,hF=wu,dF=Rr,vF=ci,pF=cv,yo=fv,yF=s2,Ei=rt,hm=mv.fastKey,gS=yn,dm=gS.set,gf=gS.getterFor,mS={getConstructor:function(e,t,r,n){var i=e(function(s,f){hF(s,a),dm(s,{type:t,index:cF(null),first:void 0,last:void 0,size:0}),Ei||(s.size=0),dF(f)||vF(f,s[n],{that:s,AS_ENTRIES:r})}),a=i.prototype,o=gf(t),u=function(s,f,l){var h=o(s),d=c(s,f),p,v;return d?d.value=l:(h.last=d={index:v=hm(f,!0),key:f,value:l,previous:p=h.last,next:void 0,removed:!1},h.first||(h.first=d),p&&(p.next=d),Ei?h.size++:s.size++,v!=="F"&&(h.index[v]=d)),s},c=function(s,f){var l=o(s),h=hm(f),d;if(h!=="F")return l.index[h];for(d=l.first;d;d=d.next)if(d.key===f)return d};return lm(a,{clear:function(){for(var f=this,l=o(f),h=l.index,d=l.first;d;)d.removed=!0,d.previous&&(d.previous=d.previous.next=void 0),delete h[d.index],d=d.next;l.first=l.last=void 0,Ei?l.size=0:f.size=0},delete:function(s){var f=this,l=o(f),h=c(f,s);if(h){var d=h.next,p=h.previous;delete l.index[h.index],h.removed=!0,p&&(p.next=d),d&&(d.previous=p),l.first===h&&(l.first=d),l.last===h&&(l.last=p),Ei?l.size--:f.size--}return!!h},forEach:function(f){for(var l=o(this),h=lF(f,arguments.length>1?arguments[1]:void 0),d;d=d?d.next:l.first;)for(h(d.value,d.key,this);d&&d.removed;)d=d.previous},has:function(f){return!!c(this,f)}}),lm(a,r?{get:function(f){var l=c(this,f);return l&&l.value},set:function(f,l){return u(this,f===0?0:f,l)}}:{add:function(f){return u(this,f=f===0?0:f,f)}}),Ei&&fF(a,"size",{configurable:!0,get:function(){return o(this).size}}),i},setStrong:function(e,t,r){var n=t+" Iterator",i=gf(t),a=gf(n);pF(e,t,function(o,u){dm(this,{type:n,target:o,state:i(o),kind:u,last:void 0})},function(){for(var o=a(this),u=o.kind,c=o.last;c&&c.removed;)c=c.previous;return!o.target||!(o.last=c=c?c.next:o.state.first)?(o.target=void 0,yo(void 0,!0)):yo(u==="keys"?c.key:u==="values"?c.value:[c.key,c.value],!1)},r?"entries":"values",!r,!0),yF(t)}},gF=bv,mF=mS;gF("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},mF);var vm=Ta,bF=TypeError,_F=function(e,t){if(!delete e[t])throw new bF("Cannot delete property "+vm(t)+" of "+vm(e))},pm=oS,$F=Math.floor,vh=function(e,t){var r=e.length,n=$F(r/2);return r<8?wF(e,t):SF(e,vh(pm(e,0,n),t),vh(pm(e,n),t),t)},wF=function(e,t){for(var r=e.length,n=1,i,a;n<r;){for(a=n,i=e[n];a&&t(e[a-1],i)>0;)e[a]=e[--a];a!==n++&&(e[a]=i)}return e},SF=function(e,t,r,n){for(var i=t.length,a=r.length,o=0,u=0;o<i||u<a;)e[o+u]=o<i&&u<a?n(t[o],r[u])<=0?t[o++]:r[u++]:o<i?t[o++]:r[u++];return e},OF=vh,EF=vn,ym=EF.match(/firefox\/(\d+)/i),TF=!!ym&&+ym[1],xF=vn,PF=/MSIE|Trident/.test(xF),CF=vn,gm=CF.match(/AppleWebKit\/(\d+)\./),AF=!!gm&&+gm[1],RF=me,bS=ye,IF=qt,jF=zt,mm=yr,MF=_F,bm=Ir,$v=he,kF=OF,DF=_v,_m=TF,FF=PF,$m=Ea,wm=AF,Sr=[],Sm=bS(Sr.sort),LF=bS(Sr.push),NF=$v(function(){Sr.sort(void 0)}),UF=$v(function(){Sr.sort(null)}),BF=DF("sort"),_S=!$v(function(){if($m)return $m<70;if(!(_m&&_m>3)){if(FF)return!0;if(wm)return wm<603;var e="",t,r,n,i;for(t=65;t<76;t++){switch(r=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)Sr.push({k:r+i,v:n})}for(Sr.sort(function(a,o){return o.v-a.v}),i=0;i<Sr.length;i++)r=Sr[i].k.charAt(0),e.charAt(e.length-1)!==r&&(e+=r);return e!=="DGBEFHACIJK"}}),WF=NF||!UF||!BF||!_S,HF=function(e){return function(t,r){return r===void 0?-1:t===void 0?1:e!==void 0?+e(t,r)||0:bm(t)>bm(r)?1:-1}};RF({target:"Array",proto:!0,forced:WF},{sort:function(t){t!==void 0&&IF(t);var r=jF(this);if(_S)return t===void 0?Sm(r):Sm(r,t);var n=[],i=mm(r),a,o;for(o=0;o<i;o++)o in r&&LF(n,r[o]);for(kF(n,HF(t)),a=mm(n),o=0;o<a;)r[o]=n[o++];for(;o<i;)MF(r,o++);return r}});var YF=Iu.forEach,VF=_v,GF=VF("forEach"),zF=GF?[].forEach:function(t){return YF(this,t,arguments.length>1?arguments[1]:void 0)},Om=Oe,Em=Q2,qF=Z2,mf=zF,KF=si,$S=function(e){if(e&&e.forEach!==mf)try{KF(e,"forEach",mf)}catch{e.forEach=mf}};for(var bf in Em)Em[bf]&&$S(Om[bf]&&Om[bf].prototype);$S(qF);function Tm(e){return e==="top"||e==="bottom"}function wS(e){return e[Wt.LEFT]+e[Wt.RIGHT]}function SS(e){return e[Wt.TOP]+e[Wt.BOTTOM]}var Jo,OS,ES,XF=function(){function e(t,r){Ge(this,e),Jo.add(this),this.calendar=t,this.domainPainter=r,this.collection=new Map,this.scrollDirection=Pe.SCROLL_FORWARD}return ze(e,[{key:"get",value:function(r){return this.collection.get(r)}},{key:"update",value:function(r,n){var i=this,a=this.calendar.options.options,o=a.verticalOrientation,u=a.domain;this.scrollDirection=n;var c={width:0,height:0},s=0,f=n===Pe.SCROLL_FORWARD?-1:1,l=r.keys;return this.calendar.options.options.domain.sort==="desc"&&(l.reverse(),f*=-1),r.yankedDomains.forEach(function(h){s+=i.collection.get(h)[o?"height":"width"]}),r.yankedDomains.forEach(function(h){var d=i.collection.get(h);i.collection.set(h,Object.assign(Object.assign({},d),{x:o?d.x:d.x+s*f,y:o?d.y+s*f:d.y}))}),l.forEach(function(h){var d=se(i,Jo,"m",OS).call(i,h),p=se(i,Jo,"m",ES).call(i,h);o?(c.height+=p,c.width=Math.max(d,c.width)):(c.width+=d,c.height=Math.max(p,c.height));var v=c.width-d,b=c.height-p;i.collection.set(h,Object.assign(Object.assign({},i.collection.get(h)),{x:o?0:v,y:o?b:0,pre_x:o?v:v-s*f,pre_y:o?b-s*f:b,width:d,height:p,inner_width:d-(o?0:u.gutter),inner_height:p-(o?u.gutter:0)}))}),c}}]),e}();Jo=new WeakSet,OS=function(t){var r=this.calendar.options.options,n=r.domain,i=r.subDomain,a=r.x,o=r.verticalOrientation,u=this.calendar.templateCollection.get(i.type).columnsCount(t),c=(i.width+i.gutter)*u-i.gutter;return wS(n.padding)+a.domainHorizontalLabelWidth+(o?0:n.gutter)+c},ES=function(t){var r=this.calendar.options.options,n=r.domain,i=r.subDomain,a=r.x,o=r.verticalOrientation,u=this.calendar.templateCollection.get(i.type).rowsCount(t),c=(i.height+i.gutter)*u-i.gutter;return SS(n.padding)+c+(o?n.gutter:0)+a.domainVerticalLabelHeight};var ph,TS,Qo=".ch-domain",JF=function(){function e(t){Ge(this,e),ph.add(this),this.calendar=t,this.coordinates=new XF(t,this),this.root=null,this.dimensions={width:0,height:0}}return ze(e,[{key:"paint",value:function(r,n){var i=this,a=this.calendar.options.options.animationDuration,o=n.transition().duration(a),u=this.coordinates;this.dimensions=u.update(this.calendar.domainCollection,r);var c=[];return this.root=n.selectAll(Qo).data(this.calendar.domainCollection.keys,function(s){return s}).join(function(s){return s.append("svg").attr("x",function(f){return u.get(f).pre_x}).attr("y",function(f){return u.get(f).pre_y}).attr("width",function(f){return u.get(f).inner_width}).attr("height",function(f){return u.get(f).inner_height}).attr("class",function(f){return se(i,ph,"m",TS).call(i,f)}).call(function(f){return f.append("rect").attr("width",function(l){return u.get(l).inner_width}).attr("height",function(l){return u.get(l).inner_height}).attr("class","".concat(Qo.slice(1),"-bg"))}).call(function(f){return c.push(f.transition(o).attr("x",function(l){return u.get(l).x}).attr("y",function(l){return u.get(l).y}).end())})},function(s){return s.call(function(f){return c.push(f.transition(o).attr("x",function(l){return u.get(l).x}).attr("y",function(l){return u.get(l).y}).attr("width",function(l){return u.get(l).inner_width}).attr("height",function(l){return u.get(l).inner_height}).end())}).call(function(f){return c.push(f.selectAll("".concat(Qo,"-bg")).transition(o).attr("width",function(l){return u.get(l).inner_width}).attr("height",function(l){return u.get(l).inner_height}).end())})},function(s){return s.call(function(f){return c.push(f.transition(o).attr("x",function(l){return u.get(l).x}).attr("y",function(l){return u.get(l).y}).remove().end())})}),c}}]),e}();ph=new WeakSet,TS=function(t){var r=Qo.slice(1),n=this.calendar.dateHelper.date(t);switch(this.calendar.options.options.domain.type){case"hour":r+=" h_".concat(n.hour());break;case"day":r+=" d_".concat(n.date()," dy_").concat(n.format("d")+1);break;case"week":r+=" w_".concat(n.week());break;case"month":r+=" m_".concat(n.month()+1);break;case"year":r+=" y_".concat(n.year());break}return r};var QF=me,ZF=a2.includes,eL=he,tL=sv,rL=eL(function(){return!Array(1).includes()});QF({target:"Array",proto:!0,forced:rL},{includes:function(t){return ZF(this,t,arguments.length>1?arguments[1]:void 0)}});tL("includes");var nL=me,iL=Iu.filter,aL=Au,oL=aL("filter");nL({target:"Array",proto:!0,forced:!oL},{filter:function(t){return iL(this,t,arguments.length>1?arguments[1]:void 0)}});var sL=Xe,uL=F2,cL=function(e,t,r,n){try{return n?t(sL(r)[0],r[1]):t(r)}catch(i){uL(e,"throw",i)}},fL=ui,lL=Be,hL=zt,dL=cL,vL=k2,pL=Su,yL=yr,xm=Cu,gL=D2,mL=iv,Pm=Array,bL=function(t){var r=hL(t),n=pL(this),i=arguments.length,a=i>1?arguments[1]:void 0,o=a!==void 0;o&&(a=fL(a,i>2?arguments[2]:void 0));var u=mL(r),c=0,s,f,l,h,d,p;if(u&&!(this===Pm&&vL(u)))for(h=gL(r,u),d=h.next,f=n?new this:[];!(l=lL(d,h)).done;c++)p=o?dL(h,a,[l.value,c],!0):l.value,xm(f,c,p);else for(s=yL(r),f=n?new this(s):Pm(s);s>c;c++)p=o?a(r[c],c):r[c],xm(f,c,p);return f.length=c,f},_L=me,$L=bL,wL=av,SL=!wL(function(e){Array.from(e)});_L({target:"Array",stat:!0,forced:SL},{from:$L});var $r,xS,Cm,Li,OL={year:"YYYY",month:"MMMM",week:"wo [week] YYYY",xDay:"Do MMM",ghDay:"Do MMM",day:"Do MMM",hour:"HH:00",minute:"HH:mm"},Am=function(){function e(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Ge(this,e),$r.add(this),this.collection=new Map,this.dateHelper=t,r&&n&&i){var o=this.dateHelper.intervals(r,n,i,a).map(function(u){return Ru(u)});this.collection=new Map(o)}this.min=0,this.max=0,this.keys=[],this.yankedDomains=[],this.collection.size>0&&se(this,$r,"m",Li).call(this)}return ze(e,[{key:"has",value:function(r){return this.collection.has(r)}},{key:"get",value:function(r){return this.collection.get(r)}},{key:"forEach",value:function(r){return this.collection.forEach(r)}},{key:"at",value:function(r){return this.keys[r]}},{key:"clamp",value:function(r,n){var i=this;return r&&this.min<r&&this.keys.filter(function(a){return a<r}).forEach(function(a){return i.collection.delete(a)}),n&&this.max>n&&this.keys.filter(function(a){return a>n}).forEach(function(a){return i.collection.delete(a)}),se(this,$r,"m",Li).call(this),this}},{key:"merge",value:function(r,n,i){var a=this;this.yankedDomains=[],r.keys.forEach(function(o,u){if(!a.has(o)){if(a.collection.size>=n){var c=a.max;o>a.max&&(c=a.min),c&&a.collection.delete(c)&&a.yankedDomains.push(c)}a.collection.set(o,i(o,u)),se(a,$r,"m",Li).call(a)}}),this.yankedDomains=this.yankedDomains.sort(function(o,u){return o-u})}},{key:"slice",value:function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(this.keys.length>n){var a=i?this.keys.slice(0,-n):this.keys.slice(n);a.forEach(function(o){r.collection.delete(o)}),se(this,$r,"m",Li).call(this)}return this}},{key:"fill",value:function(r,n,i){var a=this,o=n.x,u=n.y,c=n.groupY,s=n.defaultValue,f=this.groupRecords(r,o,i);this.keys.forEach(function(l){var h=f.get(l)||{};se(a,$r,"m",xS).call(a,l,h,u,c,s)})}},{key:"groupRecords",value:function(r,n,i){var a=this,o=new Map,u=new Map;return this.keys.forEach(function(c){a.get(c).forEach(function(s){u.set(s.t,c)})}),r.forEach(function(c){var s=a.extractTimestamp(c,n,i);if(u.has(s)){var f=u.get(s),l=o.get(f)||{};l[s]||(l[s]=[]),l[s].push(c),o.set(f,l)}}),o}},{key:"groupValues",value:function(r,n){var i=r.filter(function(a){return a!==null});if(typeof n=="string"){if(i.every(function(a){return typeof a=="number"}))switch(n){case"sum":return i.reduce(function(a,o){return a+o},0);case"count":return i.length;case"min":return Math.min.apply(Math,Vl(i))||null;case"max":return Math.max.apply(Math,Vl(i))||null;case"average":return i.length>0?i.reduce(function(a,o){return a+o},0)/i.length:null;default:return null}switch(n){case"count":return i.length;default:return null}}else if(typeof n=="function")return n(i);return null}},{key:"extractTimestamp",value:function(r,n,i){var a=typeof n=="function"?n(r):r[n];return typeof a=="string"&&(a=+new Date(a)),i(a)}}]),e}();$r=new WeakSet,xS=function(t,r,n,i,a){var o=this;this.get(t).forEach(function(u,c){var s=a;r.hasOwnProperty(u.t)&&(s=o.groupValues(se(o,$r,"m",Cm).call(o,r[u.t],n),i)),o.get(t)[c].v=s})},Cm=function(t,r){return t.map(function(n){return typeof r=="function"?r(n):n[r]})},Li=function(){this.keys=Array.from(this.collection.keys()).map(function(r){return parseInt(r,10)}).sort(function(r,n){return r-n});var t=this.keys;return this.min=t[0],this.max=t[t.length-1],this.keys};var Me,yh,gh,mh,Tn,go,bh,Rm=".ch-domain-text",EL=function(){function e(t){Ge(this,e),Me.add(this),this.calendar=t}return ze(e,[{key:"paint",value:function(r){var n=this,i=this.calendar.options.options.domain,a=i.label,o=i.type,u=this.calendar.dateHelper,c=a.text;c===null||c===""||(typeof c>"u"&&(c=OL[o]),r.selectAll(Rm).data(function(s){return[s]},function(s){return s}).join(function(s){return s.append("text").attr("class",Rm.slice(1)).attr("x",function(f){return se(n,Me,"m",gh).call(n,f)}).attr("y",function(f){return se(n,Me,"m",mh).call(n,f)}).attr("text-anchor",a.textAlign).attr("dominant-baseline",function(){return se(n,Me,"m",yh).call(n)}).text(function(f,l,h){return u.format(f,c,h[l])}).call(function(f){return se(n,Me,"m",bh).call(n,f)})},function(s){s.attr("x",function(f){return se(n,Me,"m",gh).call(n,f)}).attr("y",function(f){return se(n,Me,"m",mh).call(n,f)}).attr("text-anchor",a.textAlign).attr("dominant-baseline",function(){return se(n,Me,"m",yh).call(n)}).text(function(f,l,h){return u.format(f,c,h[l])}).call(function(f){return se(n,Me,"m",bh).call(n,f)})}))}}]),e}();Me=new WeakSet,yh=function(){var t=this.calendar.options.options.domain.label,r=t.position,n=t.rotate;return Tm(r)?"middle":n==="left"&&r==="left"||n==="right"&&r==="right"?"bottom":"hanging"},gh=function(t){var r=this.calendar.options.options.domain,n=r.padding,i=r.label,a=i.position,o=i.textAlign,u=i.offset,c=this.calendar.options.options.x.domainHorizontalLabelWidth,s=n[Wt.LEFT];return a==="right"&&(s+=se(this,Me,"m",Tn).call(this,t)),o==="middle"&&(["top","bottom"].includes(a)?s+=se(this,Me,"m",Tn).call(this,t)/2:s+=c/2),o==="end"&&(Tm(a)?s+=se(this,Me,"m",Tn).call(this,t):s+=c),s+u.x},mh=function(t){var r=this.calendar.options.options,n=r.domain,i=n.label,a=i.position,o=i.offset,u=n.padding,c=r.x,s=u[Wt.TOP]+c.domainVerticalLabelHeight/2;return a==="bottom"&&(s+=se(this,Me,"m",go).call(this,t)),s+o.y},Tn=function(t){var r=this.calendar.options.options,n=r.domain.padding,i=r.x.domainHorizontalLabelWidth,a=this.calendar.calendarPainter.domainsContainerPainter.domainPainter.coordinates;return a.get(t).inner_width-i-wS(n)},go=function(t){var r=this.calendar.options.options,n=r.x.domainVerticalLabelHeight,i=r.domain.padding,a=this.calendar.calendarPainter.domainsContainerPainter.domainPainter.coordinates;return a.get(t).inner_height-n-SS(i)},bh=function(t){var r=this,n=this.calendar.options.options,i=n.domain.label,a=i.rotate,o=i.textAlign,u=i.position,c=n.x,s=c.domainHorizontalLabelWidth;switch(a){case"right":t.attr("transform",function(f){var l=se(r,Me,"m",Tn).call(r,f),h=se(r,Me,"m",go).call(r,f),d=["rotate(90, ".concat(u==="right"?l:s,", 0)")];switch(u){case"right":o==="middle"?d.push("translate(".concat(h/2-s/2,")")):o==="end"&&d.push("translate(".concat(h-s,")"));break;case"left":o==="start"?d.push("translate(".concat(s,")")):o==="middle"?d.push("translate(".concat(s/2+h/2,")")):o==="end"&&d.push("translate(".concat(h,")"));break}return d.join(",")});break;case"left":t.attr("transform",function(f){var l=se(r,Me,"m",Tn).call(r,f),h=se(r,Me,"m",go).call(r,f),d=["rotate(270, ".concat(u==="right"?l:s,", 0)")];switch(u){case"right":o==="start"?d.push("translate(-".concat(h,")")):o==="middle"?d.push("translate(-".concat(h/2+s/2,")")):o==="end"&&d.push("translate(-".concat(s,")"));break;case"left":o==="start"?d.push("translate(".concat(s-h,")")):o==="middle"&&d.push("translate(".concat(s/2-h/2,")"));break}return d.join(",")});break}};var PS=`	
\v\f\r                　\u2028\u2029\uFEFF`,TL=ye,xL=dn,PL=Ir,_h=PS,Im=TL("".replace),CL=RegExp("^["+_h+"]+"),AL=RegExp("(^|[^"+_h+"])["+_h+"]+$"),_f=function(e){return function(t){var r=PL(xL(t));return e&1&&(r=Im(r,CL,"")),e&2&&(r=Im(r,AL,"$1")),r}},RL={start:_f(1),end:_f(2),trim:_f(3)},IL=hu.PROPER,jL=he,jm=PS,Mm="​᠎",ML=function(e){return jL(function(){return!!jm[e]()||Mm[e]()!==Mm||IL&&jm[e].name!==e})},kL=me,DL=RL.trim,FL=ML;kL({target:"String",proto:!0,forced:FL("trim")},{trim:function(){return DL(this)}});var He,$h,Is,CS,$f,js,Ms,Zo=".ch-subdomain",LL="highlight",NL=function(){function e(t){Ge(this,e),He.add(this),this.calendar=t,this.root=null}return ze(e,[{key:"paint",value:function(r){var n=this;this.root=r||this.root;var i="".concat(Zo,"-container"),a=this.root.selectAll(i).data(function(h){return[h]},function(h){return h}).join(function(h){return h.append("svg").call(function(d){return se(n,He,"m",$h).call(n,d)}).attr("class",i.slice(1))},function(h){return h.call(function(d){return se(n,He,"m",$h).call(n,d)})}),o=this.calendar.options.options.subDomain,u=o.radius,c=o.width,s=o.height,f=o.sort,l=this.calendar.eventEmitter;a.selectAll("g").data(function(h){var d=n.calendar.domainCollection.get(h);if(f==="desc"){var p=Math.max.apply(Math,Vl(d.map(function(v){return v.x})));d.forEach(function(v,b){d[b].x=Math.abs(v.x-p)})}return d}).join(function(h){return h.append("g").call(function(d){return d.insert("rect").attr("class",function(p){return se(n,He,"m",Is).call(n,p.t,"".concat(Zo.slice(1),"-bg"))}).attr("width",c).attr("height",s).attr("x",function(p){return se(n,He,"m",js).call(n,p)}).attr("y",function(p){return se(n,He,"m",Ms).call(n,p)}).on("click",function(p,v){return l.emit("click",p,v.t,v.v)}).on("mouseover",function(p,v){return l.emit("mouseover",p,v.t,v.v)}).on("mouseout",function(p,v){return l.emit("mouseout",p,v.t,v.v)}).attr("rx",u>0?u:null).attr("ry",u>0?u:null)}).call(function(d){return se(n,He,"m",CS).call(n,d)})},function(h){return h.selectAll("rect").attr("class",function(d){return se(n,He,"m",Is).call(n,d.t,"".concat(Zo.slice(1),"-bg"))}).attr("width",c).attr("height",s).attr("x",function(d){return se(n,He,"m",js).call(n,d)}).attr("y",function(d){return se(n,He,"m",Ms).call(n,d)}).attr("rx",u).attr("ry",u)})}}]),e}();He=new WeakSet,$h=function(t){var r=this.calendar.options.options,n=r.domain,i=n.padding,a=n.label.position;t.attr("x",function(){var o=i[Wt.LEFT];return a==="left"&&(o+=r.x.domainHorizontalLabelWidth),o}).attr("y",function(){var o=i[Wt.TOP];return a==="top"&&(o+=r.x.domainVerticalLabelHeight),o})},Is=function(t){var r=this,n=this.calendar.options.options,i=n.date.highlight,a=n.subDomain.type,o="";i.length>0&&i.forEach(function(f){var l=r.calendar.templateCollection.get(a).extractUnit;l(+f)===l(t)&&(o=LL)});for(var u=arguments.length,c=new Array(u>1?u-1:0),s=1;s<u;s++)c[s-1]=arguments[s];return[o].concat(c).join(" ").trim()},CS=function(t){var r=this,n=this.calendar.options.options.subDomain,i=n.width,a=n.height,o=n.label;return o?t.append("text").attr("class",function(u){return se(r,He,"m",Is).call(r,u.t,"".concat(Zo.slice(1),"-text"))}).attr("x",function(u){return se(r,He,"m",js).call(r,u)+i/2}).attr("y",function(u){return se(r,He,"m",Ms).call(r,u)+a/2}).attr("text-anchor","middle").attr("dominant-baseline","central").text(function(u,c,s){return r.calendar.dateHelper.format(u.t,o,u.v,s[c])}):null},$f=function(t,r){var n=this.calendar.options.options.subDomain;return r[t]*(n[t==="x"?"width":"height"]+n.gutter)},js=function(t){return se(this,He,"m",$f).call(this,"x",t)},Ms=function(t){return se(this,He,"m",$f).call(this,"y",t)};var jn,wh,AS,RS,km=".ch-domain-container",Dm="in-transition",UL=function(){function e(t){Ge(this,e),jn.add(this),this.calendar=t,this.domainPainter=new JF(t),this.subDomainPainter=new NL(t),this.domainLabelPainter=new EL(t),this.dimensions={width:0,height:0},this.transitionsQueueCount=0}return ze(e,[{key:"setup",value:function(){this.root=this.calendar.calendarPainter.root.attr("x",0).attr("y",0).append("svg").attr("class",km.slice(1)).append("svg").attr("class","".concat(km.slice(1),"-animation-wrapper"))}},{key:"paint",value:function(r){var n=this;se(this,jn,"m",wh).call(this);var i=this.domainPainter.paint(r,this.root);return this.subDomainPainter.paint(this.domainPainter.root),this.domainLabelPainter.paint(this.domainPainter.root),se(this,jn,"m",RS).call(this),Promise.allSettled(i).then(function(){se(n,jn,"m",AS).call(n)}),i}},{key:"updatePosition",value:function(){var r;if(!(!((r=this.root)===null||r===void 0)&&r.node()))return Promise.resolve();var n=this.calendar.options.options.animationDuration,i=this.calendar.pluginManager.getHeightFromPosition("top"),a=this.calendar.pluginManager.getWidthFromPosition("left");return[cs(this.root.node().parentNode).transition().duration(n).call(function(o){o.attr("x",a).attr("y",i)}).end()]}},{key:"width",value:function(){return this.dimensions.width}},{key:"height",value:function(){return this.dimensions.height}},{key:"destroy",value:function(){return se(this,jn,"m",wh).call(this),Promise.resolve()}}]),e}();jn=new WeakSet,wh=function(){var t;!((t=this.root)===null||t===void 0)&&t.node()&&(this.transitionsQueueCount+=1,cs(this.root.node().parentNode).classed(Dm,!0))},AS=function(){var t;!((t=this.root)===null||t===void 0)&&t.node()&&(this.transitionsQueueCount-=1,this.transitionsQueueCount===0&&cs(this.root.node().parentNode).classed(Dm,!1))},RS=function(){var t=this.calendar.options.options,r=t.animationDuration,n=t.verticalOrientation,i=t.domain.gutter,a=this.domainPainter.dimensions;this.dimensions={width:a.width-(n?0:i),height:a.height-(n?i:0)},this.root.transition().duration(r).attr("width",this.dimensions.width).attr("height",this.dimensions.height)};var BL=function(){function e(t){Ge(this,e),this.calendar=t}return ze(e,[{key:"paint",value:function(){var r=[];return r=r.concat(this.calendar.pluginManager.paintAll()),r=r.concat(this.setPluginsPosition()),r}},{key:"setPluginsPosition",value:function(){var r=this.calendar.pluginManager,n=this.calendar.options.options.animationDuration,i=this.calendar.calendarPainter.domainsContainerPainter,a=r.getFromPosition("top"),o=r.getFromPosition("right"),u=r.getFromPosition("bottom"),c=r.getFromPosition("left"),s=r.getHeightFromPosition("top"),f=r.getWidthFromPosition("left"),l=[],h=0;a.forEach(function(p){l.push(p.root.transition().duration(n).attr("y",h).attr("x",f).end()),h+=p.options.dimensions.height});var d=0;return c.forEach(function(p){l.push(p.root.transition().duration(n).attr("x",d).attr("y",s).end()),d+=p.options.dimensions.width}),u.forEach(function(p){l.push(p.root.transition().duration(n).attr("x",f).attr("y",s+i.height()).end())}),d+=i.width(),o.forEach(function(p){l.push(p.root.transition().duration(n).attr("x",d).attr("y",s).end()),d+=p.options.dimensions.width}),l}},{key:"insideWidth",value:function(){return this.calendar.pluginManager.getWidthFromPosition("left")+this.calendar.pluginManager.getWidthFromPosition("right")}},{key:"insideHeight",value:function(){return this.calendar.pluginManager.getHeightFromPosition("top")+this.calendar.pluginManager.getHeightFromPosition("bottom")}}]),e}(),zi,Fm,Lm,IS,WL=".ch-container",HL=function(){function e(t){Ge(this,e),zi.add(this),this.calendar=t,this.dimensions={width:0,height:0},this.root=null,this.domainsContainerPainter=new UL(t),this.pluginPainter=new BL(t)}return ze(e,[{key:"setup",value:function(){var r=this.calendar.options.options,n=r.itemSelector,i=r.theme;return this.root||(this.root=cs(n).append("svg").attr("data-theme",i).attr("class",WL.slice(1)),this.domainsContainerPainter.setup()),this.calendar.pluginManager.setupAll(),!0}},{key:"paint",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Pe.SCROLL_NONE,n=this.domainsContainerPainter.paint(r).concat(this.pluginPainter.paint()).concat(this.domainsContainerPainter.updatePosition());return se(this,zi,"m",IS).call(this),Promise.allSettled(n)}},{key:"destroy",value:function(){var r=this.calendar.pluginManager.destroyAll().concat(this.domainsContainerPainter.destroy());return this.root&&r.push(this.root.transition().duration(this.calendar.options.options.animationDuration).attr("width",0).attr("height",0).remove().end()),Promise.allSettled(r)}}]),e}();zi=new WeakSet,Fm=function(){return this.domainsContainerPainter.height()+this.pluginPainter.insideHeight()},Lm=function(){return this.domainsContainerPainter.width()+this.pluginPainter.insideWidth()},IS=function(){var t=this.calendar.options.options,r=se(this,zi,"m",Lm).call(this),n=se(this,zi,"m",Fm).call(this);this.root.transition().duration(t.animationDuration).attr("width",r).attr("height",n),(r!==this.dimensions.width||n!==this.dimensions.height)&&this.calendar.eventEmitter.emit("resize",r,n,this.dimensions.width,this.dimensions.height),this.dimensions={width:r,height:n}};var YL=typeof global=="object"&&global&&global.Object===Object&&global,jS=YL,VL=typeof self=="object"&&self&&self.Object===Object&&self,GL=jS||VL||Function("return this")(),Kt=GL,zL=Kt.Symbol,Pr=zL,MS=Object.prototype,qL=MS.hasOwnProperty,KL=MS.toString,Ti=Pr?Pr.toStringTag:void 0;function XL(e){var t=qL.call(e,Ti),r=e[Ti];try{e[Ti]=void 0;var n=!0}catch{}var i=KL.call(e);return n&&(t?e[Ti]=r:delete e[Ti]),i}var JL=Object.prototype,QL=JL.toString;function ZL(e){return QL.call(e)}var eN="[object Null]",tN="[object Undefined]",Nm=Pr?Pr.toStringTag:void 0;function jr(e){return e==null?e===void 0?tN:eN:Nm&&Nm in Object(e)?XL(e):ZL(e)}function cr(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var rN="[object AsyncFunction]",nN="[object Function]",iN="[object GeneratorFunction]",aN="[object Proxy]";function Ia(e){if(!cr(e))return!1;var t=jr(e);return t==nN||t==iN||t==rN||t==aN}var oN=me,sN=zt,kS=xu,uN=he,cN=uN(function(){kS(1)});oN({target:"Object",stat:!0,forced:cN},{keys:function(t){return kS(sN(t))}});var fN=Ue,lN=vr,hN=Ee,dN=hN("match"),vN=function(e){var t;return fN(e)&&((t=e[dN])!==void 0?!!t:lN(e)==="RegExp")},pN=vN,yN=TypeError,DS=function(e){if(pN(e))throw new yN("The method doesn't accept regular expressions");return e},gN=Ee,mN=gN("match"),FS=function(e){var t=/./;try{"/./"[e](t)}catch{try{return t[mN]=!1,"/./"[e](t)}catch{}}return!1},bN=me,LS=Qd,_N=xa.f,$N=Vd,Um=Ir,wN=DS,SN=dn,ON=FS,Bm=LS("".startsWith),EN=LS("".slice),TN=Math.min,NS=ON("startsWith"),xN=!NS&&!!function(){var e=_N(String.prototype,"startsWith");return e&&!e.writable}();bN({target:"String",proto:!0,forced:!xN&&!NS},{startsWith:function(t){var r=Um(SN(this));wN(t);var n=$N(TN(arguments.length>1?arguments[1]:void 0,r.length)),i=Um(t);return Bm?Bm(r,i,n):EN(r,n,n+i.length)===i}});var US=rt,PN=he,BS=ye,CN=uv,AN=xu,RN=pr,IN=yu.f,WS=BS(IN),jN=BS([].push),MN=US&&PN(function(){var e=Object.create(null);return e[2]=2,!WS(e,2)}),Wm=function(e){return function(t){for(var r=RN(t),n=AN(r),i=MN&&CN(r)===null,a=n.length,o=0,u=[],c;a>o;)c=n[o++],(!US||(i?c in r:WS(r,c)))&&jN(u,e?[c,r[c]]:r[c]);return u}},kN={entries:Wm(!0),values:Wm(!1)},DN=me,FN=kN.entries;DN({target:"Object",stat:!0},{entries:function(t){return FN(t)}});function Hm(e){return e!=null&&!Number.isNaN(e)}function LN(e,t){return+Hm(t)-+Hm(e)||Er(e,t)}function HS(e){return isFinite(e)?e:NaN}function wv(e){return e>0&&isFinite(e)?e:NaN}function YS(e){return e<0&&isFinite(e)?e:NaN}const NN=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function VS(e,t){return NN.test(e+="")?new Date(e):typeof t=="function"?t(e):t}const UN=new Map([["second",nr],["minute",tu],["hour",nu],["day",oi],["week",Xn],["month",Wn],["quarter",Wn.every(3)],["half",Wn.every(6)],["year",Ut],["monday",aa],["tuesday",q_],["wednesday",K_],["thursday",tn],["friday",X_],["saturday",J_],["sunday",Xn]]),BN=new Map([["second",nr],["minute",ru],["hour",iu],["day",Oa],["week",Jn],["month",Hn],["quarter",Hn.every(3)],["half",Hn.every(6)],["year",Bt],["monday",oa],["tuesday",Q_],["wednesday",Z_],["thursday",rn],["friday",e$],["saturday",t$],["sunday",Jn]]);function WN(e){const t=UN.get(`${e}`.toLowerCase());if(!t)throw new Error(`unknown interval: ${e}`);return t}function HN(e){const t=BN.get(`${e}`.toLowerCase());if(!t)throw new Error(`unknown interval: ${e}`);return t}const GS=Object.getPrototypeOf(Uint8Array),YN=Object.prototype.toString,VN=e=>()=>e;function Ym(e){return e instanceof GS?e:ju(e,GN,Float64Array)}function GN(e){return e==null?NaN:Number(e)}function zN(e){return ju(e,qN)}function qN(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?VS(e):e==null||isNaN(e=+e)?void 0:new Date(e)}function zS(e){return e==null||e instanceof Array||e instanceof GS?e:Array.from(e)}function ju(e,t,r=Array){return e==null?e:e instanceof r?e.map(t):r.from(e,t)}function Sh(e,t=Array){return e instanceof t?e.slice():t.from(e)}function KN(e){return(e==null?void 0:e.toString)===YN}function XN(e){return KN(e)&&(e.type!==void 0||e.domain!==void 0)}function JN(e,t){if(e!=null){if(typeof e=="number"){0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const r=Math.abs(e);return e<0?{floor:n=>Math.floor(n*r)/r,offset:n=>(n*r+1)/r,range:(n,i)=>jl(Math.ceil(n*r),i*r).map(a=>a/r)}:{floor:n=>Math.floor(n/r)*r,offset:n=>n+r,range:(n,i)=>jl(Math.ceil(n/r),i/r).map(a=>a*r)}}if(typeof e=="string")return(t==="time"?WN:HN)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function Mu(e,t){if(e=JN(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function QN(e,t){if(e=Mu(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function Vm(e){for(const t of e){if(t==null)continue;const r=typeof t;return r==="string"||r==="boolean"}}function Oh(e){for(const t of e)if(t!=null)return t instanceof Date}function ZN(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&VS(t)}function eU(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function tU(e){return e==null||rU(e)}function rU(e){return/^\s*none\s*$/i.test(e)}function Sv(e){if(e==null)return;const t=e[0],r=e[e.length-1];return Ks(t,r)}const Or=Symbol("position"),Ht=Symbol("color"),ku=Symbol("radius"),Du=Symbol("length"),Fu=Symbol("opacity"),Lu=Symbol("symbol"),Ve=new Map([["x",Or],["y",Or],["fx",Or],["fy",Or],["r",ku],["color",Ht],["opacity",Fu],["symbol",Lu],["length",Du]]),nU=Math.sqrt(3),iU=2/nU,aU={draw(e,t){const r=Math.sqrt(t/Math.PI),n=r*iU,i=n/2;e.moveTo(0,n),e.lineTo(r,i),e.lineTo(r,-i),e.lineTo(0,-n),e.lineTo(-r,-i),e.lineTo(-r,i),e.closePath()}},oU=new Map([["asterisk",$w],["circle",jd],["cross",ww],["diamond",Ow],["diamond2",Ew],["hexagon",aU],["plus",Tw],["square",xw],["square2",Pw],["star",Aw],["times",Mw],["triangle",Rw],["triangle2",Iw],["wye",jw]]);function sU(e){return e&&typeof e.draw=="function"}function qS(e){if(e==null||sU(e))return e;const t=oU.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function wf(e){console.warn(e)}const Gm=new Map([["accent",D8],["category10",k8],["dark2",F8],["paired",L8],["pastel1",N8],["pastel2",U8],["set1",B8],["set2",W8],["set3",H8],["tableau10",Y8],["brbg",Qt(d$,v$)],["prgn",Qt(p$,y$)],["piyg",Qt(g$,m$)],["puor",Qt(b$,_$)],["rdbu",Qt(Wl,Ss)],["rdgy",Qt($$,w$)],["rdylbu",Qt(Hl,Os)],["rdylgn",Qt(S$,O$)],["spectral",Qt(E$,T$)],["burd",zm(Wl,Ss)],["buylrd",zm(Hl,Os)],["blues",je(J$,Q$)],["greens",je(Z$,ew)],["greys",je(tw,rw)],["oranges",je(sw,uw)],["purples",je(nw,iw)],["reds",je(aw,ow)],["turbo",Zt(pw)],["viridis",Zt(yw)],["magma",Zt(gw)],["inferno",Zt(mw)],["plasma",Zt(bw)],["cividis",Zt(cw)],["cubehelix",Zt(fw)],["warm",Zt(lw)],["cool",Zt(hw)],["bugn",je(x$,P$)],["bupu",je(C$,A$)],["gnbu",je(R$,I$)],["orrd",je(j$,M$)],["pubu",je(F$,L$)],["pubugn",je(k$,D$)],["purd",je(N$,U$)],["rdpu",je(B$,W$)],["ylgn",je(V$,G$)],["ylgnbu",je(H$,Y$)],["ylorbr",je(z$,q$)],["ylorrd",je(K$,X$)],["rainbow",qm(dw)],["sinebow",qm(vw)]]);function je(e,t){return({length:r})=>r===1?[e[3][1]]:r===2?[e[3][1],e[3][2]]:(r=Math.max(3,Math.floor(r)),r>9?Nt(t,r):e[r])}function Qt(e,t){return({length:r})=>r===2?[e[3][0],e[3][2]]:(r=Math.max(3,Math.floor(r)),r>11?Nt(t,r):e[r])}function zm(e,t){return({length:r})=>r===2?[e[3][2],e[3][0]]:(r=Math.max(3,Math.floor(r)),r>11?Nt(n=>t(1-n),r):e[r].slice().reverse())}function Zt(e){return({length:t})=>Nt(e,Math.max(2,Math.floor(t)))}function qm(e){return({length:t})=>Nt(e,Math.floor(t)+1).slice(0,-1)}function KS(e){const t=`${e}`.toLowerCase();if(!Gm.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return Gm.get(t)}function Nu(e,t){const r=KS(e),n=typeof r=="function"?r({length:t}):r;return n.length!==t?n.slice(0,t):n}function uU(e,t="greys"){const r=new Set,[n,i]=Nu(t,2);for(const a of e)if(a!=null)if(a===!0)r.add(i);else if(a===!1)r.add(n);else return;return[...r]}const Km=new Map([["brbg",v$],["prgn",y$],["piyg",m$],["puor",_$],["rdbu",Ss],["rdgy",w$],["rdylbu",Os],["rdylgn",O$],["spectral",T$],["burd",e=>Ss(1-e)],["buylrd",e=>Os(1-e)],["blues",Q$],["greens",ew],["greys",rw],["purples",iw],["reds",ow],["oranges",uw],["turbo",pw],["viridis",yw],["magma",gw],["inferno",mw],["plasma",bw],["cividis",cw],["cubehelix",fw],["warm",lw],["cool",hw],["bugn",P$],["bupu",A$],["gnbu",I$],["orrd",M$],["pubugn",D$],["pubu",L$],["purd",U$],["rdpu",W$],["ylgnbu",Y$],["ylgn",G$],["ylorbr",q$],["ylorrd",X$],["rainbow",dw],["sinebow",vw]]);function Ov(e){const t=`${e}`.toLowerCase();if(!Km.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return Km.get(t)}const cU=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function Xm(e){return e!=null&&cU.has(`${e}`.toLowerCase())}const XS=e=>t=>e(1-t),Sf=[0,1],Jm=new Map([["number",qe],["rgb",Zr],["hsl",CP],["hcl",IP],["lab",AP]]);function JS(e){const t=`${e}`.toLowerCase();if(!Jm.has(t))throw new Error(`unknown interpolator: ${t}`);return Jm.get(t)}function ja(e,t,r,{type:n,nice:i,clamp:a,zero:o,domain:u=ZS(e,r),unknown:c,round:s,scheme:f,interval:l,range:h=Ve.get(e)===ku?_U(r,u):Ve.get(e)===Du?$U(r,u):Ve.get(e)===Fu?Sf:void 0,interpolate:d=Ve.get(e)===Ht?f==null&&h!==void 0?Zr:Ov(f!==void 0?f:n==="cyclical"?"rainbow":"turbo"):s?_d:qe,reverse:p}){if(l=Mu(l,n),(n==="cyclical"||n==="sequential")&&(n="linear"),p=!!p,typeof d!="function"&&(d=JS(d)),d.length===1?(p&&(d=XS(d),p=!1),h===void 0&&(h=Float64Array.from(u,(v,b)=>b/(u.length-1)),h.length===2&&(h=Sf)),t.interpolate((h===Sf?VN:eO)(d))):t.interpolate(d),o){const[v,b]=md(u);(v>0||b<0)&&(u=Sh(u),Sv(u)!==Math.sign(v)?u[u.length-1]=0:u[0]=0)}return p&&(u=gs(u)),t.domain(u).unknown(c),i&&(t.nice(fU(i,n)),u=t.domain()),h!==void 0&&t.range(h),a&&t.clamp(a),{type:n,domain:u,range:h,scale:t,interpolate:d,interval:l}}function fU(e,t){return e===!0?void 0:typeof e=="number"?e:QN(e,t)}function lU(e,t,r){return ja(e,D_(),t,r)}function hU(e,t,r){return QS(e,t,{...r,exponent:.5})}function QS(e,t,{exponent:r=1,...n}){return ja(e,Y_().exponent(r),t,{...n,type:"pow"})}function dU(e,t,{base:r=10,domain:n=wU(t),...i}){return ja(e,U_().base(r),t,{...i,domain:n})}function vU(e,t,{constant:r=1,...n}){return ja(e,W_().constant(r),t,n)}function pU(e,t,{range:r,quantiles:n=r===void 0?5:(r=[...r]).length,n:i=n,scheme:a="rdylbu",domain:o=SU(t),unknown:u,interpolate:c,reverse:s}){return r===void 0&&(r=c!==void 0?Nt(c,i):Ve.get(e)===Ht?Nu(a,i):void 0),o.length>0&&(o=V_(o,r===void 0?{length:i}:r).quantiles()),Ev(e,t,{domain:o,range:r,reverse:s,unknown:u})}function yU(e,t,{range:r,n=r===void 0?5:(r=[...r]).length,scheme:i="rdylbu",domain:a=ZS(e,t),unknown:o,interpolate:u,reverse:c}){const[s,f]=md(a);let l;return r===void 0?(l=ps(s,f,n),l[0]<=s&&l.splice(0,1),l[l.length-1]>=f&&l.pop(),n=l.length+1,r=u!==void 0?Nt(u,n):Ve.get(e)===Ht?Nu(i,n):void 0):(l=Nt(qe(s,f),n+1).slice(1,-1),s instanceof Date&&(l=l.map(h=>new Date(h)))),Sv(zS(a))<0&&l.reverse(),Ev(e,t,{domain:l,range:r,reverse:c,unknown:o})}function Ev(e,t,{domain:r=[0],unknown:n,scheme:i="rdylbu",interpolate:a,range:o=a!==void 0?Nt(a,r.length+1):Ve.get(e)===Ht?Nu(i,r.length+1):void 0,reverse:u}){r=zS(r);const c=Sv(r);if(!isNaN(c)&&!gU(r,c))throw new Error(`the ${e} scale has a non-monotonic domain`);return u&&(o=gs(o)),{type:"threshold",scale:G_(c<0?gs(r):r,o===void 0?[]:o).unknown(n),domain:r,range:o}}function gU(e,t){for(let r=1,n=e.length,i=e[0];r<n;++r){const a=Ks(i,i=e[r]);if(a!==0&&a!==t)return!1}return!0}function mU(){return{type:"identity",scale:F_()}}function ca(e,t=HS){return e.length?[ys(e,({value:r})=>r===void 0?r:ys(r,t)),Tr(e,({value:r})=>r===void 0?r:Tr(r,t))]:[0,1]}function ZS(e,t){const r=Ve.get(e);return(r===ku||r===Fu||r===Du?bU:ca)(t)}function bU(e){return[0,e.length?Tr(e,({value:t})=>t===void 0?t:Tr(t,HS)):1]}function _U(e,t){const r=e.find(({radius:o})=>o!==void 0);if(r!==void 0)return[0,r.radius];const n=Il(e,.5,({value:o})=>o===void 0?NaN:Il(o,.25,wv)),i=t.map(o=>3*Math.sqrt(o/n)),a=30/Tr(i);return a<1?i.map(o=>o*a):i}function $U(e,t){const r=zp(e,({value:a})=>a===void 0?NaN:zp(a,Math.abs)),n=t.map(a=>12*a/r),i=60/Tr(n);return i<1?n.map(a=>a*i):n}function wU(e){for(const{value:t}of e)if(t!==void 0)for(let r of t){if(r>0)return ca(e,wv);if(r<0)return ca(e,YS)}return[1,10]}function SU(e){const t=[];for(const{value:r}of e)if(r!==void 0)for(const n of r)t.push(n);return t}function eO(e){return(t,r)=>n=>e(t+n*(r-t))}function Uu(e,t,r,n,{type:i,nice:a,clamp:o,domain:u=ca(n),unknown:c,pivot:s=0,scheme:f,range:l,symmetric:h=!0,interpolate:d=Ve.get(e)===Ht?f==null&&l!==void 0?Zr:Ov(f!==void 0?f:"rdbu"):qe,reverse:p}){s=+s;let[v,b]=u;if(Ks(v,b)<0&&([v,b]=[b,v],p=!p),v=Math.min(v,s),b=Math.max(b,s),typeof d!="function"&&(d=JS(d)),l!==void 0&&(d=d.length===1?eO(d)(...l):w_(d,l)),p&&(d=XS(d)),h){const y=r.apply(s),m=y-r.apply(v),$=r.apply(b)-y;m<$?v=r.invert(y-$):m>$&&(b=r.invert(y+m))}return t.domain([v,s,b]).unknown(c).interpolator(d),o&&t.clamp(o),a&&t.nice(a),{type:i,domain:[v,b],pivot:s,interpolate:d,scale:t}}function OU(e,t,r){return Uu(e,c$(),PU,t,r)}function EU(e,t,r){return tO(e,t,{...r,exponent:.5})}function tO(e,t,{exponent:r=1,...n}){return Uu(e,h$().exponent(r=+r),RU(r),t,{...n,type:"diverging-pow"})}function TU(e,t,{base:r=10,pivot:n=1,domain:i=ca(t,n<0?YS:wv),...a}){return Uu(e,f$().base(r=+r),CU,t,{domain:i,pivot:n,...a})}function xU(e,t,{constant:r=1,...n}){return Uu(e,l$().constant(r=+r),IU(r),t,n)}const PU={apply(e){return e},invert(e){return e}},CU={apply:Math.log,invert:Math.exp},AU={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function RU(e){return e===.5?AU:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function IU(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function rO(e,t,r,n){return ja(e,t,r,n)}function jU(e,t,r){return rO(e,j8(),t,r)}function MU(e,t,r){return rO(e,M8(),t,r)}const Ma=Symbol("ordinal");function nO(e,t,r,{type:n,interval:i,domain:a,range:o,reverse:u,hint:c}){return i=Mu(i,n),a===void 0&&(a=aO(r,i,e)),(n==="categorical"||n===Ma)&&(n="ordinal"),u&&(a=gs(a)),t.domain(a),o!==void 0&&(typeof o=="function"&&(o=o(a)),t.range(o)),{type:n,domain:a,range:o,scale:t,hint:c,interval:i}}function kU(e,t,{type:r,interval:n,domain:i,range:a,scheme:o,unknown:u,...c}){n=Mu(n,r),i===void 0&&(i=aO(t,n,e));let s;if(Ve.get(e)===Lu)s=LU(t),a=a===void 0?NU(s):ju(a,qS);else if(Ve.get(e)===Ht&&(a===void 0&&(r==="ordinal"||r===Ma)&&(a=uU(i,o),a!==void 0&&(o=void 0)),o===void 0&&a===void 0&&(o=r==="ordinal"?"turbo":"tableau10"),o!==void 0))if(a!==void 0){const f=Ov(o),l=a[0],h=a[1]-a[0];a=({length:d})=>Nt(p=>f(l+h*p),d)}else a=KS(o);if(u===Nl)throw new Error(`implicit unknown on ${e} scale is not supported`);return nO(e,Pd().unknown(u),t,{...c,type:r,domain:i,range:a,hint:s})}function DU(e,t,{align:r=.5,padding:n=.5,...i}){return iO(dC().align(r).padding(n),t,i,e)}function FU(e,t,{align:r=.5,padding:n=.1,paddingInner:i=n,paddingOuter:a=e==="fx"||e==="fy"?0:n,...o}){return iO(Cd().align(r).paddingInner(i).paddingOuter(a),t,o,e)}function iO(e,t,r,n){let{round:i}=r;return i!==void 0&&e.round(i=!!i),e=nO(n,e,t,r),e.round=i,e}function aO(e,t,r){const n=new tP;for(const{value:i,domain:a}of e){if(a!==void 0)return a();if(i!==void 0)for(const o of i)n.add(o)}if(t!==void 0){const[i,a]=md(n).map(t.floor,t);return t.range(i,t.offset(a))}if(n.size>1e4&&Ve.get(r)===Or)throw new Error(`implicit ordinal domain of ${r} scale has more than 10,000 values`);return nP(n,LN)}function Qm(e,t){let r;for(const{hint:n}of e){const i=n==null?void 0:n[t];if(i!==void 0){if(r===void 0)r=i;else if(r!==i)return}}return r}function LU(e){return{fill:Qm(e,"fill"),stroke:Qm(e,"stroke")}}function NU(e){return tU(e.fill)?t5:e5}function UU(e,t,r){return BU(e,void 0,{...t})}function BU(e,t=[],r={}){const n=WU(e,t,r);if(r.type===void 0&&r.domain===void 0&&r.range===void 0&&r.interval==null&&e!=="fx"&&e!=="fy"&&HU({type:n})){const i=t.map(({value:a})=>a).filter(a=>a!==void 0);i.some(Oh)?wf(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${xn(n)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${xn(n)}".`):i.some(ZN)?wf(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${xn(n)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${xn(n)}".`):i.some(eU)&&wf(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${xn(n)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${xn(n)}".`)}switch(r.type=n,n){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":r=mo(t,r,Ym);break;case"identity":switch(Ve.get(e)){case Or:r=mo(t,r,Ym);break;case Lu:r=mo(t,r,YU);break}break;case"utc":case"time":r=mo(t,r,zN);break}switch(n){case"diverging":return OU(e,t,r);case"diverging-sqrt":return EU(e,t,r);case"diverging-pow":return tO(e,t,r);case"diverging-log":return TU(e,t,r);case"diverging-symlog":return xU(e,t,r);case"categorical":case"ordinal":case Ma:return kU(e,t,r);case"cyclical":case"sequential":case"linear":return lU(e,t,r);case"sqrt":return hU(e,t,r);case"threshold":return Ev(e,t,r);case"quantile":return pU(e,t,r);case"quantize":return yU(e,t,r);case"pow":return QS(e,t,r);case"log":return dU(e,t,r);case"symlog":return vU(e,t,r);case"utc":return MU(e,t,r);case"time":return jU(e,t,r);case"point":return DU(e,t,r);case"band":return FU(e,t,r);case"identity":return Ve.get(e)===Or?mU():{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${n}`)}}function xn(e){return typeof e=="symbol"?e.description:e}const Zm={toString:()=>"projection"};function WU(e,t,{type:r,domain:n,range:i,scheme:a,pivot:o,projection:u}){if(e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&u!=null&&(r=Zm);for(const{type:f}of t)if(f!==void 0){if(r===void 0)r=f;else if(r!==f)throw new Error(`scale incompatible with channel: ${r} !== ${f}`)}if(r===Zm)return;if(r!==void 0)return r;if(n===void 0&&!t.some(({value:f})=>f!==void 0))return;const c=Ve.get(e);if(c===ku)return"sqrt";if(c===Fu||c===Du)return"linear";if(c===Lu)return"ordinal";if((n||i||[]).length>2)return Of(c);if(n!==void 0)return Vm(n)?Of(c):Oh(n)?"utc":c===Ht&&(o!=null||Xm(a))?"diverging":"linear";const s=t.map(({value:f})=>f).filter(f=>f!==void 0);return s.some(Vm)?Of(c):s.some(Oh)?"utc":c===Ht&&(o!=null||Xm(a))?"diverging":"linear"}function Of(e){switch(e){case Or:return"point";case Ht:return Ma;default:return"ordinal"}}function HU({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===Ma}function mo(e,{domain:t,...r},n){for(const i of e)i.value!==void 0&&(i.value=n(i.value));return{domain:t===void 0?t:n(t),...r}}function YU(e){return ju(e,qS)}function VU(e={}){let t;for(const r in e)if(Ve.has(r)&&XN(e[r])){if(t!==void 0)throw new Error("ambiguous scale definition; multiple scales found");t=GU(UU(r,e[r]))}if(t===void 0)throw new Error("invalid scale definition; no scale found");return t}function GU({scale:e,type:t,domain:r,range:n,interpolate:i,interval:a,transform:o,percent:u,pivot:c}){if(t==="identity")return{type:"identity",apply:f=>f,invert:f=>f};const s=e.unknown?e.unknown():void 0;return{type:t,domain:Sh(r),...n!==void 0&&{range:Sh(n)},...o!==void 0&&{transform:o},...u&&{percent:u},...s!==void 0&&{unknown:s},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...c!==void 0&&{pivot:c,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:f=>e(f),...e.invert&&{invert:f=>e.invert(f)}}}function zU(e){try{var t=Object.keys(e)[0];return VU(i5({},t,Object.assign(Object.assign({},e[t]),{clamp:!0})))}catch{return null}}function qU(e,t){var r={};return t.hasOwnProperty("opacity")?(r.fill=function(){return t.opacity.baseColor||jD},r["fill-opacity"]=function(n){return e==null?void 0:e.apply(n)}):r.fill=function(n){return typeof n=="string"&&(n!=null&&n.startsWith("#"))?n:e==null?void 0:e.apply(n)},r}function KU(e,t,r,n){Object.entries(qU(t,r)).forEach(function(i){var a=kw(i,2),o=a[0],u=a[1];return e.style(o,function(c){return u(c[n])})})}var XU=function(){function e(t){Ge(this,e),this.calendar=t}return ze(e,[{key:"populate",value:function(){var r=this.calendar,n=r.options.options,i=n.scale,a=n.subDomain,o=zU(i);r.calendarPainter.root.selectAll(".ch-domain").selectAll("svg").selectAll("g").data(function(u){return r.domainCollection.get(u)||[]}).call(function(u){KU(u.select("rect"),o,i,"v")}).call(function(u){u.select("text").attr("style",function(c){var s=hs(o==null?void 0:o.apply(c.v)).l>60?"#000":"#fff",f=a.color||(c.v?s:null);return Ia(f)&&(f=f(c.t,c.v,o==null?void 0:o.apply(c.v))),f?"fill: ".concat(f,";"):null}).text(function(c,s,f){return r.dateHelper.format(c.t,a.label,c.v,f[s])})}).call(function(){r.eventEmitter.emit("fill")})}}]),e}();function JU(){this.__data__=[],this.size=0}function ka(e,t){return e===t||e!==e&&t!==t}function Bu(e,t){for(var r=e.length;r--;)if(ka(e[r][0],t))return r;return-1}var QU=Array.prototype,ZU=QU.splice;function eB(e){var t=this.__data__,r=Bu(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():ZU.call(t,r,1),--this.size,!0}function tB(e){var t=this.__data__,r=Bu(t,e);return r<0?void 0:t[r][1]}function rB(e){return Bu(this.__data__,e)>-1}function nB(e,t){var r=this.__data__,n=Bu(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function gr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}gr.prototype.clear=JU;gr.prototype.delete=eB;gr.prototype.get=tB;gr.prototype.has=rB;gr.prototype.set=nB;function iB(){this.__data__=new gr,this.size=0}function aB(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function oB(e){return this.__data__.get(e)}function sB(e){return this.__data__.has(e)}var uB=Kt["__core-js_shared__"],Ef=uB,e0=function(){var e=/[^.]+$/.exec(Ef&&Ef.keys&&Ef.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function cB(e){return!!e0&&e0 in e}var fB=Function.prototype,lB=fB.toString;function mn(e){if(e!=null){try{return lB.call(e)}catch{}try{return e+""}catch{}}return""}var hB=/[\\^$.*+?()[\]{}|]/g,dB=/^\[object .+?Constructor\]$/,vB=Function.prototype,pB=Object.prototype,yB=vB.toString,gB=pB.hasOwnProperty,mB=RegExp("^"+yB.call(gB).replace(hB,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bB(e){if(!cr(e)||cB(e))return!1;var t=Ia(e)?mB:dB;return t.test(mn(e))}function _B(e,t){return e==null?void 0:e[t]}function bn(e,t){var r=_B(e,t);return bB(r)?r:void 0}var $B=bn(Kt,"Map"),fa=$B,wB=bn(Object,"create"),la=wB;function SB(){this.__data__=la?la(null):{},this.size=0}function OB(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var EB="__lodash_hash_undefined__",TB=Object.prototype,xB=TB.hasOwnProperty;function PB(e){var t=this.__data__;if(la){var r=t[e];return r===EB?void 0:r}return xB.call(t,e)?t[e]:void 0}var CB=Object.prototype,AB=CB.hasOwnProperty;function RB(e){var t=this.__data__;return la?t[e]!==void 0:AB.call(t,e)}var IB="__lodash_hash_undefined__";function jB(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=la&&t===void 0?IB:t,this}function sn(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}sn.prototype.clear=SB;sn.prototype.delete=OB;sn.prototype.get=PB;sn.prototype.has=RB;sn.prototype.set=jB;function MB(){this.size=0,this.__data__={hash:new sn,map:new(fa||gr),string:new sn}}function kB(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Wu(e,t){var r=e.__data__;return kB(t)?r[typeof t=="string"?"string":"hash"]:r.map}function DB(e){var t=Wu(this,e).delete(e);return this.size-=t?1:0,t}function FB(e){return Wu(this,e).get(e)}function LB(e){return Wu(this,e).has(e)}function NB(e,t){var r=Wu(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function mr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}mr.prototype.clear=MB;mr.prototype.delete=DB;mr.prototype.get=FB;mr.prototype.has=LB;mr.prototype.set=NB;var UB=200;function BB(e,t){var r=this.__data__;if(r instanceof gr){var n=r.__data__;if(!fa||n.length<UB-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new mr(n)}return r.set(e,t),this.size=r.size,this}function ir(e){var t=this.__data__=new gr(e);this.size=t.size}ir.prototype.clear=iB;ir.prototype.delete=aB;ir.prototype.get=oB;ir.prototype.has=sB;ir.prototype.set=BB;var WB=function(){try{var e=bn(Object,"defineProperty");return e({},"",{}),e}catch{}}(),ks=WB;function Tv(e,t,r){t=="__proto__"&&ks?ks(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Eh(e,t,r){(r!==void 0&&!ka(e[t],r)||r===void 0&&!(t in e))&&Tv(e,t,r)}function HB(e){return function(t,r,n){for(var i=-1,a=Object(t),o=n(t),u=o.length;u--;){var c=o[++i];if(r(a[c],c,a)===!1)break}return t}}var YB=HB(),VB=YB,oO=typeof exports=="object"&&exports&&!exports.nodeType&&exports,t0=oO&&typeof module=="object"&&module&&!module.nodeType&&module,GB=t0&&t0.exports===oO,r0=GB?Kt.Buffer:void 0;r0&&r0.allocUnsafe;function zB(e,t){return e.slice()}var qB=Kt.Uint8Array,Ds=qB;function KB(e){var t=new e.constructor(e.byteLength);return new Ds(t).set(new Ds(e)),t}function XB(e,t){var r=KB(e.buffer);return new e.constructor(r,e.byteOffset,e.length)}function JB(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var n0=Object.create,QB=function(){function e(){}return function(t){if(!cr(t))return{};if(n0)return n0(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),ZB=QB;function sO(e,t){return function(r){return e(t(r))}}var eW=sO(Object.getPrototypeOf,Object),uO=eW,tW=Object.prototype;function xv(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||tW;return e===r}function rW(e){return typeof e.constructor=="function"&&!xv(e)?ZB(uO(e)):{}}function fr(e){return e!=null&&typeof e=="object"}var nW="[object Arguments]";function i0(e){return fr(e)&&jr(e)==nW}var cO=Object.prototype,iW=cO.hasOwnProperty,aW=cO.propertyIsEnumerable,oW=i0(function(){return arguments}())?i0:function(e){return fr(e)&&iW.call(e,"callee")&&!aW.call(e,"callee")},Fs=oW,sW=9007199254740991;function Pv(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=sW}function Hu(e){return e!=null&&Pv(e.length)&&!Ia(e)}function uW(e){return fr(e)&&Hu(e)}function cW(){return!1}var fO=typeof exports=="object"&&exports&&!exports.nodeType&&exports,a0=fO&&typeof module=="object"&&module&&!module.nodeType&&module,fW=a0&&a0.exports===fO,o0=fW?Kt.Buffer:void 0,lW=o0?o0.isBuffer:void 0,hW=lW||cW,Ls=hW,dW="[object Object]",vW=Function.prototype,pW=Object.prototype,lO=vW.toString,yW=pW.hasOwnProperty,gW=lO.call(Object);function mW(e){if(!fr(e)||jr(e)!=dW)return!1;var t=uO(e);if(t===null)return!0;var r=yW.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&lO.call(r)==gW}var bW="[object Arguments]",_W="[object Array]",$W="[object Boolean]",wW="[object Date]",SW="[object Error]",OW="[object Function]",EW="[object Map]",TW="[object Number]",xW="[object Object]",PW="[object RegExp]",CW="[object Set]",AW="[object String]",RW="[object WeakMap]",IW="[object ArrayBuffer]",jW="[object DataView]",MW="[object Float32Array]",kW="[object Float64Array]",DW="[object Int8Array]",FW="[object Int16Array]",LW="[object Int32Array]",NW="[object Uint8Array]",UW="[object Uint8ClampedArray]",BW="[object Uint16Array]",WW="[object Uint32Array]",be={};be[MW]=be[kW]=be[DW]=be[FW]=be[LW]=be[NW]=be[UW]=be[BW]=be[WW]=!0;be[bW]=be[_W]=be[IW]=be[$W]=be[jW]=be[wW]=be[SW]=be[OW]=be[EW]=be[TW]=be[xW]=be[PW]=be[CW]=be[AW]=be[RW]=!1;function HW(e){return fr(e)&&Pv(e.length)&&!!be[jr(e)]}function YW(e){return function(t){return e(t)}}var hO=typeof exports=="object"&&exports&&!exports.nodeType&&exports,qi=hO&&typeof module=="object"&&module&&!module.nodeType&&module,VW=qi&&qi.exports===hO,Tf=VW&&jS.process,GW=function(){try{var e=qi&&qi.require&&qi.require("util").types;return e||Tf&&Tf.binding&&Tf.binding("util")}catch{}}(),s0=GW,u0=s0&&s0.isTypedArray,zW=u0?YW(u0):HW,Cv=zW;function Th(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var qW=Object.prototype,KW=qW.hasOwnProperty;function dO(e,t,r){var n=e[t];(!(KW.call(e,t)&&ka(n,r))||r===void 0&&!(t in e))&&Tv(e,t,r)}function XW(e,t,r,n){var i=!r;r||(r={});for(var a=-1,o=t.length;++a<o;){var u=t[a],c=void 0;c===void 0&&(c=e[u]),i?Tv(r,u,c):dO(r,u,c)}return r}function JW(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var QW=9007199254740991,ZW=/^(?:0|[1-9]\d*)$/;function Yu(e,t){var r=typeof e;return t=t??QW,!!t&&(r=="number"||r!="symbol"&&ZW.test(e))&&e>-1&&e%1==0&&e<t}var eH=Object.prototype,tH=eH.hasOwnProperty;function vO(e,t){var r=pt(e),n=!r&&Fs(e),i=!r&&!n&&Ls(e),a=!r&&!n&&!i&&Cv(e),o=r||n||i||a,u=o?JW(e.length,String):[],c=u.length;for(var s in e)(t||tH.call(e,s))&&!(o&&(s=="length"||i&&(s=="offset"||s=="parent")||a&&(s=="buffer"||s=="byteLength"||s=="byteOffset")||Yu(s,c)))&&u.push(s);return u}function rH(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var nH=Object.prototype,iH=nH.hasOwnProperty;function aH(e){if(!cr(e))return rH(e);var t=xv(e),r=[];for(var n in e)n=="constructor"&&(t||!iH.call(e,n))||r.push(n);return r}function pO(e){return Hu(e)?vO(e,!0):aH(e)}function oH(e){return XW(e,pO(e))}function sH(e,t,r,n,i,a,o){var u=Th(e,r),c=Th(t,r),s=o.get(c);if(s){Eh(e,r,s);return}var f=a?a(u,c,r+"",e,t,o):void 0,l=f===void 0;if(l){var h=pt(c),d=!h&&Ls(c),p=!h&&!d&&Cv(c);f=c,h||d||p?pt(u)?f=u:uW(u)?f=JB(u):d?(l=!1,f=zB(c)):p?(l=!1,f=XB(c)):f=[]:mW(c)||Fs(c)?(f=u,Fs(u)?f=oH(u):(!cr(u)||Ia(u))&&(f=rW(c))):l=!1}l&&(o.set(c,f),i(f,c,n,a,o),o.delete(c)),Eh(e,r,f)}function yO(e,t,r,n,i){e!==t&&VB(t,function(a,o){if(i||(i=new ir),cr(a))sH(e,t,o,r,yO,n,i);else{var u=n?n(Th(e,o),a,o+"",e,t,i):void 0;u===void 0&&(u=a),Eh(e,o,u)}},pO)}function gO(e){return e}function uH(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var c0=Math.max;function cH(e,t,r){return t=c0(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=c0(n.length-t,0),o=Array(a);++i<a;)o[i]=n[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=n[i];return u[t]=r(o),uH(e,this,u)}}function fH(e){return function(){return e}}var lH=ks?function(e,t){return ks(e,"toString",{configurable:!0,enumerable:!1,value:fH(t),writable:!0})}:gO,hH=lH,dH=800,vH=16,pH=Date.now;function yH(e){var t=0,r=0;return function(){var n=pH(),i=vH-(n-r);if(r=n,i>0){if(++t>=dH)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var gH=yH(hH),mH=gH;function bH(e,t){return mH(cH(e,t,gO),e+"")}function _H(e,t,r){if(!cr(r))return!1;var n=typeof t;return(n=="number"?Hu(r)&&Yu(t,r.length):n=="string"&&t in r)?ka(r[t],e):!1}function $H(e){return bH(function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(a=e.length>3&&typeof a=="function"?(i--,a):void 0,o&&_H(r[0],r[1],o)&&(a=i<3?void 0:a,i=1),t=Object(t);++n<i;){var u=r[n];u&&e(t,u,n,a)}return t})}var wH=$H(function(e,t,r,n){yO(e,t,r,n)}),SH=wH,OH="__lodash_hash_undefined__";function EH(e){return this.__data__.set(e,OH),this}function TH(e){return this.__data__.has(e)}function Ns(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new mr;++t<r;)this.add(e[t])}Ns.prototype.add=Ns.prototype.push=EH;Ns.prototype.has=TH;function xH(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function PH(e,t){return e.has(t)}var CH=1,AH=2;function mO(e,t,r,n,i,a){var o=r&CH,u=e.length,c=t.length;if(u!=c&&!(o&&c>u))return!1;var s=a.get(e),f=a.get(t);if(s&&f)return s==t&&f==e;var l=-1,h=!0,d=r&AH?new Ns:void 0;for(a.set(e,t),a.set(t,e);++l<u;){var p=e[l],v=t[l];if(n)var b=o?n(v,p,l,t,e,a):n(p,v,l,e,t,a);if(b!==void 0){if(b)continue;h=!1;break}if(d){if(!xH(t,function(y,m){if(!PH(d,m)&&(p===y||i(p,y,r,n,a)))return d.push(m)})){h=!1;break}}else if(!(p===v||i(p,v,r,n,a))){h=!1;break}}return a.delete(e),a.delete(t),h}function RH(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}function IH(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var jH=1,MH=2,kH="[object Boolean]",DH="[object Date]",FH="[object Error]",LH="[object Map]",NH="[object Number]",UH="[object RegExp]",BH="[object Set]",WH="[object String]",HH="[object Symbol]",YH="[object ArrayBuffer]",VH="[object DataView]",f0=Pr?Pr.prototype:void 0,xf=f0?f0.valueOf:void 0;function GH(e,t,r,n,i,a,o){switch(r){case VH:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case YH:return!(e.byteLength!=t.byteLength||!a(new Ds(e),new Ds(t)));case kH:case DH:case NH:return ka(+e,+t);case FH:return e.name==t.name&&e.message==t.message;case UH:case WH:return e==t+"";case LH:var u=RH;case BH:var c=n&jH;if(u||(u=IH),e.size!=t.size&&!c)return!1;var s=o.get(e);if(s)return s==t;n|=MH,o.set(e,t);var f=mO(u(e),u(t),n,i,a,o);return o.delete(e),f;case HH:if(xf)return xf.call(e)==xf.call(t)}return!1}function zH(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function qH(e,t,r){var n=t(e);return pt(e)?n:zH(n,r(e))}function KH(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}function XH(){return[]}var JH=Object.prototype,QH=JH.propertyIsEnumerable,l0=Object.getOwnPropertySymbols,ZH=l0?function(e){return e==null?[]:(e=Object(e),KH(l0(e),function(t){return QH.call(e,t)}))}:XH,eY=ZH,tY=sO(Object.keys,Object),rY=tY,nY=Object.prototype,iY=nY.hasOwnProperty;function aY(e){if(!xv(e))return rY(e);var t=[];for(var r in Object(e))iY.call(e,r)&&r!="constructor"&&t.push(r);return t}function oY(e){return Hu(e)?vO(e):aY(e)}function h0(e){return qH(e,oY,eY)}var sY=1,uY=Object.prototype,cY=uY.hasOwnProperty;function fY(e,t,r,n,i,a){var o=r&sY,u=h0(e),c=u.length,s=h0(t),f=s.length;if(c!=f&&!o)return!1;for(var l=c;l--;){var h=u[l];if(!(o?h in t:cY.call(t,h)))return!1}var d=a.get(e),p=a.get(t);if(d&&p)return d==t&&p==e;var v=!0;a.set(e,t),a.set(t,e);for(var b=o;++l<c;){h=u[l];var y=e[h],m=t[h];if(n)var $=o?n(m,y,h,t,e,a):n(y,m,h,e,t,a);if(!($===void 0?y===m||i(y,m,r,n,a):$)){v=!1;break}b||(b=h=="constructor")}if(v&&!b){var T=e.constructor,I=t.constructor;T!=I&&"constructor"in e&&"constructor"in t&&!(typeof T=="function"&&T instanceof T&&typeof I=="function"&&I instanceof I)&&(v=!1)}return a.delete(e),a.delete(t),v}var lY=bn(Kt,"DataView"),xh=lY,hY=bn(Kt,"Promise"),Ph=hY,dY=bn(Kt,"Set"),Ch=dY,vY=bn(Kt,"WeakMap"),Ah=vY,d0="[object Map]",pY="[object Object]",v0="[object Promise]",p0="[object Set]",y0="[object WeakMap]",g0="[object DataView]",yY=mn(xh),gY=mn(fa),mY=mn(Ph),bY=mn(Ch),_Y=mn(Ah),Yr=jr;(xh&&Yr(new xh(new ArrayBuffer(1)))!=g0||fa&&Yr(new fa)!=d0||Ph&&Yr(Ph.resolve())!=v0||Ch&&Yr(new Ch)!=p0||Ah&&Yr(new Ah)!=y0)&&(Yr=function(e){var t=jr(e),r=t==pY?e.constructor:void 0,n=r?mn(r):"";if(n)switch(n){case yY:return g0;case gY:return d0;case mY:return v0;case bY:return p0;case _Y:return y0}return t});var m0=Yr,$Y=1,b0="[object Arguments]",_0="[object Array]",bo="[object Object]",wY=Object.prototype,$0=wY.hasOwnProperty;function SY(e,t,r,n,i,a){var o=pt(e),u=pt(t),c=o?_0:m0(e),s=u?_0:m0(t);c=c==b0?bo:c,s=s==b0?bo:s;var f=c==bo,l=s==bo,h=c==s;if(h&&Ls(e)){if(!Ls(t))return!1;o=!0,f=!1}if(h&&!f)return a||(a=new ir),o||Cv(e)?mO(e,t,r,n,i,a):GH(e,t,c,r,n,i,a);if(!(r&$Y)){var d=f&&$0.call(e,"__wrapped__"),p=l&&$0.call(t,"__wrapped__");if(d||p){var v=d?e.value():e,b=p?t.value():t;return a||(a=new ir),i(v,b,r,n,a)}}return h?(a||(a=new ir),fY(e,t,r,n,i,a)):!1}function bO(e,t,r,n,i){return e===t?!0:e==null||t==null||!fr(e)&&!fr(t)?e!==e&&t!==t:SY(e,t,r,n,bO,i)}function _O(e,t){return bO(e,t)}var OY=Object.prototype,EY=OY.hasOwnProperty;function TY(e,t){return e!=null&&EY.call(e,t)}var xY="[object Symbol]";function Av(e){return typeof e=="symbol"||fr(e)&&jr(e)==xY}var PY=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,CY=/^\w*$/;function AY(e,t){if(pt(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Av(e)?!0:CY.test(e)||!PY.test(e)||t!=null&&e in Object(t)}var RY="Expected a function";function Rv(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(RY);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(Rv.Cache||mr),r}Rv.Cache=mr;var IY=500;function jY(e){var t=Rv(e,function(n){return r.size===IY&&r.clear(),n}),r=t.cache;return t}var MY=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kY=/\\(\\)?/g,DY=jY(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(MY,function(r,n,i,a){t.push(i?a.replace(kY,"$1"):n||r)}),t}),FY=DY;function LY(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var NY=1/0,w0=Pr?Pr.prototype:void 0,S0=w0?w0.toString:void 0;function $O(e){if(typeof e=="string")return e;if(pt(e))return LY(e,$O)+"";if(Av(e))return S0?S0.call(e):"";var t=e+"";return t=="0"&&1/e==-NY?"-0":t}function UY(e){return e==null?"":$O(e)}function Iv(e,t){return pt(e)?e:AY(e,t)?[e]:FY(UY(e))}var BY=1/0;function jv(e){if(typeof e=="string"||Av(e))return e;var t=e+"";return t=="0"&&1/e==-BY?"-0":t}function WY(e,t,r){t=Iv(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var o=jv(t[n]);if(!(a=e!=null&&r(e,o)))break;e=e[o]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&Pv(i)&&Yu(o,i)&&(pt(e)||Fs(e)))}function O0(e,t){return e!=null&&WY(e,t,TY)}function HY(e,t){t=Iv(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[jv(t[r++])];return r&&r==n?e:void 0}function _o(e,t,r){var n=e==null?void 0:HY(e,t);return n===void 0?r:n}function YY(e,t,r,n){if(!cr(e))return e;t=Iv(t,e);for(var i=-1,a=t.length,o=a-1,u=e;u!=null&&++i<a;){var c=jv(t[i]),s=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(i!=o){var f=u[c];s=void 0,s===void 0&&(s=cr(f)?f:Yu(t[i+1])?[]:{})}dO(u,c,s),u=u[c]}return e}function E0(e,t,r){return e==null?e:YY(e,t,r)}var VY="[object String]";function GY(e){return typeof e=="string"||!pt(e)&&fr(e)&&jr(e)==VY}var zY={range:function(t){return Math.max(+t,1)},"date.highlight":function(t){return Ru(t)},"subDomain.label":function(t){return GY(t)&&t!==""||Ia(t)?t:null}},qY=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zY;Ge(this,e),this.preProcessors=t,this.options={itemSelector:AD,range:CD,domain:{type:wD,gutter:4,padding:[0,0,0,0],dynamicDimension:!0,sort:"asc",label:{text:void 0,position:"bottom",textAlign:"middle",offset:{x:0,y:0},rotate:null,width:100,height:25}},subDomain:{type:SD,width:OD,height:ED,gutter:TD,radius:xD,label:null,color:void 0,sort:"asc"},date:{start:new Date,min:void 0,max:void 0,highlight:[],locale:ID,timezone:void 0},verticalOrientation:!1,data:{source:"",type:"json",requestInit:{},x:"",y:"",groupY:"sum",defaultValue:null},scale:void 0,animationDuration:PD,theme:RD,x:{domainHorizontalLabelWidth:0,domainVerticalLabelHeight:0}}}return ze(e,[{key:"set",value:function(r,n){return!O0(this.options,r)||_O(_o(this.options,r),n)?!1:(E0(this.options,r,O0(this.preProcessors,r)?_o(this.preProcessors,r)(n):n),!0)}},{key:"init",value:function(r){var n=this;this.options=Object.assign({},SH(this.options,r,function(a,o){return Array.isArray(o)?o:void 0}));var i=this.options;Object.keys(this.preProcessors).forEach(function(a){E0(i,a,_o(n.preProcessors,a)(_o(i,a)))}),typeof i.scale>"u"&&this.initScale(),i.x.domainVerticalLabelHeight=i.domain.label.height,i.domain.label.position==="top"||i.domain.label.position==="bottom"?i.x.domainHorizontalLabelWidth=0:(i.x.domainVerticalLabelHeight=0,i.x.domainHorizontalLabelWidth=i.domain.label.width),(i.domain.label.text===null||i.domain.label.text==="")&&(i.x.domainVerticalLabelHeight=0,i.x.domainHorizontalLabelWidth=0)}},{key:"initScale",value:function(){this.options.scale={color:{scheme:MD,type:kD,domain:DD}}}}]),e}(),KY=Xe,XY=function(){var e=KY(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},Mv=he,JY=Oe,kv=JY.RegExp,Dv=Mv(function(){var e=kv("a","y");return e.lastIndex=2,e.exec("abcd")!==null}),QY=Dv||Mv(function(){return!kv("a","y").sticky}),ZY=Dv||Mv(function(){var e=kv("^r","gy");return e.lastIndex=2,e.exec("str")!==null}),eV={BROKEN_CARET:ZY,MISSED_STICKY:QY,UNSUPPORTED_Y:Dv},tV=he,rV=Oe,nV=rV.RegExp,iV=tV(function(){var e=nV(".","s");return!(e.dotAll&&e.test(`
`)&&e.flags==="s")}),aV=he,oV=Oe,sV=oV.RegExp,uV=aV(function(){var e=sV("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),Fn=Be,Vu=ye,cV=Ir,fV=XY,lV=eV,hV=Dd,dV=Pu,vV=yn.get,pV=iV,yV=uV,gV=hV("native-string-replace",String.prototype.replace),Us=RegExp.prototype.exec,Rh=Us,mV=Vu("".charAt),bV=Vu("".indexOf),_V=Vu("".replace),Pf=Vu("".slice),Ih=function(){var e=/a/,t=/b*/g;return Fn(Us,e,"a"),Fn(Us,t,"a"),e.lastIndex!==0||t.lastIndex!==0}(),wO=lV.BROKEN_CARET,jh=/()??/.exec("")[1]!==void 0,$V=Ih||jh||wO||pV||yV;$V&&(Rh=function(t){var r=this,n=vV(r),i=cV(t),a=n.raw,o,u,c,s,f,l,h;if(a)return a.lastIndex=r.lastIndex,o=Fn(Rh,a,i),r.lastIndex=a.lastIndex,o;var d=n.groups,p=wO&&r.sticky,v=Fn(fV,r),b=r.source,y=0,m=i;if(p&&(v=_V(v,"y",""),bV(v,"g")===-1&&(v+="g"),m=Pf(i,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&mV(i,r.lastIndex-1)!==`
`)&&(b="(?: "+b+")",m=" "+m,y++),u=new RegExp("^(?:"+b+")",v)),jh&&(u=new RegExp("^"+b+"$(?!\\s)",v)),Ih&&(c=r.lastIndex),s=Fn(Us,p?u:r,m),p?s?(s.input=Pf(s.input,y),s[0]=Pf(s[0],y),s.index=r.lastIndex,r.lastIndex+=s[0].length):r.lastIndex=0:Ih&&s&&(r.lastIndex=r.global?s.index+s[0].length:c),jh&&s&&s.length>1&&Fn(gV,s[0],u,function(){for(f=1;f<arguments.length-2;f++)arguments[f]===void 0&&(s[f]=void 0)}),s&&d)for(s.groups=l=dV(null),f=0;f<d.length;f++)h=d[f],l[h[0]]=s[h[1]];return s});var Fv=Rh,wV=me,T0=Fv;wV({target:"RegExp",proto:!0,forced:/./.exec!==T0},{exec:T0});var x0=Qd,P0=dr,SV=Fv,C0=he,SO=Ee,OV=si,EV=SO("species"),Cf=RegExp.prototype,TV=function(e,t,r,n){var i=SO(e),a=!C0(function(){var s={};return s[i]=function(){return 7},""[e](s)!==7}),o=a&&!C0(function(){var s=!1,f=/a/;return e==="split"&&(f={},f.constructor={},f.constructor[EV]=function(){return f},f.flags="",f[i]=/./[i]),f.exec=function(){return s=!0,null},f[i](""),!s});if(!a||!o||r){var u=x0(/./[i]),c=t(i,""[e],function(s,f,l,h,d){var p=x0(s),v=f.exec;return v===SV||v===Cf.exec?a&&!d?{done:!0,value:u(f,l,h)}:{done:!0,value:p(l,f,h)}:{done:!1}});P0(String.prototype,e,c[0]),P0(Cf,i,c[1])}n&&OV(Cf[i],"sham",!0)},xV=K2.charAt,PV=function(e,t,r){return t+(r?xV(e,t).length:1)},Lv=ye,CV=zt,AV=Math.floor,Af=Lv("".charAt),RV=Lv("".replace),Rf=Lv("".slice),IV=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,jV=/\$([$&'`]|\d{1,2})/g,MV=function(e,t,r,n,i,a){var o=r+e.length,u=n.length,c=jV;return i!==void 0&&(i=CV(i),c=IV),RV(a,c,function(s,f){var l;switch(Af(f,0)){case"$":return"$";case"&":return e;case"`":return Rf(t,0,r);case"'":return Rf(t,o);case"<":l=i[Rf(f,1,-1)];break;default:var h=+f;if(h===0)return s;if(h>u){var d=AV(h/10);return d===0?s:d<=u?n[d-1]===void 0?Af(f,1):n[d-1]+Af(f,1):s}l=n[h-1]}return l===void 0?"":l})},A0=Be,kV=Xe,DV=Se,FV=vr,LV=Fv,NV=TypeError,UV=function(e,t){var r=e.exec;if(DV(r)){var n=A0(r,e,t);return n!==null&&kV(n),n}if(FV(e)==="RegExp")return A0(LV,e,t);throw new NV("RegExp#exec called on incompatible receiver")},BV=d2,R0=Be,Gu=ye,WV=TV,HV=he,YV=Xe,VV=Se,GV=Rr,zV=bu,qV=Vd,Pn=Ir,KV=dn,XV=PV,JV=lu,QV=MV,ZV=UV,eG=Ee,Mh=eG("replace"),tG=Math.max,rG=Math.min,nG=Gu([].concat),If=Gu([].push),I0=Gu("".indexOf),j0=Gu("".slice),iG=function(e){return e===void 0?e:String(e)},aG=function(){return"a".replace(/./,"$0")==="$0"}(),M0=function(){return/./[Mh]?/./[Mh]("a","$0")==="":!1}(),oG=!HV(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"});WV("replace",function(e,t,r){var n=M0?"$":"$0";return[function(a,o){var u=KV(this),c=GV(a)?void 0:JV(a,Mh);return c?R0(c,a,u,o):R0(t,Pn(u),a,o)},function(i,a){var o=YV(this),u=Pn(i);if(typeof a=="string"&&I0(a,n)===-1&&I0(a,"$<")===-1){var c=r(t,o,u,a);if(c.done)return c.value}var s=VV(a);s||(a=Pn(a));var f=o.global,l;f&&(l=o.unicode,o.lastIndex=0);for(var h=[],d;d=ZV(o,u),!(d===null||(If(h,d),!f));){var p=Pn(d[0]);p===""&&(o.lastIndex=XV(u,qV(o.lastIndex),l))}for(var v="",b=0,y=0;y<h.length;y++){d=h[y];for(var m=Pn(d[0]),$=tG(rG(zV(d.index),u.length),0),T=[],I,C=1;C<d.length;C++)If(T,iG(d[C]));var U=d.groups;if(s){var G=nG([m],T,$,u);U!==void 0&&If(G,U),I=Pn(BV(a,void 0,G))}else I=QV(m,u,$,T,U,a);$>=b&&(v+=j0(u,b,$)+I,b=$+m.length)}return v+j0(u,b)}]},!oG||!aG||M0);var kh,OO,sG=function(){function e(t){Ge(this,e),kh.add(this),this.calendar=t}return ze(e,[{key:"getDatas",value:function(r,n,i){return vv(this,void 0,void 0,nn().mark(function a(){var o;return nn().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!(typeof r=="string"&&r.length>0)){c.next=2;break}return c.abrupt("return",se(this,kh,"m",OO).call(this,r,n,i));case 2:return o=[],Array.isArray(r)&&(o=r),c.abrupt("return",new Promise(function(s){s(o)}));case 5:case"end":return c.stop()}},a,this)}))}},{key:"parseURI",value:function(r,n,i){var a=this,o=r.replace(/\{\{start=(.*?)\}\}/g,function(u,c){return a.calendar.dateHelper.date(n).format(c)});return o=o.replace(/\{\{end=(.*?)\}\}/g,function(u,c){return a.calendar.dateHelper.date(i).format(c)}),o}}]),e}();kh=new WeakSet,OO=function(t,r,n){var i=this.calendar.options.options.data,a=i.type,o=i.requestInit,u=this.parseURI(t,r,n);switch(a){case"json":return tC(u,o);case"csv":return Z6(u,o);case"tsv":return Q6("	",u,o);case"txt":return Ed(u,o);default:return new Promise(function(c){c([])})}};var uG=rt,cG=hu.EXISTS,EO=ye,fG=Xd,TO=Function.prototype,lG=EO(TO.toString),xO=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,hG=EO(xO.exec),dG="name";uG&&!cG&&fG(TO,dG,{configurable:!0,get:function(){try{return hG(xO,lG(this))[1]}catch{return""}}});var PO={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(De,function(){var r=1e3,n=6e4,i=36e5,a="millisecond",o="second",u="minute",c="hour",s="day",f="week",l="month",h="quarter",d="year",p="date",v="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(A){var L=["th","st","nd","rd"],W=A%100;return"["+A+(L[(W-20)%10]||L[W]||L[0])+"]"}},$=function(A,L,W){var V=String(A);return!V||V.length>=L?A:""+Array(L+1-V.length).join(W)+A},T={s:$,z:function(A){var L=-A.utcOffset(),W=Math.abs(L),V=Math.floor(W/60),S=W%60;return(L<=0?"+":"-")+$(V,2,"0")+":"+$(S,2,"0")},m:function A(L,W){if(L.date()<W.date())return-A(W,L);var V=12*(W.year()-L.year())+(W.month()-L.month()),S=L.clone().add(V,l),w=W-S<0,O=L.clone().add(V+(w?-1:1),l);return+(-(V+(W-S)/(w?S-O:O-S))||0)},a:function(A){return A<0?Math.ceil(A)||0:Math.floor(A)},p:function(A){return{M:l,y:d,w:f,d:s,D:p,h:c,m:u,s:o,ms:a,Q:h}[A]||String(A||"").toLowerCase().replace(/s$/,"")},u:function(A){return A===void 0}},I="en",C={};C[I]=m;var U="$isDayjsObject",G=function(A){return A instanceof k||!(!A||!A[U])},z=function A(L,W,V){var S;if(!L)return I;if(typeof L=="string"){var w=L.toLowerCase();C[w]&&(S=w),W&&(C[w]=W,S=w);var O=L.split("-");if(!S&&O.length>1)return A(O[0])}else{var P=L.name;C[P]=L,S=P}return!V&&S&&(I=S),S||!V&&I},F=function(A,L){if(G(A))return A.clone();var W=typeof L=="object"?L:{};return W.date=A,W.args=arguments,new k(W)},j=T;j.l=z,j.i=G,j.w=function(A,L){return F(A,{locale:L.$L,utc:L.$u,x:L.$x,$offset:L.$offset})};var k=function(){function A(W){this.$L=z(W.locale,null,!0),this.parse(W),this.$x=this.$x||W.x||{},this[U]=!0}var L=A.prototype;return L.parse=function(W){this.$d=function(V){var S=V.date,w=V.utc;if(S===null)return new Date(NaN);if(j.u(S))return new Date;if(S instanceof Date)return new Date(S);if(typeof S=="string"&&!/Z$/i.test(S)){var O=S.match(b);if(O){var P=O[2]-1||0,M=(O[7]||"0").substring(0,3);return w?new Date(Date.UTC(O[1],P,O[3]||1,O[4]||0,O[5]||0,O[6]||0,M)):new Date(O[1],P,O[3]||1,O[4]||0,O[5]||0,O[6]||0,M)}}return new Date(S)}(W),this.init()},L.init=function(){var W=this.$d;this.$y=W.getFullYear(),this.$M=W.getMonth(),this.$D=W.getDate(),this.$W=W.getDay(),this.$H=W.getHours(),this.$m=W.getMinutes(),this.$s=W.getSeconds(),this.$ms=W.getMilliseconds()},L.$utils=function(){return j},L.isValid=function(){return this.$d.toString()!==v},L.isSame=function(W,V){var S=F(W);return this.startOf(V)<=S&&S<=this.endOf(V)},L.isAfter=function(W,V){return F(W)<this.startOf(V)},L.isBefore=function(W,V){return this.endOf(V)<F(W)},L.$g=function(W,V,S){return j.u(W)?this[V]:this.set(S,W)},L.unix=function(){return Math.floor(this.valueOf()/1e3)},L.valueOf=function(){return this.$d.getTime()},L.startOf=function(W,V){var S=this,w=!!j.u(V)||V,O=j.p(W),P=function(_,E){var N=j.w(S.$u?Date.UTC(S.$y,E,_):new Date(S.$y,E,_),S);return w?N:N.endOf(s)},M=function(_,E){return j.w(S.toDate()[_].apply(S.toDate("s"),(w?[0,0,0,0]:[23,59,59,999]).slice(E)),S)},x=this.$W,D=this.$M,H=this.$D,Y="set"+(this.$u?"UTC":"");switch(O){case d:return w?P(1,0):P(31,11);case l:return w?P(1,D):P(0,D+1);case f:var K=this.$locale().weekStart||0,g=(x<K?x+7:x)-K;return P(w?H-g:H+(6-g),D);case s:case p:return M(Y+"Hours",0);case c:return M(Y+"Minutes",1);case u:return M(Y+"Seconds",2);case o:return M(Y+"Milliseconds",3);default:return this.clone()}},L.endOf=function(W){return this.startOf(W,!1)},L.$set=function(W,V){var S,w=j.p(W),O="set"+(this.$u?"UTC":""),P=(S={},S[s]=O+"Date",S[p]=O+"Date",S[l]=O+"Month",S[d]=O+"FullYear",S[c]=O+"Hours",S[u]=O+"Minutes",S[o]=O+"Seconds",S[a]=O+"Milliseconds",S)[w],M=w===s?this.$D+(V-this.$W):V;if(w===l||w===d){var x=this.clone().set(p,1);x.$d[P](M),x.init(),this.$d=x.set(p,Math.min(this.$D,x.daysInMonth())).$d}else P&&this.$d[P](M);return this.init(),this},L.set=function(W,V){return this.clone().$set(W,V)},L.get=function(W){return this[j.p(W)]()},L.add=function(W,V){var S,w=this;W=Number(W);var O=j.p(V),P=function(D){var H=F(w);return j.w(H.date(H.date()+Math.round(D*W)),w)};if(O===l)return this.set(l,this.$M+W);if(O===d)return this.set(d,this.$y+W);if(O===s)return P(1);if(O===f)return P(7);var M=(S={},S[u]=n,S[c]=i,S[o]=r,S)[O]||1,x=this.$d.getTime()+W*M;return j.w(x,this)},L.subtract=function(W,V){return this.add(-1*W,V)},L.format=function(W){var V=this,S=this.$locale();if(!this.isValid())return S.invalidDate||v;var w=W||"YYYY-MM-DDTHH:mm:ssZ",O=j.z(this),P=this.$H,M=this.$m,x=this.$M,D=S.weekdays,H=S.months,Y=S.meridiem,K=function(E,N,R,q){return E&&(E[N]||E(V,w))||R[N].slice(0,q)},g=function(E){return j.s(P%12||12,E,"0")},_=Y||function(E,N,R){var q=E<12?"AM":"PM";return R?q.toLowerCase():q};return w.replace(y,function(E,N){return N||function(R){switch(R){case"YY":return String(V.$y).slice(-2);case"YYYY":return j.s(V.$y,4,"0");case"M":return x+1;case"MM":return j.s(x+1,2,"0");case"MMM":return K(S.monthsShort,x,H,3);case"MMMM":return K(H,x);case"D":return V.$D;case"DD":return j.s(V.$D,2,"0");case"d":return String(V.$W);case"dd":return K(S.weekdaysMin,V.$W,D,2);case"ddd":return K(S.weekdaysShort,V.$W,D,3);case"dddd":return D[V.$W];case"H":return String(P);case"HH":return j.s(P,2,"0");case"h":return g(1);case"hh":return g(2);case"a":return _(P,M,!0);case"A":return _(P,M,!1);case"m":return String(M);case"mm":return j.s(M,2,"0");case"s":return String(V.$s);case"ss":return j.s(V.$s,2,"0");case"SSS":return j.s(V.$ms,3,"0");case"Z":return O}return null}(E)||O.replace(":","")})},L.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},L.diff=function(W,V,S){var w,O=this,P=j.p(V),M=F(W),x=(M.utcOffset()-this.utcOffset())*n,D=this-M,H=function(){return j.m(O,M)};switch(P){case d:w=H()/12;break;case l:w=H();break;case h:w=H()/3;break;case f:w=(D-x)/6048e5;break;case s:w=(D-x)/864e5;break;case c:w=D/i;break;case u:w=D/n;break;case o:w=D/r;break;default:w=D}return S?w:j.a(w)},L.daysInMonth=function(){return this.endOf(l).$D},L.$locale=function(){return C[this.$L]},L.locale=function(W,V){if(!W)return this.$L;var S=this.clone(),w=z(W,V,!0);return w&&(S.$L=w),S},L.clone=function(){return j.w(this.$d,this)},L.toDate=function(){return new Date(this.valueOf())},L.toJSON=function(){return this.isValid()?this.toISOString():null},L.toISOString=function(){return this.$d.toISOString()},L.toString=function(){return this.$d.toUTCString()},A}(),B=k.prototype;return F.prototype=B,[["$ms",a],["$s",o],["$m",u],["$H",c],["$W",s],["$M",l],["$y",d],["$D",p]].forEach(function(A){B[A[1]]=function(L){return this.$g(L,A[0],A[1])}}),F.extend=function(A,L){return A.$i||(A(L,k,F),A.$i=!0),F},F.locale=z,F.isDayjs=G,F.unix=function(A){return F(1e3*A)},F.en=C[I],F.Ls=C,F.p={},F})})(PO);var vG=PO.exports,_e=Ke(vG),CO={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(De,function(){var r="week",n="year";return function(i,a,o){var u=a.prototype;u.week=function(c){if(c===void 0&&(c=null),c!==null)return this.add(7*(c-this.week()),"day");var s=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var f=o(this).startOf(n).add(1,n).date(s),l=o(this).endOf(r);if(f.isBefore(l))return 1}var h=o(this).startOf(n).date(s).startOf(r).subtract(1,"millisecond"),d=this.diff(h,r,!0);return d<0?o(this).startOf("week").week():Math.ceil(d)},u.weeks=function(c){return c===void 0&&(c=null),this.week(c)}}})})(CO);var pG=CO.exports,yG=Ke(pG),AO={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(De,function(){return function(r,n,i){n.prototype.dayOfYear=function(a){var o=Math.round((i(this).startOf("day")-i(this).startOf("year"))/864e5)+1;return a==null?o:this.add(a-o,"day")}}})})(AO);var gG=AO.exports,mG=Ke(gG),RO={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(De,function(){return function(r,n){n.prototype.weekday=function(i){var a=this.$locale().weekStart||0,o=this.$W,u=(o<a?o+7:o)-a;return this.$utils().u(i)?u:this.subtract(u,"day").add(i,"day")}}})})(RO);var bG=RO.exports,_G=Ke(bG),IO={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(De,function(){return function(r,n,i){var a=function(o,u){if(!u||!u.length||u.length===1&&!u[0]||u.length===1&&Array.isArray(u[0])&&!u[0].length)return null;var c;u.length===1&&u[0].length>0&&(u=u[0]),c=(u=u.filter(function(f){return f}))[0];for(var s=1;s<u.length;s+=1)u[s].isValid()&&!u[s][o](c)||(c=u[s]);return c};i.max=function(){var o=[].slice.call(arguments,0);return a("isAfter",o)},i.min=function(){var o=[].slice.call(arguments,0);return a("isBefore",o)}}})})(IO);var $G=IO.exports,wG=Ke($G),jO={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(De,function(){return function(r,n){n.prototype.isoWeeksInYear=function(){var i=this.isLeapYear(),a=this.endOf("y").day();return a===4||i&&a===5?53:52}}})})(jO);var SG=jO.exports,OG=Ke(SG),MO={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(De,function(){var r="day";return function(n,i,a){var o=function(s){return s.add(4-s.isoWeekday(),r)},u=i.prototype;u.isoWeekYear=function(){return o(this).year()},u.isoWeek=function(s){if(!this.$utils().u(s))return this.add(7*(s-this.isoWeek()),r);var f,l,h,d,p=o(this),v=(f=this.isoWeekYear(),l=this.$u,h=(l?a.utc:a)().year(f).startOf("year"),d=4-h.isoWeekday(),h.isoWeekday()>4&&(d+=7),h.add(d,r));return p.diff(v,"week")+1},u.isoWeekday=function(s){return this.$utils().u(s)?this.day()||7:this.day(this.day()%7?s:s-7)};var c=u.startOf;u.startOf=function(s,f){var l=this.$utils(),h=!!l.u(f)||f;return l.p(s)==="isoweek"?h?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):c.bind(this)(s,f)}}})})(MO);var EG=MO.exports,TG=Ke(EG),kO={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(De,function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(kO);var xG=kO.exports,PG=Ke(xG),DO={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(De,function(){return function(r,n){var i=n.prototype,a=i.format;i.format=function(o){var u=this,c=this.$locale();if(!this.isValid())return a.bind(this)(o);var s=this.$utils(),f=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(l){switch(l){case"Q":return Math.ceil((u.$M+1)/3);case"Do":return c.ordinal(u.$D);case"gggg":return u.weekYear();case"GGGG":return u.isoWeekYear();case"wo":return c.ordinal(u.week(),"W");case"w":case"ww":return s.s(u.week(),l==="w"?1:2,"0");case"W":case"WW":return s.s(u.isoWeek(),l==="W"?1:2,"0");case"k":case"kk":return s.s(String(u.$H===0?24:u.$H),l==="k"?1:2,"0");case"X":return Math.floor(u.$d.getTime()/1e3);case"x":return u.$d.getTime();case"z":return"["+u.offsetName()+"]";case"zzz":return"["+u.offsetName("long")+"]";default:return l}});return a.bind(this)(f)}}})})(DO);var CG=DO.exports,AG=Ke(CG),FO={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(De,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(a,o,u){var c=o.prototype;u.utc=function(v){var b={date:v,utc:!0,args:arguments};return new o(b)},c.utc=function(v){var b=u(this.toDate(),{locale:this.$L,utc:!0});return v?b.add(this.utcOffset(),r):b},c.local=function(){return u(this.toDate(),{locale:this.$L,utc:!1})};var s=c.parse;c.parse=function(v){v.utc&&(this.$u=!0),this.$utils().u(v.$offset)||(this.$offset=v.$offset),s.call(this,v)};var f=c.init;c.init=function(){if(this.$u){var v=this.$d;this.$y=v.getUTCFullYear(),this.$M=v.getUTCMonth(),this.$D=v.getUTCDate(),this.$W=v.getUTCDay(),this.$H=v.getUTCHours(),this.$m=v.getUTCMinutes(),this.$s=v.getUTCSeconds(),this.$ms=v.getUTCMilliseconds()}else f.call(this)};var l=c.utcOffset;c.utcOffset=function(v,b){var y=this.$utils().u;if(y(v))return this.$u?0:y(this.$offset)?l.call(this):this.$offset;if(typeof v=="string"&&(v=function(I){I===void 0&&(I="");var C=I.match(n);if(!C)return null;var U=(""+C[0]).match(i)||["-",0,0],G=U[0],z=60*+U[1]+ +U[2];return z===0?0:G==="+"?z:-z}(v),v===null))return this;var m=Math.abs(v)<=16?60*v:v,$=this;if(b)return $.$offset=m,$.$u=v===0,$;if(v!==0){var T=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();($=this.local().add(m+T,r)).$offset=m,$.$x.$localOffset=T}else $=this.utc();return $};var h=c.format;c.format=function(v){var b=v||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,b)},c.valueOf=function(){var v=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*v},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var d=c.toDate;c.toDate=function(v){return v==="s"&&this.$offset?u(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():d.call(this)};var p=c.diff;c.diff=function(v,b,y){if(v&&this.$u===v.$u)return p.call(this,v,b,y);var m=this.local(),$=u(v).local();return p.call(m,$,b,y)}}})})(FO);var RG=FO.exports,IG=Ke(RG),LO={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(De,function(){var r={year:0,month:1,day:2,hour:3,minute:4,second:5},n={};return function(i,a,o){var u,c=function(h,d,p){p===void 0&&(p={});var v=new Date(h),b=function(y,m){m===void 0&&(m={});var $=m.timeZoneName||"short",T=y+"|"+$,I=n[T];return I||(I=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:y,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:$}),n[T]=I),I}(d,p);return b.formatToParts(v)},s=function(h,d){for(var p=c(h,d),v=[],b=0;b<p.length;b+=1){var y=p[b],m=y.type,$=y.value,T=r[m];T>=0&&(v[T]=parseInt($,10))}var I=v[3],C=I===24?0:I,U=v[0]+"-"+v[1]+"-"+v[2]+" "+C+":"+v[4]+":"+v[5]+":000",G=+h;return(o.utc(U).valueOf()-(G-=G%1e3))/6e4},f=a.prototype;f.tz=function(h,d){h===void 0&&(h=u);var p=this.utcOffset(),v=this.toDate(),b=v.toLocaleString("en-US",{timeZone:h}),y=Math.round((v-new Date(b))/1e3/60),m=o(b,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(v.getTimezoneOffset()/15)-y,!0);if(d){var $=m.utcOffset();m=m.add(p-$,"minute")}return m.$x.$timezone=h,m},f.offsetName=function(h){var d=this.$x.$timezone||o.tz.guess(),p=c(this.valueOf(),d,{timeZoneName:h}).find(function(v){return v.type.toLowerCase()==="timezonename"});return p&&p.value};var l=f.startOf;f.startOf=function(h,d){if(!this.$x||!this.$x.$timezone)return l.call(this,h,d);var p=o(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return l.call(p,h,d).tz(this.$x.$timezone,!0)},o.tz=function(h,d,p){var v=p&&d,b=p||d||u,y=s(+o(),b);if(typeof h!="string")return o(h).tz(b);var m=function(C,U,G){var z=C-60*U*1e3,F=s(z,G);if(U===F)return[z,U];var j=s(z-=60*(F-U)*1e3,G);return F===j?[z,F]:[C-60*Math.min(F,j)*1e3,Math.max(F,j)]}(o.utc(h,v).valueOf(),y,b),$=m[0],T=m[1],I=o($).utcOffset(T);return I.$x.$timezone=b,I},o.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},o.tz.setDefault=function(h){u=h}}})})(LO);var jG=LO.exports,MG=Ke(jG),NO={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(De,function(){return function(r,n,i){var a=n.prototype,o=function(l){return l&&(l.indexOf?l:l.s)},u=function(l,h,d,p,v){var b=l.name?l:l.$locale(),y=o(b[h]),m=o(b[d]),$=y||m.map(function(I){return I.slice(0,p)});if(!v)return $;var T=b.weekStart;return $.map(function(I,C){return $[(C+(T||0))%7]})},c=function(){return i.Ls[i.locale()]},s=function(l,h){return l.formats[h]||function(d){return d.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(p,v,b){return v||b.slice(1)})}(l.formats[h.toUpperCase()])},f=function(){var l=this;return{months:function(h){return h?h.format("MMMM"):u(l,"months")},monthsShort:function(h){return h?h.format("MMM"):u(l,"monthsShort","months",3)},firstDayOfWeek:function(){return l.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):u(l,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):u(l,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):u(l,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return s(l.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return f.bind(this)()},i.localeData=function(){var l=c();return{firstDayOfWeek:function(){return l.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(h){return s(l,h)},meridiem:l.meridiem,ordinal:l.ordinal}},i.months=function(){return u(c(),"months")},i.monthsShort=function(){return u(c(),"monthsShort","months",3)},i.weekdays=function(l){return u(c(),"weekdays",null,null,l)},i.weekdaysShort=function(l){return u(c(),"weekdaysShort","weekdays",3,l)},i.weekdaysMin=function(l){return u(c(),"weekdaysMin","weekdays",2,l)}}})})(NO);var kG=NO.exports,DG=Ke(kG),UO={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(De,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,i,a){var o=i.prototype,u=o.format;a.en.formats=r,o.format=function(c){c===void 0&&(c="YYYY-MM-DDTHH:mm:ssZ");var s=this.$locale().formats,f=function(l,h){return l.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(d,p,v){var b=v&&v.toUpperCase();return p||h[v]||r[v]||h[b].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(y,m,$){return m||$.slice(1)})})}(c,s===void 0?{}:s);return u.call(this,f)}}})})(UO);var FG=UO.exports,LG=Ke(FG),BO={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(De,function(){return function(r,n,i){i.updateLocale=function(a,o){var u=i.Ls[a];if(u)return(o?Object.keys(o):[]).forEach(function(c){u[c]=o[c]}),u}}})})(BO);var NG=BO.exports,UG=Ke(NG);_e.extend(yG);_e.extend(OG);_e.extend(TG);_e.extend(PG);_e.extend(mG);_e.extend(_G);_e.extend(wG);_e.extend(AG);_e.extend(IG);_e.extend(MG);_e.extend(DG);_e.extend(LG);_e.extend(UG);var jf="en",BG=function(){function e(){Ge(this,e);var t;this.locale=jf,this.timezone=_e.tz.guess(),(typeof window>"u"?"undefined":Yi(window))==="object"&&((t=window).dayjs||(t.dayjs=_e))}return ze(e,[{key:"setup",value:function(r){var n=r.options;return vv(this,void 0,void 0,nn().mark(function i(){var a,o;return nn().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.timezone=n.date.timezone||_e.tz.guess(),a=n.date.locale,!(typeof a=="string"&&a!==jf)){c.next=17;break}if((typeof window>"u"?"undefined":Yi(window))!=="object"){c.next=12;break}if(c.t0=window["dayjs_locale_".concat(a)],c.t0){c.next=9;break}return c.next=8,this.loadBrowserLocale(a);case 8:c.t0=c.sent;case 9:o=c.t0,c.next=15;break;case 12:return c.next=14,this.loadNodeLocale(a);case 14:o=c.sent;case 15:_e.locale(a),this.locale=o;case 17:Yi(a)==="object"&&(a.hasOwnProperty("name")?(_e.locale(a.name,a),this.locale=a):this.locale=_e.updateLocale(jf,a));case 18:case"end":return c.stop()}},i,this)}))}},{key:"extend",value:function(r){return _e.extend(r)}},{key:"getMonthWeekNumber",value:function(r){var n=this.date(r),i=n.startOf("day"),a=n.startOf("month").endOf("week");return i<=a?1:Math.ceil(i.diff(a,"weeks",!0))+1}},{key:"getWeeksCountInMonth",value:function(r){var n=this.date(r);return this.getLastWeekOfMonth(n).diff(this.getFirstWeekOfMonth(n),"week")+1}},{key:"getFirstWeekOfMonth",value:function(r){var n=this.date(r).startOf("month"),i=n.startOf("week");return n.weekday()>4&&(i=i.add(1,"week")),i}},{key:"getLastWeekOfMonth",value:function(r){var n=this.date(r).endOf("month"),i=n.endOf("week");return n.weekday()<4&&(i=i.subtract(1,"week")),i}},{key:"date",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return _e.isDayjs(r)?r:_e(r).tz(this.timezone).utcOffset(0).locale(this.locale)}},{key:"format",value:function(r,n){if(typeof n=="function"){for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];return n.apply(void 0,[r].concat(a))}return typeof n=="string"?this.date(r).format(n):null}},{key:"intervals",value:function(r,n,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=this.date(n),u;typeof i=="number"?u=o.add(i,r):_e.isDayjs(i)?u=i:u=this.date(i),o=o.startOf(r),u=u.startOf(r);var c=_e.min(o,u);u=_e.max(o,u);var s=[];a||(u=u.add(1,"second"));do s.push(+c),c=c.add(1,r);while(c<u);return s}},{key:"loadBrowserLocale",value:function(r){return new Promise(function(n,i){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="https://cdn.jsdelivr.net/npm/dayjs@1/locale/".concat(r,".js"),a.onerror=function(o){i(o)},a.onload=function(){n(window["dayjs_locale_".concat(r)])},document.head.appendChild(a)})}},{key:"loadNodeLocale",value:function(r){return Lo(()=>import("dayjs/locale/".concat(r,".js")),[],import.meta.url)}}]),e}(),WG=me,HG=ye,YG=DS,VG=dn,k0=Ir,GG=FS,zG=HG("".indexOf);WG({target:"String",proto:!0,forced:!GG("includes")},{includes:function(t){return!!~zG(k0(VG(this)),k0(YG(t)),arguments.length>1?arguments[1]:void 0)}});var qG=["json","csv","tsv","txt"];function KG(e,t){var r=t.domain,n=t.subDomain,i=t.data,a=r.type,o=n.type;if(!e.has(a))throw new Error("'".concat(a,"' is not a valid domain type'"));if(!e.has(o))throw new Error("'".concat(o,"' is not a valid subDomain type'"));if(i.type&&!qG.includes(i.type))throw new Error("The data type '".concat(i.type,"' is not valid data type"));if(!(e.get(o).allowedDomainType||[]).includes(a))throw new Error("The subDomain.type '".concat(o,"' can not be used together ")+"with the domain type ".concat(a));return!0}var XG=bv,JG=mS;XG("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},JG);function QG(e,t){return new e(t)}function ZG(e,t){return"".concat(new e().name).concat((t==null?void 0:t.key)||"")}var ez=function(){function e(t){Ge(this,e),this.calendar=t,this.settings=new Map,this.plugins=new Map,this.pendingPaint=new Set}return ze(e,[{key:"add",value:function(r){var n=this;r.forEach(function(i){var a=kw(i,2),o=a[0],u=a[1],c=ZG(o,u),s=n.plugins.get(c);s&&n.settings.get(c)&&_O(n.settings.get(c).options,u)||(n.settings.set(c,{options:u,dirty:!0}),n.plugins.has(c)||n.plugins.set(c,QG(o,n.calendar)),n.pendingPaint.add(n.plugins.get(c)))})}},{key:"setupAll",value:function(){var r=this;this.plugins.forEach(function(n,i){var a=r.settings.get(i);typeof a<"u"&&a.dirty&&(n.setup(a.options),a.dirty=!1,r.settings.set(i,a))})}},{key:"paintAll",value:function(){return Array.from(this.pendingPaint.values()).map(function(r){return r.paint()})}},{key:"destroyAll",value:function(){return this.allPlugins().map(function(r){return r.destroy()})}},{key:"getFromPosition",value:function(r){return this.allPlugins().filter(function(n){var i;return((i=n.options)===null||i===void 0?void 0:i.position)===r})}},{key:"getHeightFromPosition",value:function(r){return this.getFromPosition(r).map(function(n){return n.options.dimensions.height}).reduce(function(n,i){return n+i},0)}},{key:"getWidthFromPosition",value:function(r){return this.getFromPosition(r).map(function(n){return n.options.dimensions.width}).reduce(function(n,i){return n+i},0)}},{key:"allPlugins",value:function(){return Array.from(this.plugins.values())}}]),e}(),tz="4.2.4",rz=function(t){var r=10,n=6,i=["day","hour"];return{name:"minute",allowedDomainType:i,rowsCount:function(){return r},columnsCount:function(){return n},mapping:function(o,u){return t.intervals("minute",o,t.date(u)).map(function(c,s){return{t:c,x:Math.floor(s/r),y:s%r}})},extractUnit:function(o){return t.date(o).startOf("minute").valueOf()}}},nz=function(t,r){var n=r.domain,i=24,a=6,o=["month","week","day"];return{name:"hour",allowedDomainType:o,rowsCount:function(){return a},columnsCount:function(c){switch(n.type){case"week":return i/a*7;case"month":return i/a*(n.dynamicDimension?t.date(c).daysInMonth():31);case"day":default:return i/a}},mapping:function(c,s){return t.intervals("hour",c,t.date(s)).map(function(f){var l=t.date(f),h=l.hour(),d=l.date(),p=Math.floor(h/a),v=i/a;return n.type==="month"&&(p+=(d-1)*v),n.type==="week"&&(p+=+l.format("d")*v),{t:f,x:p,y:Math.floor(h%a)}})},extractUnit:function(c){return t.date(c).startOf("hour").valueOf()}}},iz=function(t,r){var n=r.domain,i=r.verticalOrientation,a=7,o=["year","month","week"];return{name:"day",allowedDomainType:o,rowsCount:function(){return n.type==="week"?1:a},columnsCount:function(c){switch(n.type){case"month":return Math.ceil(n.dynamicDimension&&!i?t.getMonthWeekNumber(t.date(c).endOf("month")):6);case"year":return Math.ceil(n.dynamicDimension?t.date(c).endOf("year").dayOfYear()/a:54);case"week":default:return a}},mapping:function(c,s){var f=0,l=-1;return t.intervals("day",c,t.date(s)).map(function(h){var d=t.date(h);switch(n.type){case"month":l=t.getMonthWeekNumber(h)-1;break;case"year":f!==d.week()&&(f=d.week(),l+=1);break;case"week":l=d.weekday();break}return{t:h,x:l,y:n.type==="week"?0:d.weekday()}})},extractUnit:function(c){return t.date(c).startOf("day").valueOf()}}},az=function(t,r){var n=r.domain,i=r.verticalOrientation,a=7,o=["year","month","week"];return{name:"xDay",allowedDomainType:o,rowsCount:function(c){switch(n.type){case"month":return Math.ceil(n.dynamicDimension&&!i?t.getMonthWeekNumber(t.date(c).endOf("month")):6);case"year":return Math.ceil(n.dynamicDimension?t.date(c).endOf("year").dayOfYear()/a:54);case"week":default:return a}},columnsCount:function(){return n.type==="week"?1:a},mapping:function(c,s){return t.intervals("day",c,t.date(s)).map(function(f){var l=t.date(f),h=l.endOf("year").week(),d=0;switch(n.type){case"month":d=t.getMonthWeekNumber(f)-1;break;case"year":h===1&&l.week()===h&&(d=l.subtract(1,"week").week()+1),d=l.week()-1;break;case"week":d=l.weekday();break}return{t:f,y:d,x:n.type==="week"?0:l.weekday()}})},extractUnit:function(c){return t.date(c).startOf("day").valueOf()}}},oz=function(t){var r=7,n=["month"];return{name:"ghDay",allowedDomainType:n,rowsCount:function(){return r},columnsCount:function(a){return t.getWeeksCountInMonth(a)},mapping:function(a,o){var u=t.getFirstWeekOfMonth(a),c=t.getFirstWeekOfMonth(o),s=-1,f=u.weekday();return t.intervals("day",u,c).map(function(l){var h=t.date(l).weekday();return h===f&&(s+=1),{t:l,x:s,y:h}})},extractUnit:function(a){return t.date(a).startOf("day").valueOf()}}},sz=function(t,r){var n=r.domain,i=["year","month"];return{name:"week",allowedDomainType:i,rowsCount:function(){return 1},columnsCount:function(o){switch(n.type){case"year":return n.dynamicDimension?t.date(o).endOf("year").isoWeeksInYear():53;case"month":return n.dynamicDimension?t.getWeeksCountInMonth(o):5;default:return 1}},mapping:function(o,u){var c=t.getFirstWeekOfMonth(o),s=t.getFirstWeekOfMonth(u);return t.intervals("week",c,s).map(function(f,l){return{t:f,x:l,y:0}})},extractUnit:function(o){return t.date(o).startOf("week").valueOf()}}},uz=function(t){var r=["year"];return{name:"month",allowedDomainType:r,rowsCount:function(){return 1},columnsCount:function(){return 12},mapping:function(i,a){return t.intervals("month",i,t.date(a)).map(function(o){return{t:o,x:t.date(o).month(),y:0}})},extractUnit:function(i){return t.date(i).startOf("month").valueOf()}}},cz=function(t){var r=[];return{name:"year",allowedDomainType:r,rowsCount:function(){return 1},columnsCount:function(){return 1},mapping:function(i,a){return t.intervals("year",i,t.date(a)).map(function(o,u){return{t:o,x:u,y:0}})},extractUnit:function(i){return t.date(i).startOf("year").valueOf()}}},fz=[rz,nz,iz,az,oz,sz,uz,cz],lz=function(){function e(t,r){Ge(this,e),this.settings=new Map,this.dateHelper=t,this.options=r,this.initiated=!1}return ze(e,[{key:"get",value:function(r){return this.settings.get(r)}},{key:"has",value:function(r){return this.settings.has(r)}},{key:"init",value:function(){this.initiated||(this.initiated=!0,this.add(fz))}},{key:"add",value:function(r){var n=this;this.init();var i=[];Ru(r).forEach(function(a){var o=a(n.dateHelper,n.options.options);n.settings.set(o.name,o),o.hasOwnProperty("parent")&&i.push(o.name)}),i.forEach(function(a){var o=n.settings.get(n.settings.get(a).parent);o&&n.settings.set(a,Object.assign(Object.assign({},o),n.settings.get(a)))})}}]),e}(),WO=function(){function e(){Ge(this,e),this.options=new qY,this.dateHelper=new BG,this.templateCollection=new lz(this.dateHelper,this.options),this.dataFetcher=new sG(this),this.navigator=new FD(this),this.populator=new XU(this),this.calendarPainter=new HL(this),this.eventEmitter=new B9,this.pluginManager=new ez(this)}return ze(e,[{key:"createDomainCollection",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return new Am(this.dateHelper,this.options.options.domain.type,r,n,i)}},{key:"paint",value:function(r,n){return vv(this,void 0,void 0,nn().mark(function i(){return nn().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.options.init(r),o.next=3,this.dateHelper.setup(this.options);case 3:this.templateCollection.init(),o.prev=4,KG(this.templateCollection,this.options.options),o.next=11;break;case 8:return o.prev=8,o.t0=o.catch(4),o.abrupt("return",Promise.reject(o.t0));case 11:return n&&this.pluginManager.add(Ru(n)),this.calendarPainter.setup(),this.domainCollection=new Am(this.dateHelper),this.navigator.loadNewDomains(this.createDomainCollection(this.options.options.date.start,this.options.options.range)),o.abrupt("return",Promise.allSettled([this.calendarPainter.paint(),this.fill()]));case 16:case"end":return o.stop()}},i,this,[[4,8]])}))}},{key:"addTemplates",value:function(r){this.templateCollection.add(r)}},{key:"next",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,n=this.navigator.loadNewDomains(this.createDomainCollection(this.domainCollection.max,r+1).slice(r),Pe.SCROLL_FORWARD);return Promise.allSettled([this.calendarPainter.paint(n),this.fill()])}},{key:"previous",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,n=this.navigator.loadNewDomains(this.createDomainCollection(this.domainCollection.min,-r),Pe.SCROLL_BACKWARD);return Promise.allSettled([this.calendarPainter.paint(n),this.fill()])}},{key:"jumpTo",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Promise.allSettled([this.calendarPainter.paint(this.navigator.jumpTo(r,n)),this.fill()])}},{key:"fill",value:function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.options.data.source,i=this.options.options,a=this.templateCollection,o=this.dateHelper.intervals(i.domain.type,this.domainCollection.max,2)[1],u=this.dataFetcher.getDatas(n,this.domainCollection.min,o);return new Promise(function(c,s){u.then(function(f){r.domainCollection.fill(f,i.data,a.get(i.subDomain.type).extractUnit),r.populator.populate(),c(null)},function(f){s(f)})})}},{key:"on",value:function(r,n){this.eventEmitter.on(r,n)}},{key:"dimensions",value:function(){return this.calendarPainter.dimensions}},{key:"destroy",value:function(){return this.calendarPainter.destroy()}},{key:"extendDayjs",value:function(r){return this.dateHelper.extend(r)}}]),e}();WO.VERSION=tz;var et="top",yt="bottom",gt="right",tt="left",Nv="auto",Da=[et,yt,gt,tt],Zn="start",ha="end",hz="clippingParents",HO="viewport",xi="popper",dz="reference",D0=Da.reduce(function(e,t){return e.concat([t+"-"+Zn,t+"-"+ha])},[]),YO=[].concat(Da,[Nv]).reduce(function(e,t){return e.concat([t,t+"-"+Zn,t+"-"+ha])},[]),vz="beforeRead",pz="read",yz="afterRead",gz="beforeMain",mz="main",bz="afterMain",_z="beforeWrite",$z="write",wz="afterWrite",Sz=[vz,pz,yz,gz,mz,bz,_z,$z,wz];function Yt(e){return e?(e.nodeName||"").toLowerCase():null}function ut(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function un(e){var t=ut(e).Element;return e instanceof t||e instanceof Element}function vt(e){var t=ut(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Uv(e){if(typeof ShadowRoot>"u")return!1;var t=ut(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Oz(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},i=t.attributes[r]||{},a=t.elements[r];!vt(a)||!Yt(a)||(Object.assign(a.style,n),Object.keys(i).forEach(function(o){var u=i[o];u===!1?a.removeAttribute(o):a.setAttribute(o,u===!0?"":u)}))})}function Ez(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var i=t.elements[n],a=t.attributes[n]||{},o=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),u=o.reduce(function(c,s){return c[s]="",c},{});!vt(i)||!Yt(i)||(Object.assign(i.style,u),Object.keys(a).forEach(function(c){i.removeAttribute(c)}))})}}const Tz={name:"applyStyles",enabled:!0,phase:"write",fn:Oz,effect:Ez,requires:["computeStyles"]};function Ft(e){return e.split("-")[0]}var Xr=Math.max,Bs=Math.min,ei=Math.round;function Dh(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function VO(){return!/^((?!chrome|android).)*safari/i.test(Dh())}function ti(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),i=1,a=1;t&&vt(e)&&(i=e.offsetWidth>0&&ei(n.width)/e.offsetWidth||1,a=e.offsetHeight>0&&ei(n.height)/e.offsetHeight||1);var o=un(e)?ut(e):window,u=o.visualViewport,c=!VO()&&r,s=(n.left+(c&&u?u.offsetLeft:0))/i,f=(n.top+(c&&u?u.offsetTop:0))/a,l=n.width/i,h=n.height/a;return{width:l,height:h,top:f,right:s+l,bottom:f+h,left:s,x:s,y:f}}function Bv(e){var t=ti(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function GO(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&Uv(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function lr(e){return ut(e).getComputedStyle(e)}function xz(e){return["table","td","th"].indexOf(Yt(e))>=0}function Mr(e){return((un(e)?e.ownerDocument:e.document)||window.document).documentElement}function zu(e){return Yt(e)==="html"?e:e.assignedSlot||e.parentNode||(Uv(e)?e.host:null)||Mr(e)}function F0(e){return!vt(e)||lr(e).position==="fixed"?null:e.offsetParent}function Pz(e){var t=/firefox/i.test(Dh()),r=/Trident/i.test(Dh());if(r&&vt(e)){var n=lr(e);if(n.position==="fixed")return null}var i=zu(e);for(Uv(i)&&(i=i.host);vt(i)&&["html","body"].indexOf(Yt(i))<0;){var a=lr(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function Fa(e){for(var t=ut(e),r=F0(e);r&&xz(r)&&lr(r).position==="static";)r=F0(r);return r&&(Yt(r)==="html"||Yt(r)==="body"&&lr(r).position==="static")?t:r||Pz(e)||t}function Wv(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ki(e,t,r){return Xr(e,Bs(t,r))}function Cz(e,t,r){var n=Ki(e,t,r);return n>r?r:n}function zO(){return{top:0,right:0,bottom:0,left:0}}function qO(e){return Object.assign({},zO(),e)}function KO(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var Az=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,qO(typeof t!="number"?t:KO(t,Da))};function Rz(e){var t,r=e.state,n=e.name,i=e.options,a=r.elements.arrow,o=r.modifiersData.popperOffsets,u=Ft(r.placement),c=Wv(u),s=[tt,gt].indexOf(u)>=0,f=s?"height":"width";if(!(!a||!o)){var l=Az(i.padding,r),h=Bv(a),d=c==="y"?et:tt,p=c==="y"?yt:gt,v=r.rects.reference[f]+r.rects.reference[c]-o[c]-r.rects.popper[f],b=o[c]-r.rects.reference[c],y=Fa(a),m=y?c==="y"?y.clientHeight||0:y.clientWidth||0:0,$=v/2-b/2,T=l[d],I=m-h[f]-l[p],C=m/2-h[f]/2+$,U=Ki(T,C,I),G=c;r.modifiersData[n]=(t={},t[G]=U,t.centerOffset=U-C,t)}}function Iz(e){var t=e.state,r=e.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||GO(t.elements.popper,i)&&(t.elements.arrow=i))}const jz={name:"arrow",enabled:!0,phase:"main",fn:Rz,effect:Iz,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ri(e){return e.split("-")[1]}var Mz={top:"auto",right:"auto",bottom:"auto",left:"auto"};function kz(e,t){var r=e.x,n=e.y,i=t.devicePixelRatio||1;return{x:ei(r*i)/i||0,y:ei(n*i)/i||0}}function L0(e){var t,r=e.popper,n=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,u=e.position,c=e.gpuAcceleration,s=e.adaptive,f=e.roundOffsets,l=e.isFixed,h=o.x,d=h===void 0?0:h,p=o.y,v=p===void 0?0:p,b=typeof f=="function"?f({x:d,y:v}):{x:d,y:v};d=b.x,v=b.y;var y=o.hasOwnProperty("x"),m=o.hasOwnProperty("y"),$=tt,T=et,I=window;if(s){var C=Fa(r),U="clientHeight",G="clientWidth";if(C===ut(r)&&(C=Mr(r),lr(C).position!=="static"&&u==="absolute"&&(U="scrollHeight",G="scrollWidth")),C=C,i===et||(i===tt||i===gt)&&a===ha){T=yt;var z=l&&C===I&&I.visualViewport?I.visualViewport.height:C[U];v-=z-n.height,v*=c?1:-1}if(i===tt||(i===et||i===yt)&&a===ha){$=gt;var F=l&&C===I&&I.visualViewport?I.visualViewport.width:C[G];d-=F-n.width,d*=c?1:-1}}var j=Object.assign({position:u},s&&Mz),k=f===!0?kz({x:d,y:v},ut(r)):{x:d,y:v};if(d=k.x,v=k.y,c){var B;return Object.assign({},j,(B={},B[T]=m?"0":"",B[$]=y?"0":"",B.transform=(I.devicePixelRatio||1)<=1?"translate("+d+"px, "+v+"px)":"translate3d("+d+"px, "+v+"px, 0)",B))}return Object.assign({},j,(t={},t[T]=m?v+"px":"",t[$]=y?d+"px":"",t.transform="",t))}function Dz(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=n===void 0?!0:n,a=r.adaptive,o=a===void 0?!0:a,u=r.roundOffsets,c=u===void 0?!0:u,s={placement:Ft(t.placement),variation:ri(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,L0(Object.assign({},s,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,L0(Object.assign({},s,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Fz={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Dz,data:{}};var $o={passive:!0};function Lz(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,a=i===void 0?!0:i,o=n.resize,u=o===void 0?!0:o,c=ut(t.elements.popper),s=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&s.forEach(function(f){f.addEventListener("scroll",r.update,$o)}),u&&c.addEventListener("resize",r.update,$o),function(){a&&s.forEach(function(f){f.removeEventListener("scroll",r.update,$o)}),u&&c.removeEventListener("resize",r.update,$o)}}const Nz={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Lz,data:{}};var Uz={left:"right",right:"left",bottom:"top",top:"bottom"};function es(e){return e.replace(/left|right|bottom|top/g,function(t){return Uz[t]})}var Bz={start:"end",end:"start"};function N0(e){return e.replace(/start|end/g,function(t){return Bz[t]})}function Hv(e){var t=ut(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Yv(e){return ti(Mr(e)).left+Hv(e).scrollLeft}function Wz(e,t){var r=ut(e),n=Mr(e),i=r.visualViewport,a=n.clientWidth,o=n.clientHeight,u=0,c=0;if(i){a=i.width,o=i.height;var s=VO();(s||!s&&t==="fixed")&&(u=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:u+Yv(e),y:c}}function Hz(e){var t,r=Mr(e),n=Hv(e),i=(t=e.ownerDocument)==null?void 0:t.body,a=Xr(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Xr(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-n.scrollLeft+Yv(e),c=-n.scrollTop;return lr(i||r).direction==="rtl"&&(u+=Xr(r.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:u,y:c}}function Vv(e){var t=lr(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function XO(e){return["html","body","#document"].indexOf(Yt(e))>=0?e.ownerDocument.body:vt(e)&&Vv(e)?e:XO(zu(e))}function Xi(e,t){var r;t===void 0&&(t=[]);var n=XO(e),i=n===((r=e.ownerDocument)==null?void 0:r.body),a=ut(n),o=i?[a].concat(a.visualViewport||[],Vv(n)?n:[]):n,u=t.concat(o);return i?u:u.concat(Xi(zu(o)))}function Fh(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Yz(e,t){var r=ti(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function U0(e,t,r){return t===HO?Fh(Wz(e,r)):un(t)?Yz(t,r):Fh(Hz(Mr(e)))}function Vz(e){var t=Xi(zu(e)),r=["absolute","fixed"].indexOf(lr(e).position)>=0,n=r&&vt(e)?Fa(e):e;return un(n)?t.filter(function(i){return un(i)&&GO(i,n)&&Yt(i)!=="body"}):[]}function Gz(e,t,r,n){var i=t==="clippingParents"?Vz(e):[].concat(t),a=[].concat(i,[r]),o=a[0],u=a.reduce(function(c,s){var f=U0(e,s,n);return c.top=Xr(f.top,c.top),c.right=Bs(f.right,c.right),c.bottom=Bs(f.bottom,c.bottom),c.left=Xr(f.left,c.left),c},U0(e,o,n));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function JO(e){var t=e.reference,r=e.element,n=e.placement,i=n?Ft(n):null,a=n?ri(n):null,o=t.x+t.width/2-r.width/2,u=t.y+t.height/2-r.height/2,c;switch(i){case et:c={x:o,y:t.y-r.height};break;case yt:c={x:o,y:t.y+t.height};break;case gt:c={x:t.x+t.width,y:u};break;case tt:c={x:t.x-r.width,y:u};break;default:c={x:t.x,y:t.y}}var s=i?Wv(i):null;if(s!=null){var f=s==="y"?"height":"width";switch(a){case Zn:c[s]=c[s]-(t[f]/2-r[f]/2);break;case ha:c[s]=c[s]+(t[f]/2-r[f]/2);break}}return c}function da(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=n===void 0?e.placement:n,a=r.strategy,o=a===void 0?e.strategy:a,u=r.boundary,c=u===void 0?hz:u,s=r.rootBoundary,f=s===void 0?HO:s,l=r.elementContext,h=l===void 0?xi:l,d=r.altBoundary,p=d===void 0?!1:d,v=r.padding,b=v===void 0?0:v,y=qO(typeof b!="number"?b:KO(b,Da)),m=h===xi?dz:xi,$=e.rects.popper,T=e.elements[p?m:h],I=Gz(un(T)?T:T.contextElement||Mr(e.elements.popper),c,f,o),C=ti(e.elements.reference),U=JO({reference:C,element:$,strategy:"absolute",placement:i}),G=Fh(Object.assign({},$,U)),z=h===xi?G:C,F={top:I.top-z.top+y.top,bottom:z.bottom-I.bottom+y.bottom,left:I.left-z.left+y.left,right:z.right-I.right+y.right},j=e.modifiersData.offset;if(h===xi&&j){var k=j[i];Object.keys(F).forEach(function(B){var A=[gt,yt].indexOf(B)>=0?1:-1,L=[et,yt].indexOf(B)>=0?"y":"x";F[B]+=k[L]*A})}return F}function zz(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=r.boundary,a=r.rootBoundary,o=r.padding,u=r.flipVariations,c=r.allowedAutoPlacements,s=c===void 0?YO:c,f=ri(n),l=f?u?D0:D0.filter(function(p){return ri(p)===f}):Da,h=l.filter(function(p){return s.indexOf(p)>=0});h.length===0&&(h=l);var d=h.reduce(function(p,v){return p[v]=da(e,{placement:v,boundary:i,rootBoundary:a,padding:o})[Ft(v)],p},{});return Object.keys(d).sort(function(p,v){return d[p]-d[v]})}function qz(e){if(Ft(e)===Nv)return[];var t=es(e);return[N0(e),t,N0(t)]}function Kz(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,a=i===void 0?!0:i,o=r.altAxis,u=o===void 0?!0:o,c=r.fallbackPlacements,s=r.padding,f=r.boundary,l=r.rootBoundary,h=r.altBoundary,d=r.flipVariations,p=d===void 0?!0:d,v=r.allowedAutoPlacements,b=t.options.placement,y=Ft(b),m=y===b,$=c||(m||!p?[es(b)]:qz(b)),T=[b].concat($).reduce(function(D,H){return D.concat(Ft(H)===Nv?zz(t,{placement:H,boundary:f,rootBoundary:l,padding:s,flipVariations:p,allowedAutoPlacements:v}):H)},[]),I=t.rects.reference,C=t.rects.popper,U=new Map,G=!0,z=T[0],F=0;F<T.length;F++){var j=T[F],k=Ft(j),B=ri(j)===Zn,A=[et,yt].indexOf(k)>=0,L=A?"width":"height",W=da(t,{placement:j,boundary:f,rootBoundary:l,altBoundary:h,padding:s}),V=A?B?gt:tt:B?yt:et;I[L]>C[L]&&(V=es(V));var S=es(V),w=[];if(a&&w.push(W[k]<=0),u&&w.push(W[V]<=0,W[S]<=0),w.every(function(D){return D})){z=j,G=!1;break}U.set(j,w)}if(G)for(var O=p?3:1,P=function(H){var Y=T.find(function(K){var g=U.get(K);if(g)return g.slice(0,H).every(function(_){return _})});if(Y)return z=Y,"break"},M=O;M>0;M--){var x=P(M);if(x==="break")break}t.placement!==z&&(t.modifiersData[n]._skip=!0,t.placement=z,t.reset=!0)}}const Xz={name:"flip",enabled:!0,phase:"main",fn:Kz,requiresIfExists:["offset"],data:{_skip:!1}};function B0(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function W0(e){return[et,gt,yt,tt].some(function(t){return e[t]>=0})}function Jz(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=da(t,{elementContext:"reference"}),u=da(t,{altBoundary:!0}),c=B0(o,n),s=B0(u,i,a),f=W0(c),l=W0(s);t.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:s,isReferenceHidden:f,hasPopperEscaped:l},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":l})}const Qz={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Jz};function Zz(e,t,r){var n=Ft(e),i=[tt,et].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,o=a[0],u=a[1];return o=o||0,u=(u||0)*i,[tt,gt].indexOf(n)>=0?{x:u,y:o}:{x:o,y:u}}function eq(e){var t=e.state,r=e.options,n=e.name,i=r.offset,a=i===void 0?[0,0]:i,o=YO.reduce(function(f,l){return f[l]=Zz(l,t.rects,a),f},{}),u=o[t.placement],c=u.x,s=u.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=s),t.modifiersData[n]=o}const tq={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:eq};function rq(e){var t=e.state,r=e.name;t.modifiersData[r]=JO({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const nq={name:"popperOffsets",enabled:!0,phase:"read",fn:rq,data:{}};function iq(e){return e==="x"?"y":"x"}function aq(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,a=i===void 0?!0:i,o=r.altAxis,u=o===void 0?!1:o,c=r.boundary,s=r.rootBoundary,f=r.altBoundary,l=r.padding,h=r.tether,d=h===void 0?!0:h,p=r.tetherOffset,v=p===void 0?0:p,b=da(t,{boundary:c,rootBoundary:s,padding:l,altBoundary:f}),y=Ft(t.placement),m=ri(t.placement),$=!m,T=Wv(y),I=iq(T),C=t.modifiersData.popperOffsets,U=t.rects.reference,G=t.rects.popper,z=typeof v=="function"?v(Object.assign({},t.rects,{placement:t.placement})):v,F=typeof z=="number"?{mainAxis:z,altAxis:z}:Object.assign({mainAxis:0,altAxis:0},z),j=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,k={x:0,y:0};if(C){if(a){var B,A=T==="y"?et:tt,L=T==="y"?yt:gt,W=T==="y"?"height":"width",V=C[T],S=V+b[A],w=V-b[L],O=d?-G[W]/2:0,P=m===Zn?U[W]:G[W],M=m===Zn?-G[W]:-U[W],x=t.elements.arrow,D=d&&x?Bv(x):{width:0,height:0},H=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:zO(),Y=H[A],K=H[L],g=Ki(0,U[W],D[W]),_=$?U[W]/2-O-g-Y-F.mainAxis:P-g-Y-F.mainAxis,E=$?-U[W]/2+O+g+K+F.mainAxis:M+g+K+F.mainAxis,N=t.elements.arrow&&Fa(t.elements.arrow),R=N?T==="y"?N.clientTop||0:N.clientLeft||0:0,q=(B=j==null?void 0:j[T])!=null?B:0,J=V+_-q-R,Z=V+E-q,re=Ki(d?Bs(S,J):S,V,d?Xr(w,Z):w);C[T]=re,k[T]=re-V}if(u){var ce,ae=T==="x"?et:tt,ve=T==="x"?yt:gt,$e=C[I],nt=I==="y"?"height":"width",de=$e+b[ae],X=$e-b[ve],Q=[et,tt].indexOf(y)!==-1,te=(ce=j==null?void 0:j[I])!=null?ce:0,ee=Q?de:$e-U[nt]-G[nt]-te+F.altAxis,oe=Q?$e+U[nt]+G[nt]-te-F.altAxis:X,ie=d&&Q?Cz(ee,$e,oe):Ki(d?ee:de,$e,d?oe:X);C[I]=ie,k[I]=ie-$e}t.modifiersData[n]=k}}const oq={name:"preventOverflow",enabled:!0,phase:"main",fn:aq,requiresIfExists:["offset"]};function sq(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function uq(e){return e===ut(e)||!vt(e)?Hv(e):sq(e)}function cq(e){var t=e.getBoundingClientRect(),r=ei(t.width)/e.offsetWidth||1,n=ei(t.height)/e.offsetHeight||1;return r!==1||n!==1}function fq(e,t,r){r===void 0&&(r=!1);var n=vt(t),i=vt(t)&&cq(t),a=Mr(t),o=ti(e,i,r),u={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!r)&&((Yt(t)!=="body"||Vv(a))&&(u=uq(t)),vt(t)?(c=ti(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):a&&(c.x=Yv(a))),{x:o.left+u.scrollLeft-c.x,y:o.top+u.scrollTop-c.y,width:o.width,height:o.height}}function lq(e){var t=new Map,r=new Set,n=[];e.forEach(function(a){t.set(a.name,a)});function i(a){r.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(u){if(!r.has(u)){var c=t.get(u);c&&i(c)}}),n.push(a)}return e.forEach(function(a){r.has(a.name)||i(a)}),n}function hq(e){var t=lq(e);return Sz.reduce(function(r,n){return r.concat(t.filter(function(i){return i.phase===n}))},[])}function dq(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function vq(e){var t=e.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var H0={placement:"bottom",modifiers:[],strategy:"absolute"};function Y0(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function pq(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,i=t.defaultOptions,a=i===void 0?H0:i;return function(u,c,s){s===void 0&&(s=a);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},H0,a),modifiersData:{},elements:{reference:u,popper:c},attributes:{},styles:{}},l=[],h=!1,d={state:f,setOptions:function(y){var m=typeof y=="function"?y(f.options):y;v(),f.options=Object.assign({},a,f.options,m),f.scrollParents={reference:un(u)?Xi(u):u.contextElement?Xi(u.contextElement):[],popper:Xi(c)};var $=hq(vq([].concat(n,f.options.modifiers)));return f.orderedModifiers=$.filter(function(T){return T.enabled}),p(),d.update()},forceUpdate:function(){if(!h){var y=f.elements,m=y.reference,$=y.popper;if(Y0(m,$)){f.rects={reference:fq(m,Fa($),f.options.strategy==="fixed"),popper:Bv($)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(F){return f.modifiersData[F.name]=Object.assign({},F.data)});for(var T=0;T<f.orderedModifiers.length;T++){if(f.reset===!0){f.reset=!1,T=-1;continue}var I=f.orderedModifiers[T],C=I.fn,U=I.options,G=U===void 0?{}:U,z=I.name;typeof C=="function"&&(f=C({state:f,options:G,name:z,instance:d})||f)}}}},update:dq(function(){return new Promise(function(b){d.forceUpdate(),b(f)})}),destroy:function(){v(),h=!0}};if(!Y0(u,c))return d;d.setOptions(s).then(function(b){!h&&s.onFirstUpdate&&s.onFirstUpdate(b)});function p(){f.orderedModifiers.forEach(function(b){var y=b.name,m=b.options,$=m===void 0?{}:m,T=b.effect;if(typeof T=="function"){var I=T({state:f,name:y,instance:d,options:$}),C=function(){};l.push(I||C)}})}function v(){l.forEach(function(b){return b()}),l=[]}return d}}var yq=[Nz,nq,Fz,Tz,tq,Xz,oq,jz,Qz],gq=pq({defaultModifiers:yq});function mq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Tq(n.key),n)}}function _q(e,t,r){return t&&bq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function V0(e){return $q(e)||wq(e)||Sq(e)||Oq()}function $q(e){if(Array.isArray(e))return Lh(e)}function wq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Sq(e,t){if(e){if(typeof e=="string")return Lh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lh(e,t)}}function Lh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eq(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Tq(e){var t=Eq(e,"string");return typeof t=="symbol"?t:String(t)}var wo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pi=function(e){return e&&e.Math===Math&&e},Le=Pi(typeof globalThis=="object"&&globalThis)||Pi(typeof window=="object"&&window)||Pi(typeof self=="object"&&self)||Pi(typeof wo=="object"&&wo)||Pi(typeof wo=="object"&&wo)||function(){return this}()||Function("return this")(),qu={},Ie=function(e){try{return!!e()}catch{return!0}},xq=Ie,bt=!xq(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Pq=Ie,Ku=!Pq(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Cq=Ku,So=Function.prototype.call,_t=Cq?So.bind(So):function(){return So.apply(So,arguments)},Gv={},QO={}.propertyIsEnumerable,ZO=Object.getOwnPropertyDescriptor,Aq=ZO&&!QO.call({1:2},1);Gv.f=Aq?function(t){var r=ZO(this,t);return!!r&&r.enumerable}:QO;var Xu=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},eE=Ku,tE=Function.prototype,Nh=tE.call,Rq=eE&&tE.bind.bind(Nh,Nh),Ce=eE?Rq:function(e){return function(){return Nh.apply(e,arguments)}},rE=Ce,Iq=rE({}.toString),jq=rE("".slice),_n=function(e){return jq(Iq(e),8,-1)},Mq=Ce,kq=Ie,Dq=_n,Mf=Object,Fq=Mq("".split),zv=kq(function(){return!Mf("z").propertyIsEnumerable(0)})?function(e){return Dq(e)==="String"?Fq(e,""):Mf(e)}:Mf,fi=function(e){return e==null},Lq=fi,Nq=TypeError,qv=function(e){if(Lq(e))throw new Nq("Can't call method on "+e);return e},Uq=zv,Bq=qv,li=function(e){return Uq(Bq(e))},Uh=typeof document=="object"&&document.all,Wq=typeof Uh>"u"&&Uh!==void 0,nE={all:Uh,IS_HTMLDDA:Wq},iE=nE,Hq=iE.all,Te=iE.IS_HTMLDDA?function(e){return typeof e=="function"||e===Hq}:function(e){return typeof e=="function"},G0=Te,aE=nE,Yq=aE.all,Je=aE.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:G0(e)||e===Yq}:function(e){return typeof e=="object"?e!==null:G0(e)},kf=Le,Vq=Te,Gq=function(e){return Vq(e)?e:void 0},$n=function(e,t){return arguments.length<2?Gq(kf[e]):kf[e]&&kf[e][t]},zq=Ce,Kv=zq({}.isPrototypeOf),Ju=typeof navigator<"u"&&String(navigator.userAgent)||"",oE=Le,Df=Ju,z0=oE.process,q0=oE.Deno,K0=z0&&z0.versions||q0&&q0.version,X0=K0&&K0.v8,St,Ws;X0&&(St=X0.split("."),Ws=St[0]>0&&St[0]<4?1:+(St[0]+St[1]));!Ws&&Df&&(St=Df.match(/Edge\/(\d+)/),(!St||St[1]>=74)&&(St=Df.match(/Chrome\/(\d+)/),St&&(Ws=+St[1])));var Qu=Ws,J0=Qu,qq=Ie,Kq=Le,Xq=Kq.String,sE=!!Object.getOwnPropertySymbols&&!qq(function(){var e=Symbol("symbol detection");return!Xq(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&J0&&J0<41}),Jq=sE,uE=Jq&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Qq=$n,Zq=Te,eK=Kv,tK=uE,rK=Object,cE=tK?function(e){return typeof e=="symbol"}:function(e){var t=Qq("Symbol");return Zq(t)&&eK(t.prototype,rK(e))},nK=String,Zu=function(e){try{return nK(e)}catch{return"Object"}},iK=Te,aK=Zu,oK=TypeError,kr=function(e){if(iK(e))return e;throw new oK(aK(e)+" is not a function")},sK=kr,uK=fi,Xv=function(e,t){var r=e[t];return uK(r)?void 0:sK(r)},Ff=_t,Lf=Te,Nf=Je,cK=TypeError,fK=function(e,t){var r,n;if(t==="string"&&Lf(r=e.toString)&&!Nf(n=Ff(r,e))||Lf(r=e.valueOf)&&!Nf(n=Ff(r,e))||t!=="string"&&Lf(r=e.toString)&&!Nf(n=Ff(r,e)))return n;throw new cK("Can't convert object to primitive value")},fE={exports:{}},Q0=Le,lK=Object.defineProperty,Jv=function(e,t){try{lK(Q0,e,{value:t,configurable:!0,writable:!0})}catch{Q0[e]=t}return t},hK=Le,dK=Jv,Z0="__core-js_shared__",vK=hK[Z0]||dK(Z0,{}),Qv=vK,e1=Qv;(fE.exports=function(e,t){return e1[e]||(e1[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.34.0",mode:"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"});var lE=fE.exports,pK=qv,yK=Object,La=function(e){return yK(pK(e))},gK=Ce,mK=La,bK=gK({}.hasOwnProperty),$t=Object.hasOwn||function(t,r){return bK(mK(t),r)},_K=Ce,$K=0,wK=Math.random(),SK=_K(1 .toString),Zv=function(e){return"Symbol("+(e===void 0?"":e)+")_"+SK(++$K+wK,36)},OK=Le,EK=lE,t1=$t,TK=Zv,xK=sE,PK=uE,Ln=OK.Symbol,Uf=EK("wks"),CK=PK?Ln.for||Ln:Ln&&Ln.withoutSetter||TK,We=function(e){return t1(Uf,e)||(Uf[e]=xK&&t1(Ln,e)?Ln[e]:CK("Symbol."+e)),Uf[e]},AK=_t,r1=Je,n1=cE,RK=Xv,IK=fK,jK=We,MK=TypeError,kK=jK("toPrimitive"),DK=function(e,t){if(!r1(e)||n1(e))return e;var r=RK(e,kK),n;if(r){if(t===void 0&&(t="default"),n=AK(r,e,t),!r1(n)||n1(n))return n;throw new MK("Can't convert object to primitive value")}return t===void 0&&(t="number"),IK(e,t)},FK=DK,LK=cE,ep=function(e){var t=FK(e,"string");return LK(t)?t:t+""},NK=Le,i1=Je,Bh=NK.document,UK=i1(Bh)&&i1(Bh.createElement),ec=function(e){return UK?Bh.createElement(e):{}},BK=bt,WK=Ie,HK=ec,hE=!BK&&!WK(function(){return Object.defineProperty(HK("div"),"a",{get:function(){return 7}}).a!==7}),YK=bt,VK=_t,GK=Gv,zK=Xu,qK=li,KK=ep,XK=$t,JK=hE,a1=Object.getOwnPropertyDescriptor;qu.f=YK?a1:function(t,r){if(t=qK(t),r=KK(r),JK)try{return a1(t,r)}catch{}if(XK(t,r))return zK(!VK(GK.f,t,r),t[r])};var xt={},QK=bt,ZK=Ie,dE=QK&&ZK(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),eX=Je,tX=String,rX=TypeError,Pt=function(e){if(eX(e))return e;throw new rX(tX(e)+" is not an object")},nX=bt,iX=hE,aX=dE,Oo=Pt,o1=ep,oX=TypeError,Bf=Object.defineProperty,sX=Object.getOwnPropertyDescriptor,Wf="enumerable",Hf="configurable",Yf="writable";xt.f=nX?aX?function(t,r,n){if(Oo(t),r=o1(r),Oo(n),typeof t=="function"&&r==="prototype"&&"value"in n&&Yf in n&&!n[Yf]){var i=sX(t,r);i&&i[Yf]&&(t[r]=n.value,n={configurable:Hf in n?n[Hf]:i[Hf],enumerable:Wf in n?n[Wf]:i[Wf],writable:!1})}return Bf(t,r,n)}:Bf:function(t,r,n){if(Oo(t),r=o1(r),Oo(n),iX)try{return Bf(t,r,n)}catch{}if("get"in n||"set"in n)throw new oX("Accessors not supported");return"value"in n&&(t[r]=n.value),t};var uX=bt,cX=xt,fX=Xu,tc=uX?function(e,t,r){return cX.f(e,t,fX(1,r))}:function(e,t,r){return e[t]=r,e},vE={exports:{}},Wh=bt,lX=$t,pE=Function.prototype,hX=Wh&&Object.getOwnPropertyDescriptor,tp=lX(pE,"name"),dX=tp&&(function(){}).name==="something",vX=tp&&(!Wh||Wh&&hX(pE,"name").configurable),rp={EXISTS:tp,PROPER:dX,CONFIGURABLE:vX},pX=Ce,yX=Te,Hh=Qv,gX=pX(Function.toString);yX(Hh.inspectSource)||(Hh.inspectSource=function(e){return gX(e)});var np=Hh.inspectSource,mX=Le,bX=Te,s1=mX.WeakMap,_X=bX(s1)&&/native code/.test(String(s1)),$X=lE,wX=Zv,u1=$X("keys"),ip=function(e){return u1[e]||(u1[e]=wX(e))},rc={},SX=_X,yE=Le,OX=Je,EX=tc,Vf=$t,Gf=Qv,TX=ip,xX=rc,c1="Object already initialized",Yh=yE.TypeError,PX=yE.WeakMap,Hs,va,Ys,CX=function(e){return Ys(e)?va(e):Hs(e,{})},AX=function(e){return function(t){var r;if(!OX(t)||(r=va(t)).type!==e)throw new Yh("Incompatible receiver, "+e+" required");return r}};if(SX||Gf.state){var jt=Gf.state||(Gf.state=new PX);jt.get=jt.get,jt.has=jt.has,jt.set=jt.set,Hs=function(e,t){if(jt.has(e))throw new Yh(c1);return t.facade=e,jt.set(e,t),t},va=function(e){return jt.get(e)||{}},Ys=function(e){return jt.has(e)}}else{var Cn=TX("state");xX[Cn]=!0,Hs=function(e,t){if(Vf(e,Cn))throw new Yh(c1);return t.facade=e,EX(e,Cn,t),t},va=function(e){return Vf(e,Cn)?e[Cn]:{}},Ys=function(e){return Vf(e,Cn)}}var Na={set:Hs,get:va,has:Ys,enforce:CX,getterFor:AX},ap=Ce,RX=Ie,IX=Te,Eo=$t,Vh=bt,jX=rp.CONFIGURABLE,MX=np,gE=Na,kX=gE.enforce,DX=gE.get,f1=String,ts=Object.defineProperty,FX=ap("".slice),LX=ap("".replace),NX=ap([].join),UX=Vh&&!RX(function(){return ts(function(){},"length",{value:8}).length!==8}),BX=String(String).split("String"),WX=vE.exports=function(e,t,r){FX(f1(t),0,7)==="Symbol("&&(t="["+LX(f1(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!Eo(e,"name")||jX&&e.name!==t)&&(Vh?ts(e,"name",{value:t,configurable:!0}):e.name=t),UX&&r&&Eo(r,"arity")&&e.length!==r.arity&&ts(e,"length",{value:r.arity});try{r&&Eo(r,"constructor")&&r.constructor?Vh&&ts(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var n=kX(e);return Eo(n,"source")||(n.source=NX(BX,typeof t=="string"?t:"")),e};Function.prototype.toString=WX(function(){return IX(this)&&DX(this).source||MX(this)},"toString");var mE=vE.exports,HX=Te,YX=xt,VX=mE,GX=Jv,Dr=function(e,t,r,n){n||(n={});var i=n.enumerable,a=n.name!==void 0?n.name:t;if(HX(r)&&VX(r,a,n),n.global)i?e[t]=r:GX(t,r);else{try{n.unsafe?e[t]&&(i=!0):delete e[t]}catch{}i?e[t]=r:YX.f(e,t,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e},nc={},zX=Math.ceil,qX=Math.floor,KX=Math.trunc||function(t){var r=+t;return(r>0?qX:zX)(r)},XX=KX,op=function(e){var t=+e;return t!==t||t===0?0:XX(t)},JX=op,QX=Math.max,ZX=Math.min,bE=function(e,t){var r=JX(e);return r<0?QX(r+t,0):ZX(r,t)},eJ=op,tJ=Math.min,rJ=function(e){return e>0?tJ(eJ(e),9007199254740991):0},nJ=rJ,Ua=function(e){return nJ(e.length)},iJ=li,aJ=bE,oJ=Ua,l1=function(e){return function(t,r,n){var i=iJ(t),a=oJ(i),o=aJ(n,a),u;if(e&&r!==r){for(;a>o;)if(u=i[o++],u!==u)return!0}else for(;a>o;o++)if((e||o in i)&&i[o]===r)return e||o||0;return!e&&-1}},sJ={includes:l1(!0),indexOf:l1(!1)},uJ=Ce,zf=$t,cJ=li,fJ=sJ.indexOf,lJ=rc,h1=uJ([].push),_E=function(e,t){var r=cJ(e),n=0,i=[],a;for(a in r)!zf(lJ,a)&&zf(r,a)&&h1(i,a);for(;t.length>n;)zf(r,a=t[n++])&&(~fJ(i,a)||h1(i,a));return i},sp=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],hJ=_E,dJ=sp,vJ=dJ.concat("length","prototype");nc.f=Object.getOwnPropertyNames||function(t){return hJ(t,vJ)};var up={};up.f=Object.getOwnPropertySymbols;var pJ=$n,yJ=Ce,gJ=nc,mJ=up,bJ=Pt,_J=yJ([].concat),$J=pJ("Reflect","ownKeys")||function(t){var r=gJ.f(bJ(t)),n=mJ.f;return n?_J(r,n(t)):r},d1=$t,wJ=$J,SJ=qu,OJ=xt,EJ=function(e,t,r){for(var n=wJ(t),i=OJ.f,a=SJ.f,o=0;o<n.length;o++){var u=n[o];!d1(e,u)&&!(r&&d1(r,u))&&i(e,u,a(t,u))}},TJ=Ie,xJ=Te,PJ=/#|\.prototype\./,Ba=function(e,t){var r=AJ[CJ(e)];return r===IJ?!0:r===RJ?!1:xJ(t)?TJ(t):!!t},CJ=Ba.normalize=function(e){return String(e).replace(PJ,".").toLowerCase()},AJ=Ba.data={},RJ=Ba.NATIVE="N",IJ=Ba.POLYFILL="P",cp=Ba,qf=Le,jJ=qu.f,MJ=tc,kJ=Dr,DJ=Jv,FJ=EJ,LJ=cp,Ct=function(e,t){var r=e.target,n=e.global,i=e.stat,a,o,u,c,s,f;if(n?o=qf:i?o=qf[r]||DJ(r,{}):o=(qf[r]||{}).prototype,o)for(u in t){if(s=t[u],e.dontCallGetSet?(f=jJ(o,u),c=f&&f.value):c=o[u],a=LJ(n?u:r+(i?".":"#")+u,e.forced),!a&&c!==void 0){if(typeof s==typeof c)continue;FJ(s,c)}(e.sham||c&&c.sham)&&MJ(s,"sham",!0),kJ(o,u,s,e)}},NJ=_n,$E=Array.isArray||function(t){return NJ(t)==="Array"},UJ=TypeError,BJ=9007199254740991,WJ=function(e){if(e>BJ)throw UJ("Maximum allowed index exceeded");return e},HJ=ep,YJ=xt,VJ=Xu,wE=function(e,t,r){var n=HJ(t);n in e?YJ.f(e,n,VJ(0,r)):e[n]=r},GJ=We,zJ=GJ("toStringTag"),SE={};SE[zJ]="z";var fp=String(SE)==="[object z]",qJ=fp,KJ=Te,rs=_n,XJ=We,JJ=XJ("toStringTag"),QJ=Object,ZJ=rs(function(){return arguments}())==="Arguments",eQ=function(e,t){try{return e[t]}catch{}},ic=qJ?rs:function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=eQ(t=QJ(e),JJ))=="string"?r:ZJ?rs(t):(n=rs(t))==="Object"&&KJ(t.callee)?"Arguments":n},tQ=Ce,rQ=Ie,OE=Te,nQ=ic,iQ=$n,aQ=np,EE=function(){},oQ=[],TE=iQ("Reflect","construct"),lp=/^\s*(?:class|function)\b/,sQ=tQ(lp.exec),uQ=!lp.test(EE),Ci=function(t){if(!OE(t))return!1;try{return TE(EE,oQ,t),!0}catch{return!1}},xE=function(t){if(!OE(t))return!1;switch(nQ(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return uQ||!!sQ(lp,aQ(t))}catch{return!0}};xE.sham=!0;var PE=!TE||rQ(function(){var e;return Ci(Ci.call)||!Ci(Object)||!Ci(function(){e=!0})||e})?xE:Ci,v1=$E,cQ=PE,fQ=Je,lQ=We,hQ=lQ("species"),p1=Array,dQ=function(e){var t;return v1(e)&&(t=e.constructor,cQ(t)&&(t===p1||v1(t.prototype))?t=void 0:fQ(t)&&(t=t[hQ],t===null&&(t=void 0))),t===void 0?p1:t},vQ=dQ,CE=function(e,t){return new(vQ(e))(t===0?0:t)},pQ=Ie,yQ=We,gQ=Qu,mQ=yQ("species"),bQ=function(e){return gQ>=51||!pQ(function(){var t=[],r=t.constructor={};return r[mQ]=function(){return{foo:1}},t[e](Boolean).foo!==1})},_Q=Ct,$Q=Ie,wQ=$E,SQ=Je,OQ=La,EQ=Ua,y1=WJ,g1=wE,TQ=CE,xQ=bQ,PQ=We,CQ=Qu,AE=PQ("isConcatSpreadable"),AQ=CQ>=51||!$Q(function(){var e=[];return e[AE]=!1,e.concat()[0]!==e}),RQ=function(e){if(!SQ(e))return!1;var t=e[AE];return t!==void 0?!!t:wQ(e)},IQ=!AQ||!xQ("concat");_Q({target:"Array",proto:!0,arity:1,forced:IQ},{concat:function(t){var r=OQ(this),n=TQ(r,0),i=0,a,o,u,c,s;for(a=-1,u=arguments.length;a<u;a++)if(s=a===-1?r:arguments[a],RQ(s))for(c=EQ(s),y1(i+c),o=0;o<c;o++,i++)o in s&&g1(n,i,s[o]);else y1(i+1),g1(n,i++,s);return n.length=i,n}});var m1=mE,jQ=xt,RE=function(e,t,r){return r.get&&m1(r.get,t,{getter:!0}),r.set&&m1(r.set,t,{setter:!0}),jQ.f(e,t,r)},MQ=bt,kQ=rp.EXISTS,IE=Ce,DQ=RE,jE=Function.prototype,FQ=IE(jE.toString),ME=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,LQ=IE(ME.exec),NQ="name";MQ&&!kQ&&DQ(jE,NQ,{configurable:!0,get:function(){try{return LQ(ME,FQ(this))[1]}catch{return""}}});var UQ=_E,BQ=sp,kE=Object.keys||function(t){return UQ(t,BQ)},b1=bt,WQ=Ce,HQ=_t,YQ=Ie,Kf=kE,VQ=up,GQ=Gv,zQ=La,qQ=zv,An=Object.assign,_1=Object.defineProperty,KQ=WQ([].concat),XQ=!An||YQ(function(){if(b1&&An({b:1},An(_1({},"a",{enumerable:!0,get:function(){_1(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(i){t[i]=i}),An({},e)[r]!==7||Kf(An({},t)).join("")!==n})?function(t,r){for(var n=zQ(t),i=arguments.length,a=1,o=VQ.f,u=GQ.f;i>a;)for(var c=qQ(arguments[a++]),s=o?KQ(Kf(c),o(c)):Kf(c),f=s.length,l=0,h;f>l;)h=s[l++],(!b1||HQ(u,c,h))&&(n[h]=c[h]);return n}:An,JQ=Ct,$1=XQ;JQ({target:"Object",stat:!0,arity:2,forced:Object.assign!==$1},{assign:$1});var QQ=fp,ZQ=ic,eZ=QQ?{}.toString:function(){return"[object "+ZQ(this)+"]"},tZ=fp,rZ=Dr,nZ=eZ;tZ||rZ(Object.prototype,"toString",nZ,{unsafe:!0});var iZ=Le,aZ=_n,ac=aZ(iZ.process)==="process",oZ=Ce,sZ=kr,uZ=function(e,t,r){try{return oZ(sZ(Object.getOwnPropertyDescriptor(e,t)[r]))}catch{}},cZ=Te,fZ=String,lZ=TypeError,hZ=function(e){if(typeof e=="object"||cZ(e))return e;throw new lZ("Can't set "+fZ(e)+" as a prototype")},dZ=uZ,vZ=Pt,pZ=hZ,hp=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={},r;try{r=dZ(Object.prototype,"__proto__","set"),r(t,[]),e=t instanceof Array}catch{}return function(i,a){return vZ(i),pZ(a),e?r(i,a):i.__proto__=a,i}}():void 0),yZ=xt.f,gZ=$t,mZ=We,w1=mZ("toStringTag"),Wa=function(e,t,r){e&&!r&&(e=e.prototype),e&&!gZ(e,w1)&&yZ(e,w1,{configurable:!0,value:t})},bZ=$n,_Z=RE,$Z=We,wZ=bt,S1=$Z("species"),SZ=function(e){var t=bZ(e);wZ&&t&&!t[S1]&&_Z(t,S1,{configurable:!0,get:function(){return this}})},OZ=Kv,EZ=TypeError,dp=function(e,t){if(OZ(t,e))return e;throw new EZ("Incorrect invocation")},TZ=PE,xZ=Zu,PZ=TypeError,CZ=function(e){if(TZ(e))return e;throw new PZ(xZ(e)+" is not a constructor")},O1=Pt,AZ=CZ,RZ=fi,IZ=We,jZ=IZ("species"),MZ=function(e,t){var r=O1(e).constructor,n;return r===void 0||RZ(n=O1(r)[jZ])?t:AZ(n)},kZ=Ku,DE=Function.prototype,E1=DE.apply,T1=DE.call,DZ=typeof Reflect=="object"&&Reflect.apply||(kZ?T1.bind(E1):function(){return T1.apply(E1,arguments)}),FZ=_n,LZ=Ce,NZ=function(e){if(FZ(e)==="Function")return LZ(e)},x1=NZ,UZ=kr,BZ=Ku,WZ=x1(x1.bind),oc=function(e,t){return UZ(e),t===void 0?e:BZ?WZ(e,t):function(){return e.apply(t,arguments)}},HZ=$n,FE=HZ("document","documentElement"),YZ=Ce,VZ=YZ([].slice),GZ=TypeError,zZ=function(e,t){if(e<t)throw new GZ("Not enough arguments");return e},qZ=Ju,LE=/(?:ipad|iphone|ipod).*applewebkit/i.test(qZ),ot=Le,KZ=DZ,XZ=oc,P1=Te,JZ=$t,NE=Ie,C1=FE,QZ=VZ,A1=ec,ZZ=zZ,eee=LE,tee=ac,Gh=ot.setImmediate,zh=ot.clearImmediate,ree=ot.process,Xf=ot.Dispatch,nee=ot.Function,R1=ot.MessageChannel,iee=ot.String,Jf=0,Ji={},I1="onreadystatechange",pa,Ur,Qf,Zf;NE(function(){pa=ot.location});var vp=function(e){if(JZ(Ji,e)){var t=Ji[e];delete Ji[e],t()}},el=function(e){return function(){vp(e)}},j1=function(e){vp(e.data)},M1=function(e){ot.postMessage(iee(e),pa.protocol+"//"+pa.host)};(!Gh||!zh)&&(Gh=function(t){ZZ(arguments.length,1);var r=P1(t)?t:nee(t),n=QZ(arguments,1);return Ji[++Jf]=function(){KZ(r,void 0,n)},Ur(Jf),Jf},zh=function(t){delete Ji[t]},tee?Ur=function(e){ree.nextTick(el(e))}:Xf&&Xf.now?Ur=function(e){Xf.now(el(e))}:R1&&!eee?(Qf=new R1,Zf=Qf.port2,Qf.port1.onmessage=j1,Ur=XZ(Zf.postMessage,Zf)):ot.addEventListener&&P1(ot.postMessage)&&!ot.importScripts&&pa&&pa.protocol!=="file:"&&!NE(M1)?(Ur=M1,ot.addEventListener("message",j1,!1)):I1 in A1("script")?Ur=function(e){C1.appendChild(A1("script"))[I1]=function(){C1.removeChild(this),vp(e)}}:Ur=function(e){setTimeout(el(e),0)});var UE={set:Gh,clear:zh},BE=function(){this.head=null,this.tail=null};BE.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return t===null&&(this.tail=null),e.item}}};var WE=BE,aee=Ju,oee=/ipad|iphone|ipod/i.test(aee)&&typeof Pebble<"u",see=Ju,uee=/web0s(?!.*chrome)/i.test(see),cn=Le,k1=oc,cee=qu.f,tl=UE.set,fee=WE,lee=LE,hee=oee,dee=uee,rl=ac,D1=cn.MutationObserver||cn.WebKitMutationObserver,F1=cn.document,L1=cn.process,To=cn.Promise,N1=cee(cn,"queueMicrotask"),qh=N1&&N1.value,Rn,nl,il,xo,U1;if(!qh){var Po=new fee,Co=function(){var e,t;for(rl&&(e=L1.domain)&&e.exit();t=Po.get();)try{t()}catch(r){throw Po.head&&Rn(),r}e&&e.enter()};!lee&&!rl&&!dee&&D1&&F1?(nl=!0,il=F1.createTextNode(""),new D1(Co).observe(il,{characterData:!0}),Rn=function(){il.data=nl=!nl}):!hee&&To&&To.resolve?(xo=To.resolve(void 0),xo.constructor=To,U1=k1(xo.then,xo),Rn=function(){U1(Co)}):rl?Rn=function(){L1.nextTick(Co)}:(tl=k1(tl,cn),Rn=function(){tl(Co)}),qh=function(e){Po.head||Rn(),Po.add(e)}}var vee=qh,pee=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch{}},pp=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}},yee=Le,sc=yee.Promise,HE=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",gee=HE,mee=ac,bee=!gee&&!mee&&typeof window=="object"&&typeof document=="object",_ee=Le,Qi=sc,$ee=Te,wee=cp,See=np,Oee=We,Eee=bee,Tee=HE,al=Qu;Qi&&Qi.prototype;var xee=Oee("species"),Kh=!1,YE=$ee(_ee.PromiseRejectionEvent),Pee=wee("Promise",function(){var e=See(Qi),t=e!==String(Qi);if(!t&&al===66)return!0;if(!al||al<51||!/native code/.test(e)){var r=new Qi(function(a){a(1)}),n=function(a){a(function(){},function(){})},i=r.constructor={};if(i[xee]=n,Kh=r.then(function(){})instanceof n,!Kh)return!0}return!t&&(Eee||Tee)&&!YE}),Ha={CONSTRUCTOR:Pee,REJECTION_EVENT:YE,SUBCLASSING:Kh},hi={},B1=kr,Cee=TypeError,Aee=function(e){var t,r;this.promise=new e(function(n,i){if(t!==void 0||r!==void 0)throw new Cee("Bad Promise constructor");t=n,r=i}),this.resolve=B1(t),this.reject=B1(r)};hi.f=function(e){return new Aee(e)};var Ree=Ct,Vs=ac,Cr=Le,ni=_t,W1=Dr,H1=hp,Iee=Wa,jee=SZ,Mee=kr,ns=Te,kee=Je,Dee=dp,Fee=MZ,VE=UE.set,yp=vee,Lee=pee,Nee=pp,Uee=WE,GE=Na,Gs=sc,gp=Ha,zE=hi,uc="Promise",qE=gp.CONSTRUCTOR,Bee=gp.REJECTION_EVENT,Wee=gp.SUBCLASSING,ol=GE.getterFor(uc),Hee=GE.set,Mn=Gs&&Gs.prototype,Gr=Gs,Ao=Mn,KE=Cr.TypeError,Xh=Cr.document,mp=Cr.process,Jh=zE.f,Yee=Jh,Vee=!!(Xh&&Xh.createEvent&&Cr.dispatchEvent),XE="unhandledrejection",Gee="rejectionhandled",Y1=0,JE=1,zee=2,bp=1,QE=2,Ro,V1,qee,G1,ZE=function(e){var t;return kee(e)&&ns(t=e.then)?t:!1},eT=function(e,t){var r=t.value,n=t.state===JE,i=n?e.ok:e.fail,a=e.resolve,o=e.reject,u=e.domain,c,s,f;try{i?(n||(t.rejection===QE&&Xee(t),t.rejection=bp),i===!0?c=r:(u&&u.enter(),c=i(r),u&&(u.exit(),f=!0)),c===e.promise?o(new KE("Promise-chain cycle")):(s=ZE(c))?ni(s,c,a,o):a(c)):o(r)}catch(l){u&&!f&&u.exit(),o(l)}},tT=function(e,t){e.notified||(e.notified=!0,yp(function(){for(var r=e.reactions,n;n=r.get();)eT(n,e);e.notified=!1,t&&!e.rejection&&Kee(e)}))},rT=function(e,t,r){var n,i;Vee?(n=Xh.createEvent("Event"),n.promise=t,n.reason=r,n.initEvent(e,!1,!0),Cr.dispatchEvent(n)):n={promise:t,reason:r},!Bee&&(i=Cr["on"+e])?i(n):e===XE&&Lee("Unhandled promise rejection",r)},Kee=function(e){ni(VE,Cr,function(){var t=e.facade,r=e.value,n=z1(e),i;if(n&&(i=Nee(function(){Vs?mp.emit("unhandledRejection",r,t):rT(XE,t,r)}),e.rejection=Vs||z1(e)?QE:bp,i.error))throw i.value})},z1=function(e){return e.rejection!==bp&&!e.parent},Xee=function(e){ni(VE,Cr,function(){var t=e.facade;Vs?mp.emit("rejectionHandled",t):rT(Gee,t,e.value)})},Nn=function(e,t,r){return function(n){e(t,n,r)}},Vn=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=zee,tT(e,!0))},Qh=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new KE("Promise can't be resolved itself");var n=ZE(t);n?yp(function(){var i={done:!1};try{ni(n,t,Nn(Qh,i,e),Nn(Vn,i,e))}catch(a){Vn(i,a,e)}}):(e.value=t,e.state=JE,tT(e,!1))}catch(i){Vn({done:!1},i,e)}}};if(qE&&(Gr=function(t){Dee(this,Ao),Mee(t),ni(Ro,this);var r=ol(this);try{t(Nn(Qh,r),Nn(Vn,r))}catch(n){Vn(r,n)}},Ao=Gr.prototype,Ro=function(t){Hee(this,{type:uc,done:!1,notified:!1,parent:!1,reactions:new Uee,rejection:!1,state:Y1,value:void 0})},Ro.prototype=W1(Ao,"then",function(t,r){var n=ol(this),i=Jh(Fee(this,Gr));return n.parent=!0,i.ok=ns(t)?t:!0,i.fail=ns(r)&&r,i.domain=Vs?mp.domain:void 0,n.state===Y1?n.reactions.add(i):yp(function(){eT(i,n)}),i.promise}),V1=function(){var e=new Ro,t=ol(e);this.promise=e,this.resolve=Nn(Qh,t),this.reject=Nn(Vn,t)},zE.f=Jh=function(e){return e===Gr||e===qee?new V1(e):Yee(e)},ns(Gs)&&Mn!==Object.prototype)){G1=Mn.then,Wee||W1(Mn,"then",function(t,r){var n=this;return new Gr(function(i,a){ni(G1,n,i,a)}).then(t,r)},{unsafe:!0});try{delete Mn.constructor}catch{}H1&&H1(Mn,Ao)}Ree({global:!0,constructor:!0,wrap:!0,forced:qE},{Promise:Gr});Iee(Gr,uc,!1);jee(uc);var Ya={},Jee=We,Qee=Ya,Zee=Jee("iterator"),ete=Array.prototype,tte=function(e){return e!==void 0&&(Qee.Array===e||ete[Zee]===e)},rte=ic,q1=Xv,nte=fi,ite=Ya,ate=We,ote=ate("iterator"),nT=function(e){if(!nte(e))return q1(e,ote)||q1(e,"@@iterator")||ite[rte(e)]},ste=_t,ute=kr,cte=Pt,fte=Zu,lte=nT,hte=TypeError,dte=function(e,t){var r=arguments.length<2?lte(e):t;if(ute(r))return cte(ste(r,e));throw new hte(fte(e)+" is not iterable")},vte=_t,K1=Pt,pte=Xv,yte=function(e,t,r){var n,i;K1(e);try{if(n=pte(e,"return"),!n){if(t==="throw")throw r;return r}n=vte(n,e)}catch(a){i=!0,n=a}if(t==="throw")throw r;if(i)throw n;return K1(n),r},gte=oc,mte=_t,bte=Pt,_te=Zu,$te=tte,wte=Ua,X1=Kv,Ste=dte,Ote=nT,J1=yte,Ete=TypeError,is=function(e,t){this.stopped=e,this.result=t},Q1=is.prototype,cc=function(e,t,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),a=!!(r&&r.IS_RECORD),o=!!(r&&r.IS_ITERATOR),u=!!(r&&r.INTERRUPTED),c=gte(t,n),s,f,l,h,d,p,v,b=function(m){return s&&J1(s,"normal",m),new is(!0,m)},y=function(m){return i?(bte(m),u?c(m[0],m[1],b):c(m[0],m[1])):u?c(m,b):c(m)};if(a)s=e.iterator;else if(o)s=e;else{if(f=Ote(e),!f)throw new Ete(_te(e)+" is not iterable");if($te(f)){for(l=0,h=wte(e);h>l;l++)if(d=y(e[l]),d&&X1(Q1,d))return d;return new is(!1)}s=Ste(e,f)}for(p=a?e.next:s.next;!(v=mte(p,s)).done;){try{d=y(v.value)}catch(m){J1(s,"throw",m)}if(typeof d=="object"&&d&&X1(Q1,d))return d}return new is(!1)},Tte=We,iT=Tte("iterator"),aT=!1;try{var xte=0,Z1={next:function(){return{done:!!xte++}},return:function(){aT=!0}};Z1[iT]=function(){return this},Array.from(Z1,function(){throw 2})}catch{}var oT=function(e,t){try{if(!t&&!aT)return!1}catch{return!1}var r=!1;try{var n={};n[iT]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch{}return r},Pte=sc,Cte=oT,Ate=Ha.CONSTRUCTOR,sT=Ate||!Cte(function(e){Pte.all(e).then(void 0,function(){})}),Rte=Ct,Ite=_t,jte=kr,Mte=hi,kte=pp,Dte=cc,Fte=sT;Rte({target:"Promise",stat:!0,forced:Fte},{all:function(t){var r=this,n=Mte.f(r),i=n.resolve,a=n.reject,o=kte(function(){var u=jte(r.resolve),c=[],s=0,f=1;Dte(t,function(l){var h=s++,d=!1;f++,Ite(u,r,l).then(function(p){d||(d=!0,c[h]=p,--f||i(c))},a)}),--f||i(c)});return o.error&&a(o.value),n.promise}});var Lte=Ct,Nte=Ha.CONSTRUCTOR,Zh=sc,Ute=$n,Bte=Te,Wte=Dr,eb=Zh&&Zh.prototype;Lte({target:"Promise",proto:!0,forced:Nte,real:!0},{catch:function(e){return this.then(void 0,e)}});if(Bte(Zh)){var tb=Ute("Promise").prototype.catch;eb.catch!==tb&&Wte(eb,"catch",tb,{unsafe:!0})}var Hte=Ct,Yte=_t,Vte=kr,Gte=hi,zte=pp,qte=cc,Kte=sT;Hte({target:"Promise",stat:!0,forced:Kte},{race:function(t){var r=this,n=Gte.f(r),i=n.reject,a=zte(function(){var o=Vte(r.resolve);qte(t,function(u){Yte(o,r,u).then(n.resolve,i)})});return a.error&&i(a.value),n.promise}});var Xte=Ct,Jte=_t,Qte=hi,Zte=Ha.CONSTRUCTOR;Xte({target:"Promise",stat:!0,forced:Zte},{reject:function(t){var r=Qte.f(this);return Jte(r.reject,void 0,t),r.promise}});var ere=Pt,tre=Je,rre=hi,nre=function(e,t){if(ere(e),tre(t)&&t.constructor===e)return t;var r=rre.f(e),n=r.resolve;return n(t),r.promise},ire=Ct,are=$n,ore=Ha.CONSTRUCTOR,sre=nre;are("Promise");ire({target:"Promise",stat:!0,forced:ore},{resolve:function(t){return sre(this,t)}});var uT={},ure=bt,cre=dE,fre=xt,lre=Pt,hre=li,dre=kE;uT.f=ure&&!cre?Object.defineProperties:function(t,r){lre(t);for(var n=hre(r),i=dre(r),a=i.length,o=0,u;a>o;)fre.f(t,u=i[o++],n[u]);return t};var vre=Pt,pre=uT,rb=sp,yre=rc,gre=FE,mre=ec,bre=ip,nb=">",ib="<",ed="prototype",td="script",cT=bre("IE_PROTO"),sl=function(){},fT=function(e){return ib+td+nb+e+ib+"/"+td+nb},ab=function(e){e.write(fT("")),e.close();var t=e.parentWindow.Object;return e=null,t},_re=function(){var e=mre("iframe"),t="java"+td+":",r;return e.style.display="none",gre.appendChild(e),e.src=String(t),r=e.contentWindow.document,r.open(),r.write(fT("document.F=Object")),r.close(),r.F},Io,as=function(){try{Io=new ActiveXObject("htmlfile")}catch{}as=typeof document<"u"?document.domain&&Io?ab(Io):_re():ab(Io);for(var e=rb.length;e--;)delete as[ed][rb[e]];return as()};yre[cT]=!0;var lT=Object.create||function(t,r){var n;return t!==null?(sl[ed]=vre(t),n=new sl,sl[ed]=null,n[cT]=t):n=as(),r===void 0?n:pre.f(n,r)},$re=We,wre=lT,Sre=xt.f,rd=$re("unscopables"),nd=Array.prototype;nd[rd]===void 0&&Sre(nd,rd,{configurable:!0,value:wre(null)});var Ore=function(e){nd[rd][e]=!0},Ere=Ie,Tre=!Ere(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),xre=$t,Pre=Te,Cre=La,Are=ip,Rre=Tre,ob=Are("IE_PROTO"),id=Object,Ire=id.prototype,hT=Rre?id.getPrototypeOf:function(e){var t=Cre(e);if(xre(t,ob))return t[ob];var r=t.constructor;return Pre(r)&&t instanceof r?r.prototype:t instanceof id?Ire:null},jre=Ie,Mre=Te,kre=Je,sb=hT,Dre=Dr,Fre=We,ad=Fre("iterator"),dT=!1,fn,ul,cl;[].keys&&(cl=[].keys(),"next"in cl?(ul=sb(sb(cl)),ul!==Object.prototype&&(fn=ul)):dT=!0);var Lre=!kre(fn)||jre(function(){var e={};return fn[ad].call(e)!==e});Lre&&(fn={});Mre(fn[ad])||Dre(fn,ad,function(){return this});var vT={IteratorPrototype:fn,BUGGY_SAFARI_ITERATORS:dT},Nre=vT.IteratorPrototype,Ure=lT,Bre=Xu,Wre=Wa,Hre=Ya,Yre=function(){return this},Vre=function(e,t,r,n){var i=t+" Iterator";return e.prototype=Ure(Nre,{next:Bre(+!n,r)}),Wre(e,i,!1),Hre[i]=Yre,e},Gre=Ct,zre=_t,pT=rp,qre=Te,Kre=Vre,ub=hT,cb=hp,Xre=Wa,Jre=tc,fl=Dr,Qre=We,Zre=Ya,yT=vT,ene=pT.PROPER,tne=pT.CONFIGURABLE,fb=yT.IteratorPrototype,jo=yT.BUGGY_SAFARI_ITERATORS,Ai=Qre("iterator"),lb="keys",Ri="values",hb="entries",rne=function(){return this},gT=function(e,t,r,n,i,a,o){Kre(r,t,n);var u=function(y){if(y===i&&h)return h;if(!jo&&y&&y in f)return f[y];switch(y){case lb:return function(){return new r(this,y)};case Ri:return function(){return new r(this,y)};case hb:return function(){return new r(this,y)}}return function(){return new r(this)}},c=t+" Iterator",s=!1,f=e.prototype,l=f[Ai]||f["@@iterator"]||i&&f[i],h=!jo&&l||u(i),d=t==="Array"&&f.entries||l,p,v,b;if(d&&(p=ub(d.call(new e)),p!==Object.prototype&&p.next&&(ub(p)!==fb&&(cb?cb(p,fb):qre(p[Ai])||fl(p,Ai,rne)),Xre(p,c,!0))),ene&&i===Ri&&l&&l.name!==Ri&&(tne?Jre(f,"name",Ri):(s=!0,h=function(){return zre(l,this)})),i)if(v={values:u(Ri),keys:a?h:u(lb),entries:u(hb)},o)for(b in v)(jo||s||!(b in f))&&fl(f,b,v[b]);else Gre({target:t,proto:!0,forced:jo||s},v);return f[Ai]!==h&&fl(f,Ai,h,{name:i}),Zre[t]=h,v},mT=function(e,t){return{value:e,done:t}},nne=li,_p=Ore,db=Ya,bT=Na,ine=xt.f,ane=gT,Mo=mT,one=bt,_T="Array Iterator",sne=bT.set,une=bT.getterFor(_T),cne=ane(Array,"Array",function(e,t){sne(this,{type:_T,target:nne(e),index:0,kind:t})},function(){var e=une(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=void 0,Mo(void 0,!0);switch(e.kind){case"keys":return Mo(r,!1);case"values":return Mo(t[r],!1)}return Mo([r,t[r]],!1)},"values"),vb=db.Arguments=db.Array;_p("keys");_p("values");_p("entries");if(one&&vb.name!=="values")try{ine(vb,"name",{value:"values"})}catch{}var fne=ic,lne=String,$T=function(e){if(fne(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return lne(e)},$p=Ce,hne=op,dne=$T,vne=qv,pne=$p("".charAt),pb=$p("".charCodeAt),yne=$p("".slice),yb=function(e){return function(t,r){var n=dne(vne(t)),i=hne(r),a=n.length,o,u;return i<0||i>=a?e?"":void 0:(o=pb(n,i),o<55296||o>56319||i+1===a||(u=pb(n,i+1))<56320||u>57343?e?pne(n,i):o:e?yne(n,i,i+2):(o-55296<<10)+(u-56320)+65536)}},gne={codeAt:yb(!1),charAt:yb(!0)},mne=gne.charAt,bne=$T,wT=Na,_ne=gT,gb=mT,ST="String Iterator",$ne=wT.set,wne=wT.getterFor(ST);_ne(String,"String",function(e){$ne(this,{type:ST,string:bne(e),index:0})},function(){var t=wne(this),r=t.string,n=t.index,i;return n>=r.length?gb(void 0,!0):(i=mne(r,n),t.index+=i.length,gb(i,!1))});var OT={exports:{}},ET={},mb=bE,Sne=Ua,One=wE,Ene=Array,Tne=Math.max,xne=function(e,t,r){for(var n=Sne(e),i=mb(t,n),a=mb(r===void 0?n:r,n),o=Ene(Tne(a-i,0)),u=0;i<a;i++,u++)One(o,u,e[i]);return o.length=u,o},Pne=_n,Cne=li,TT=nc.f,Ane=xne,xT=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Rne=function(e){try{return TT(e)}catch{return Ane(xT)}};ET.f=function(t){return xT&&Pne(t)==="Window"?Rne(t):TT(Cne(t))};var Ine=Ie,jne=Ine(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Mne=Ie,kne=Je,Dne=_n,bb=jne,os=Object.isExtensible,Fne=Mne(function(){os(1)}),Lne=Fne||bb?function(t){return!kne(t)||bb&&Dne(t)==="ArrayBuffer"?!1:os?os(t):!0}:os,Nne=Ie,Une=!Nne(function(){return Object.isExtensible(Object.preventExtensions({}))}),Bne=Ct,Wne=Ce,Hne=rc,Yne=Je,wp=$t,Vne=xt.f,_b=nc,Gne=ET,Sp=Lne,zne=Zv,qne=Une,PT=!1,hr=zne("meta"),Kne=0,Op=function(e){Vne(e,hr,{value:{objectID:"O"+Kne++,weakData:{}}})},Xne=function(e,t){if(!Yne(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!wp(e,hr)){if(!Sp(e))return"F";if(!t)return"E";Op(e)}return e[hr].objectID},Jne=function(e,t){if(!wp(e,hr)){if(!Sp(e))return!0;if(!t)return!1;Op(e)}return e[hr].weakData},Qne=function(e){return qne&&PT&&Sp(e)&&!wp(e,hr)&&Op(e),e},Zne=function(){eie.enable=function(){},PT=!0;var e=_b.f,t=Wne([].splice),r={};r[hr]=1,e(r).length&&(_b.f=function(n){for(var i=e(n),a=0,o=i.length;a<o;a++)if(i[a]===hr){t(i,a,1);break}return i},Bne({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Gne.f}))},eie=OT.exports={enable:Zne,fastKey:Xne,getWeakData:Jne,onFreeze:Qne};Hne[hr]=!0;var CT=OT.exports,tie=Te,rie=Je,$b=hp,nie=function(e,t,r){var n,i;return $b&&tie(n=t.constructor)&&n!==r&&rie(i=n.prototype)&&i!==r.prototype&&$b(e,i),e},iie=Ct,aie=Le,oie=Ce,wb=cp,sie=Dr,uie=CT,cie=cc,fie=dp,lie=Te,hie=fi,ll=Je,hl=Ie,die=oT,vie=Wa,pie=nie,yie=function(e,t,r){var n=e.indexOf("Map")!==-1,i=e.indexOf("Weak")!==-1,a=n?"set":"add",o=aie[e],u=o&&o.prototype,c=o,s={},f=function(y){var m=oie(u[y]);sie(u,y,y==="add"?function(T){return m(this,T===0?0:T),this}:y==="delete"?function($){return i&&!ll($)?!1:m(this,$===0?0:$)}:y==="get"?function(T){return i&&!ll(T)?void 0:m(this,T===0?0:T)}:y==="has"?function(T){return i&&!ll(T)?!1:m(this,T===0?0:T)}:function(T,I){return m(this,T===0?0:T,I),this})},l=wb(e,!lie(o)||!(i||u.forEach&&!hl(function(){new o().entries().next()})));if(l)c=r.getConstructor(t,e,n,a),uie.enable();else if(wb(e,!0)){var h=new c,d=h[a](i?{}:-0,1)!==h,p=hl(function(){h.has(1)}),v=die(function(y){new o(y)}),b=!i&&hl(function(){for(var y=new o,m=5;m--;)y[a](m,m);return!y.has(-0)});v||(c=t(function(y,m){fie(y,u);var $=pie(new o,y,c);return hie(m)||cie(m,$[a],{that:$,AS_ENTRIES:n}),$}),c.prototype=u,u.constructor=c),(p||b)&&(f("delete"),f("has"),n&&f("get")),(b||d)&&f(a),i&&u.clear&&delete u.clear}return s[e]=c,iie({global:!0,constructor:!0,forced:c!==o},s),vie(c,e),i||r.setStrong(c,e,n),c},gie=Dr,mie=function(e,t,r){for(var n in t)gie(e,n,t[n],r);return e},bie=oc,_ie=Ce,$ie=zv,wie=La,Sie=Ua,Oie=CE,Sb=_ie([].push),_r=function(e){var t=e===1,r=e===2,n=e===3,i=e===4,a=e===6,o=e===7,u=e===5||a;return function(c,s,f,l){for(var h=wie(c),d=$ie(h),p=Sie(d),v=bie(s,f),b=0,y=l||Oie,m=t?y(c,p):r||o?y(c,0):void 0,$,T;p>b;b++)if((u||b in d)&&($=d[b],T=v($,b,h),e))if(t)m[b]=T;else if(T)switch(e){case 3:return!0;case 5:return $;case 6:return b;case 2:Sb(m,$)}else switch(e){case 4:return!1;case 7:Sb(m,$)}return a?-1:n||i?i:m}},Eie={forEach:_r(0),map:_r(1),filter:_r(2),some:_r(3),every:_r(4),find:_r(5),findIndex:_r(6),filterReject:_r(7)},Tie=Ce,Ob=mie,ko=CT.getWeakData,xie=dp,Pie=Pt,Cie=fi,dl=Je,Aie=cc,AT=Eie,Eb=$t,RT=Na,Rie=RT.set,Iie=RT.getterFor,jie=AT.find,Mie=AT.findIndex,kie=Tie([].splice),Die=0,Do=function(e){return e.frozen||(e.frozen=new IT)},IT=function(){this.entries=[]},vl=function(e,t){return jie(e.entries,function(r){return r[0]===t})};IT.prototype={get:function(e){var t=vl(this,e);if(t)return t[1]},has:function(e){return!!vl(this,e)},set:function(e,t){var r=vl(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=Mie(this.entries,function(r){return r[0]===e});return~t&&kie(this.entries,t,1),!!~t}};var Fie={getConstructor:function(e,t,r,n){var i=e(function(c,s){xie(c,a),Rie(c,{type:t,id:Die++,frozen:void 0}),Cie(s)||Aie(s,c[n],{that:c,AS_ENTRIES:r})}),a=i.prototype,o=Iie(t),u=function(c,s,f){var l=o(c),h=ko(Pie(s),!0);return h===!0?Do(l).set(s,f):h[l.id]=f,c};return Ob(a,{delete:function(c){var s=o(this);if(!dl(c))return!1;var f=ko(c);return f===!0?Do(s).delete(c):f&&Eb(f,s.id)&&delete f[s.id]},has:function(s){var f=o(this);if(!dl(s))return!1;var l=ko(s);return l===!0?Do(f).has(s):l&&Eb(l,f.id)}}),Ob(a,r?{get:function(s){var f=o(this);if(dl(s)){var l=ko(s);return l===!0?Do(f).get(s):l?l[f.id]:void 0}},set:function(s,f){return u(this,s,f)}}:{add:function(s){return u(this,s,!0)}}),i}},Lie=yie,Nie=Fie;Lie("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},Nie);var Uie={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Bie=ec,pl=Bie("span").classList,Tb=pl&&pl.constructor&&pl.constructor.prototype,Wie=Tb===Object.prototype?void 0:Tb,xb=Le,jT=Uie,Hie=Wie,Ni=cne,Pb=tc,Yie=Wa,Vie=We,yl=Vie("iterator"),gl=Ni.values,MT=function(e,t){if(e){if(e[yl]!==gl)try{Pb(e,yl,gl)}catch{e[yl]=gl}if(Yie(e,t,!0),jT[t]){for(var r in Ni)if(e[r]!==Ni[r])try{Pb(e,r,Ni[r])}catch{e[r]=Ni[r]}}}};for(var ml in jT)MT(xb[ml]&&xb[ml].prototype,ml);MT(Hie,"DOMTokenList");function Cb(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}var ss,kT,DT,Ui="#ch-tooltip",Ab={enabled:!0,text:function(t,r,n){return"".concat(r," - ").concat(n.format("LLLL"))}},Gie={placement:"top",modifiers:[{name:"offset",options:{offset:[0,8]}}]},FT={getBoundingClientRect:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return{width:0,height:0,top:r,right:t,bottom:r,left:t,x:t,y:r,toJSON:function(){}}}},zie=function(){function e(t){mq(this,e),ss.add(this),this.name="Tooltip",this.calendar=t,this.root=null,this.popperInstance=null,this.options=Ab,this.listenerAttached=!1}return _q(e,[{key:"setup",value:function(r){this.options=Object.assign(Object.assign({},Ab),r);var n=this.calendar.eventEmitter;if(!this.options.enabled){this.listenerAttached&&(n.off("mouseover",this.mouseOverCallback,this),n.off("mouseout",this.mouseOutCallback,this),this.listenerAttached=!1),this.destroy();return}if(this.popperOptions=Object.assign(Object.assign({},Gie),this.options),this.root=document.getElementById(Ui.slice(1)),!this.root){var i=document.createElement("div");i.setAttribute("id",Ui.slice(1)),i.setAttribute("role","tooltip"),i.innerHTML='<div id="'.concat(Ui.slice(1),'-arrow" data-popper-arrow="true"></div>')+'<span id="'.concat(Ui.slice(1),'-body"></span>'),this.root=document.body.appendChild(i)}this.root.setAttribute("data-theme",this.calendar.options.options.theme),this.popperInstance=gq(FT,this.root,this.popperOptions),this.listenerAttached||(n.on("mouseover",this.mouseOverCallback,this),n.on("mouseout",this.mouseOutCallback,this),this.listenerAttached=!0)}},{key:"mouseOverCallback",value:function(r,n,i){Cb(this,ss,"m",kT).call(this,r.target,n,i)}},{key:"mouseOutCallback",value:function(){Cb(this,ss,"m",DT).call(this)}},{key:"paint",value:function(){return Promise.resolve()}},{key:"destroy",value:function(){return this.root&&this.root.remove(),Promise.resolve()}}]),e}();ss=new WeakSet,kT=function(t,r,n){var i=this,a=this.options.text,o=a?a(r,n,this.calendar.dateHelper.date(r)):null;o&&(FT.getBoundingClientRect=function(){return t.getBoundingClientRect()},document.getElementById("".concat(Ui.slice(1),"-body")).innerHTML=o,this.popperInstance.setOptions(function(){return Object.assign(Object.assign({},i.popperOptions),{modifiers:[].concat(V0(i.popperOptions.modifiers),[{name:"eventListeners",enabled:!0}])})}),this.popperInstance.update(),this.root.setAttribute("data-show","1"))},DT=function(){var t=this;this.root.removeAttribute("data-show"),this.popperInstance.setOptions(function(){return Object.assign(Object.assign({},t.popperOptions),{modifiers:[].concat(V0(t.popperOptions.modifiers),[{name:"eventListeners",enabled:!1}])})})};function qie(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Kie(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Xie=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(n,i,a){r.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:a})},r.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,i){if(1&i&&(n=r(n)),8&i||4&i&&typeof n=="object"&&n&&n.__esModule)return n;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:n}),2&i&&typeof n!="string")for(var o in n)r.d(a,o,(function(u){return n[u]}).bind(null,o));return a},r.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(i,"a",i),i},r.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},r.p="",r(r.s=32)}([function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(r=window)}e.exports=r},function(e,t,r){var n=r(6),i=Object.keys||function(p){var v=[];for(var b in p)v.push(b);return v};e.exports=l;var a=r(5);a.inherits=r(2);var o=r(23),u=r(14);a.inherits(l,o);for(var c=i(u.prototype),s=0;s<c.length;s++){var f=c[s];l.prototype[f]||(l.prototype[f]=u.prototype[f])}function l(p){if(!(this instanceof l))return new l(p);o.call(this,p),u.call(this,p),p&&p.readable===!1&&(this.readable=!1),p&&p.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,p&&p.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||n.nextTick(d,this)}function d(p){p.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),l.prototype._destroy=function(p,v){this.push(null),this.end(),n.nextTick(v,p)}},function(e,t){typeof Object.create=="function"?e.exports=function(r,n){r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(r,n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}},function(e,t,r){(function(n){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var i=r(38),a=r(39),o=r(40);function u(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(g,_){if(u()<_)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(g=new Uint8Array(_)).__proto__=s.prototype:(g===null&&(g=new s(_)),g.length=_),g}function s(g,_,E){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(g,_,E);if(typeof g=="number"){if(typeof _=="string")throw new Error("If encoding is specified then the first argument must be a string");return h(this,g)}return f(this,g,_,E)}function f(g,_,E,N){if(typeof _=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&_ instanceof ArrayBuffer?function(R,q,J,Z){if(q.byteLength,J<0||q.byteLength<J)throw new RangeError("'offset' is out of bounds");if(q.byteLength<J+(Z||0))throw new RangeError("'length' is out of bounds");return q=J===void 0&&Z===void 0?new Uint8Array(q):Z===void 0?new Uint8Array(q,J):new Uint8Array(q,J,Z),s.TYPED_ARRAY_SUPPORT?(R=q).__proto__=s.prototype:R=d(R,q),R}(g,_,E,N):typeof _=="string"?function(R,q,J){if(typeof J=="string"&&J!==""||(J="utf8"),!s.isEncoding(J))throw new TypeError('"encoding" must be a valid string encoding');var Z=0|v(q,J),re=(R=c(R,Z)).write(q,J);return re!==Z&&(R=R.slice(0,re)),R}(g,_,E):function(R,q){if(s.isBuffer(q)){var J=0|p(q.length);return(R=c(R,J)).length===0||q.copy(R,0,0,J),R}if(q){if(typeof ArrayBuffer<"u"&&q.buffer instanceof ArrayBuffer||"length"in q)return typeof q.length!="number"||function(Z){return Z!=Z}(q.length)?c(R,0):d(R,q);if(q.type==="Buffer"&&o(q.data))return d(R,q.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(g,_)}function l(g){if(typeof g!="number")throw new TypeError('"size" argument must be a number');if(g<0)throw new RangeError('"size" argument must not be negative')}function h(g,_){if(l(_),g=c(g,_<0?0:0|p(_)),!s.TYPED_ARRAY_SUPPORT)for(var E=0;E<_;++E)g[E]=0;return g}function d(g,_){var E=_.length<0?0:0|p(_.length);g=c(g,E);for(var N=0;N<E;N+=1)g[N]=255&_[N];return g}function p(g){if(g>=u())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u().toString(16)+" bytes");return 0|g}function v(g,_){if(s.isBuffer(g))return g.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(g)||g instanceof ArrayBuffer))return g.byteLength;typeof g!="string"&&(g=""+g);var E=g.length;if(E===0)return 0;for(var N=!1;;)switch(_){case"ascii":case"latin1":case"binary":return E;case"utf8":case"utf-8":case void 0:return H(g).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*E;case"hex":return E>>>1;case"base64":return Y(g).length;default:if(N)return H(g).length;_=(""+_).toLowerCase(),N=!0}}function b(g,_,E){var N=g[_];g[_]=g[E],g[E]=N}function y(g,_,E,N,R){if(g.length===0)return-1;if(typeof E=="string"?(N=E,E=0):E>2147483647?E=2147483647:E<-2147483648&&(E=-2147483648),E=+E,isNaN(E)&&(E=R?0:g.length-1),E<0&&(E=g.length+E),E>=g.length){if(R)return-1;E=g.length-1}else if(E<0){if(!R)return-1;E=0}if(typeof _=="string"&&(_=s.from(_,N)),s.isBuffer(_))return _.length===0?-1:m(g,_,E,N,R);if(typeof _=="number")return _&=255,s.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?R?Uint8Array.prototype.indexOf.call(g,_,E):Uint8Array.prototype.lastIndexOf.call(g,_,E):m(g,[_],E,N,R);throw new TypeError("val must be string, number or Buffer")}function m(g,_,E,N,R){var q,J=1,Z=g.length,re=_.length;if(N!==void 0&&((N=String(N).toLowerCase())==="ucs2"||N==="ucs-2"||N==="utf16le"||N==="utf-16le")){if(g.length<2||_.length<2)return-1;J=2,Z/=2,re/=2,E/=2}function ce(nt,de){return J===1?nt[de]:nt.readUInt16BE(de*J)}if(R){var ae=-1;for(q=E;q<Z;q++)if(ce(g,q)===ce(_,ae===-1?0:q-ae)){if(ae===-1&&(ae=q),q-ae+1===re)return ae*J}else ae!==-1&&(q-=q-ae),ae=-1}else for(E+re>Z&&(E=Z-re),q=E;q>=0;q--){for(var ve=!0,$e=0;$e<re;$e++)if(ce(g,q+$e)!==ce(_,$e)){ve=!1;break}if(ve)return q}return-1}function $(g,_,E,N){E=Number(E)||0;var R=g.length-E;N?(N=Number(N))>R&&(N=R):N=R;var q=_.length;if(q%2!=0)throw new TypeError("Invalid hex string");N>q/2&&(N=q/2);for(var J=0;J<N;++J){var Z=parseInt(_.substr(2*J,2),16);if(isNaN(Z))return J;g[E+J]=Z}return J}function T(g,_,E,N){return K(H(_,g.length-E),g,E,N)}function I(g,_,E,N){return K(function(R){for(var q=[],J=0;J<R.length;++J)q.push(255&R.charCodeAt(J));return q}(_),g,E,N)}function C(g,_,E,N){return I(g,_,E,N)}function U(g,_,E,N){return K(Y(_),g,E,N)}function G(g,_,E,N){return K(function(R,q){for(var J,Z,re,ce=[],ae=0;ae<R.length&&!((q-=2)<0);++ae)Z=(J=R.charCodeAt(ae))>>8,re=J%256,ce.push(re),ce.push(Z);return ce}(_,g.length-E),g,E,N)}function z(g,_,E){return _===0&&E===g.length?i.fromByteArray(g):i.fromByteArray(g.slice(_,E))}function F(g,_,E){E=Math.min(g.length,E);for(var N=[],R=_;R<E;){var q,J,Z,re,ce=g[R],ae=null,ve=ce>239?4:ce>223?3:ce>191?2:1;if(R+ve<=E)switch(ve){case 1:ce<128&&(ae=ce);break;case 2:(192&(q=g[R+1]))==128&&(re=(31&ce)<<6|63&q)>127&&(ae=re);break;case 3:q=g[R+1],J=g[R+2],(192&q)==128&&(192&J)==128&&(re=(15&ce)<<12|(63&q)<<6|63&J)>2047&&(re<55296||re>57343)&&(ae=re);break;case 4:q=g[R+1],J=g[R+2],Z=g[R+3],(192&q)==128&&(192&J)==128&&(192&Z)==128&&(re=(15&ce)<<18|(63&q)<<12|(63&J)<<6|63&Z)>65535&&re<1114112&&(ae=re)}ae===null?(ae=65533,ve=1):ae>65535&&(ae-=65536,N.push(ae>>>10&1023|55296),ae=56320|1023&ae),N.push(ae),R+=ve}return function($e){var nt=$e.length;if(nt<=j)return String.fromCharCode.apply(String,$e);for(var de="",X=0;X<nt;)de+=String.fromCharCode.apply(String,$e.slice(X,X+=j));return de}(N)}t.Buffer=s,t.SlowBuffer=function(g){return+g!=g&&(g=0),s.alloc(+g)},t.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=n.TYPED_ARRAY_SUPPORT!==void 0?n.TYPED_ARRAY_SUPPORT:function(){try{var g=new Uint8Array(1);return g.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},g.foo()===42&&typeof g.subarray=="function"&&g.subarray(1,1).byteLength===0}catch{return!1}}(),t.kMaxLength=u(),s.poolSize=8192,s._augment=function(g){return g.__proto__=s.prototype,g},s.from=function(g,_,E){return f(null,g,_,E)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(g,_,E){return function(N,R,q,J){return l(R),R<=0?c(N,R):q!==void 0?typeof J=="string"?c(N,R).fill(q,J):c(N,R).fill(q):c(N,R)}(null,g,_,E)},s.allocUnsafe=function(g){return h(null,g)},s.allocUnsafeSlow=function(g){return h(null,g)},s.isBuffer=function(g){return!(g==null||!g._isBuffer)},s.compare=function(g,_){if(!s.isBuffer(g)||!s.isBuffer(_))throw new TypeError("Arguments must be Buffers");if(g===_)return 0;for(var E=g.length,N=_.length,R=0,q=Math.min(E,N);R<q;++R)if(g[R]!==_[R]){E=g[R],N=_[R];break}return E<N?-1:N<E?1:0},s.isEncoding=function(g){switch(String(g).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(g,_){if(!o(g))throw new TypeError('"list" argument must be an Array of Buffers');if(g.length===0)return s.alloc(0);var E;if(_===void 0)for(_=0,E=0;E<g.length;++E)_+=g[E].length;var N=s.allocUnsafe(_),R=0;for(E=0;E<g.length;++E){var q=g[E];if(!s.isBuffer(q))throw new TypeError('"list" argument must be an Array of Buffers');q.copy(N,R),R+=q.length}return N},s.byteLength=v,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var g=this.length;if(g%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var _=0;_<g;_+=2)b(this,_,_+1);return this},s.prototype.swap32=function(){var g=this.length;if(g%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var _=0;_<g;_+=4)b(this,_,_+3),b(this,_+1,_+2);return this},s.prototype.swap64=function(){var g=this.length;if(g%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var _=0;_<g;_+=8)b(this,_,_+7),b(this,_+1,_+6),b(this,_+2,_+5),b(this,_+3,_+4);return this},s.prototype.toString=function(){var g=0|this.length;return g===0?"":arguments.length===0?F(this,0,g):(function(_,E,N){var R=!1;if((E===void 0||E<0)&&(E=0),E>this.length||((N===void 0||N>this.length)&&(N=this.length),N<=0)||(N>>>=0)<=(E>>>=0))return"";for(_||(_="utf8");;)switch(_){case"hex":return A(this,E,N);case"utf8":case"utf-8":return F(this,E,N);case"ascii":return k(this,E,N);case"latin1":case"binary":return B(this,E,N);case"base64":return z(this,E,N);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,E,N);default:if(R)throw new TypeError("Unknown encoding: "+_);_=(_+"").toLowerCase(),R=!0}}).apply(this,arguments)},s.prototype.equals=function(g){if(!s.isBuffer(g))throw new TypeError("Argument must be a Buffer");return this===g||s.compare(this,g)===0},s.prototype.inspect=function(){var g="",_=t.INSPECT_MAX_BYTES;return this.length>0&&(g=this.toString("hex",0,_).match(/.{2}/g).join(" "),this.length>_&&(g+=" ... ")),"<Buffer "+g+">"},s.prototype.compare=function(g,_,E,N,R){if(!s.isBuffer(g))throw new TypeError("Argument must be a Buffer");if(_===void 0&&(_=0),E===void 0&&(E=g?g.length:0),N===void 0&&(N=0),R===void 0&&(R=this.length),_<0||E>g.length||N<0||R>this.length)throw new RangeError("out of range index");if(N>=R&&_>=E)return 0;if(N>=R)return-1;if(_>=E)return 1;if(_>>>=0,E>>>=0,N>>>=0,R>>>=0,this===g)return 0;for(var q=R-N,J=E-_,Z=Math.min(q,J),re=this.slice(N,R),ce=g.slice(_,E),ae=0;ae<Z;++ae)if(re[ae]!==ce[ae]){q=re[ae],J=ce[ae];break}return q<J?-1:J<q?1:0},s.prototype.includes=function(g,_,E){return this.indexOf(g,_,E)!==-1},s.prototype.indexOf=function(g,_,E){return y(this,g,_,E,!0)},s.prototype.lastIndexOf=function(g,_,E){return y(this,g,_,E,!1)},s.prototype.write=function(g,_,E,N){if(_===void 0)N="utf8",E=this.length,_=0;else if(E===void 0&&typeof _=="string")N=_,E=this.length,_=0;else{if(!isFinite(_))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");_|=0,isFinite(E)?(E|=0,N===void 0&&(N="utf8")):(N=E,E=void 0)}var R=this.length-_;if((E===void 0||E>R)&&(E=R),g.length>0&&(E<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");N||(N="utf8");for(var q=!1;;)switch(N){case"hex":return $(this,g,_,E);case"utf8":case"utf-8":return T(this,g,_,E);case"ascii":return I(this,g,_,E);case"latin1":case"binary":return C(this,g,_,E);case"base64":return U(this,g,_,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,g,_,E);default:if(q)throw new TypeError("Unknown encoding: "+N);N=(""+N).toLowerCase(),q=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var j=4096;function k(g,_,E){var N="";E=Math.min(g.length,E);for(var R=_;R<E;++R)N+=String.fromCharCode(127&g[R]);return N}function B(g,_,E){var N="";E=Math.min(g.length,E);for(var R=_;R<E;++R)N+=String.fromCharCode(g[R]);return N}function A(g,_,E){var N=g.length;(!_||_<0)&&(_=0),(!E||E<0||E>N)&&(E=N);for(var R="",q=_;q<E;++q)R+=D(g[q]);return R}function L(g,_,E){for(var N=g.slice(_,E),R="",q=0;q<N.length;q+=2)R+=String.fromCharCode(N[q]+256*N[q+1]);return R}function W(g,_,E){if(g%1!=0||g<0)throw new RangeError("offset is not uint");if(g+_>E)throw new RangeError("Trying to access beyond buffer length")}function V(g,_,E,N,R,q){if(!s.isBuffer(g))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>R||_<q)throw new RangeError('"value" argument is out of bounds');if(E+N>g.length)throw new RangeError("Index out of range")}function S(g,_,E,N){_<0&&(_=65535+_+1);for(var R=0,q=Math.min(g.length-E,2);R<q;++R)g[E+R]=(_&255<<8*(N?R:1-R))>>>8*(N?R:1-R)}function w(g,_,E,N){_<0&&(_=4294967295+_+1);for(var R=0,q=Math.min(g.length-E,4);R<q;++R)g[E+R]=_>>>8*(N?R:3-R)&255}function O(g,_,E,N,R,q){if(E+N>g.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("Index out of range")}function P(g,_,E,N,R){return R||O(g,0,E,4),a.write(g,_,E,N,23,4),E+4}function M(g,_,E,N,R){return R||O(g,0,E,8),a.write(g,_,E,N,52,8),E+8}s.prototype.slice=function(g,_){var E,N=this.length;if(g=~~g,_=_===void 0?N:~~_,g<0?(g+=N)<0&&(g=0):g>N&&(g=N),_<0?(_+=N)<0&&(_=0):_>N&&(_=N),_<g&&(_=g),s.TYPED_ARRAY_SUPPORT)(E=this.subarray(g,_)).__proto__=s.prototype;else{var R=_-g;E=new s(R,void 0);for(var q=0;q<R;++q)E[q]=this[q+g]}return E},s.prototype.readUIntLE=function(g,_,E){g|=0,_|=0,E||W(g,_,this.length);for(var N=this[g],R=1,q=0;++q<_&&(R*=256);)N+=this[g+q]*R;return N},s.prototype.readUIntBE=function(g,_,E){g|=0,_|=0,E||W(g,_,this.length);for(var N=this[g+--_],R=1;_>0&&(R*=256);)N+=this[g+--_]*R;return N},s.prototype.readUInt8=function(g,_){return _||W(g,1,this.length),this[g]},s.prototype.readUInt16LE=function(g,_){return _||W(g,2,this.length),this[g]|this[g+1]<<8},s.prototype.readUInt16BE=function(g,_){return _||W(g,2,this.length),this[g]<<8|this[g+1]},s.prototype.readUInt32LE=function(g,_){return _||W(g,4,this.length),(this[g]|this[g+1]<<8|this[g+2]<<16)+16777216*this[g+3]},s.prototype.readUInt32BE=function(g,_){return _||W(g,4,this.length),16777216*this[g]+(this[g+1]<<16|this[g+2]<<8|this[g+3])},s.prototype.readIntLE=function(g,_,E){g|=0,_|=0,E||W(g,_,this.length);for(var N=this[g],R=1,q=0;++q<_&&(R*=256);)N+=this[g+q]*R;return N>=(R*=128)&&(N-=Math.pow(2,8*_)),N},s.prototype.readIntBE=function(g,_,E){g|=0,_|=0,E||W(g,_,this.length);for(var N=_,R=1,q=this[g+--N];N>0&&(R*=256);)q+=this[g+--N]*R;return q>=(R*=128)&&(q-=Math.pow(2,8*_)),q},s.prototype.readInt8=function(g,_){return _||W(g,1,this.length),128&this[g]?-1*(255-this[g]+1):this[g]},s.prototype.readInt16LE=function(g,_){_||W(g,2,this.length);var E=this[g]|this[g+1]<<8;return 32768&E?4294901760|E:E},s.prototype.readInt16BE=function(g,_){_||W(g,2,this.length);var E=this[g+1]|this[g]<<8;return 32768&E?4294901760|E:E},s.prototype.readInt32LE=function(g,_){return _||W(g,4,this.length),this[g]|this[g+1]<<8|this[g+2]<<16|this[g+3]<<24},s.prototype.readInt32BE=function(g,_){return _||W(g,4,this.length),this[g]<<24|this[g+1]<<16|this[g+2]<<8|this[g+3]},s.prototype.readFloatLE=function(g,_){return _||W(g,4,this.length),a.read(this,g,!0,23,4)},s.prototype.readFloatBE=function(g,_){return _||W(g,4,this.length),a.read(this,g,!1,23,4)},s.prototype.readDoubleLE=function(g,_){return _||W(g,8,this.length),a.read(this,g,!0,52,8)},s.prototype.readDoubleBE=function(g,_){return _||W(g,8,this.length),a.read(this,g,!1,52,8)},s.prototype.writeUIntLE=function(g,_,E,N){g=+g,_|=0,E|=0,N||V(this,g,_,E,Math.pow(2,8*E)-1,0);var R=1,q=0;for(this[_]=255&g;++q<E&&(R*=256);)this[_+q]=g/R&255;return _+E},s.prototype.writeUIntBE=function(g,_,E,N){g=+g,_|=0,E|=0,N||V(this,g,_,E,Math.pow(2,8*E)-1,0);var R=E-1,q=1;for(this[_+R]=255&g;--R>=0&&(q*=256);)this[_+R]=g/q&255;return _+E},s.prototype.writeUInt8=function(g,_,E){return g=+g,_|=0,E||V(this,g,_,1,255,0),s.TYPED_ARRAY_SUPPORT||(g=Math.floor(g)),this[_]=255&g,_+1},s.prototype.writeUInt16LE=function(g,_,E){return g=+g,_|=0,E||V(this,g,_,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[_]=255&g,this[_+1]=g>>>8):S(this,g,_,!0),_+2},s.prototype.writeUInt16BE=function(g,_,E){return g=+g,_|=0,E||V(this,g,_,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[_]=g>>>8,this[_+1]=255&g):S(this,g,_,!1),_+2},s.prototype.writeUInt32LE=function(g,_,E){return g=+g,_|=0,E||V(this,g,_,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[_+3]=g>>>24,this[_+2]=g>>>16,this[_+1]=g>>>8,this[_]=255&g):w(this,g,_,!0),_+4},s.prototype.writeUInt32BE=function(g,_,E){return g=+g,_|=0,E||V(this,g,_,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[_]=g>>>24,this[_+1]=g>>>16,this[_+2]=g>>>8,this[_+3]=255&g):w(this,g,_,!1),_+4},s.prototype.writeIntLE=function(g,_,E,N){if(g=+g,_|=0,!N){var R=Math.pow(2,8*E-1);V(this,g,_,E,R-1,-R)}var q=0,J=1,Z=0;for(this[_]=255&g;++q<E&&(J*=256);)g<0&&Z===0&&this[_+q-1]!==0&&(Z=1),this[_+q]=(g/J>>0)-Z&255;return _+E},s.prototype.writeIntBE=function(g,_,E,N){if(g=+g,_|=0,!N){var R=Math.pow(2,8*E-1);V(this,g,_,E,R-1,-R)}var q=E-1,J=1,Z=0;for(this[_+q]=255&g;--q>=0&&(J*=256);)g<0&&Z===0&&this[_+q+1]!==0&&(Z=1),this[_+q]=(g/J>>0)-Z&255;return _+E},s.prototype.writeInt8=function(g,_,E){return g=+g,_|=0,E||V(this,g,_,1,127,-128),s.TYPED_ARRAY_SUPPORT||(g=Math.floor(g)),g<0&&(g=255+g+1),this[_]=255&g,_+1},s.prototype.writeInt16LE=function(g,_,E){return g=+g,_|=0,E||V(this,g,_,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[_]=255&g,this[_+1]=g>>>8):S(this,g,_,!0),_+2},s.prototype.writeInt16BE=function(g,_,E){return g=+g,_|=0,E||V(this,g,_,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[_]=g>>>8,this[_+1]=255&g):S(this,g,_,!1),_+2},s.prototype.writeInt32LE=function(g,_,E){return g=+g,_|=0,E||V(this,g,_,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[_]=255&g,this[_+1]=g>>>8,this[_+2]=g>>>16,this[_+3]=g>>>24):w(this,g,_,!0),_+4},s.prototype.writeInt32BE=function(g,_,E){return g=+g,_|=0,E||V(this,g,_,4,2147483647,-2147483648),g<0&&(g=4294967295+g+1),s.TYPED_ARRAY_SUPPORT?(this[_]=g>>>24,this[_+1]=g>>>16,this[_+2]=g>>>8,this[_+3]=255&g):w(this,g,_,!1),_+4},s.prototype.writeFloatLE=function(g,_,E){return P(this,g,_,!0,E)},s.prototype.writeFloatBE=function(g,_,E){return P(this,g,_,!1,E)},s.prototype.writeDoubleLE=function(g,_,E){return M(this,g,_,!0,E)},s.prototype.writeDoubleBE=function(g,_,E){return M(this,g,_,!1,E)},s.prototype.copy=function(g,_,E,N){if(E||(E=0),N||N===0||(N=this.length),_>=g.length&&(_=g.length),_||(_=0),N>0&&N<E&&(N=E),N===E||g.length===0||this.length===0)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if(E<0||E>=this.length)throw new RangeError("sourceStart out of bounds");if(N<0)throw new RangeError("sourceEnd out of bounds");N>this.length&&(N=this.length),g.length-_<N-E&&(N=g.length-_+E);var R,q=N-E;if(this===g&&E<_&&_<N)for(R=q-1;R>=0;--R)g[R+_]=this[R+E];else if(q<1e3||!s.TYPED_ARRAY_SUPPORT)for(R=0;R<q;++R)g[R+_]=this[R+E];else Uint8Array.prototype.set.call(g,this.subarray(E,E+q),_);return q},s.prototype.fill=function(g,_,E,N){if(typeof g=="string"){if(typeof _=="string"?(N=_,_=0,E=this.length):typeof E=="string"&&(N=E,E=this.length),g.length===1){var R=g.charCodeAt(0);R<256&&(g=R)}if(N!==void 0&&typeof N!="string")throw new TypeError("encoding must be a string");if(typeof N=="string"&&!s.isEncoding(N))throw new TypeError("Unknown encoding: "+N)}else typeof g=="number"&&(g&=255);if(_<0||this.length<_||this.length<E)throw new RangeError("Out of range index");if(E<=_)return this;var q;if(_>>>=0,E=E===void 0?this.length:E>>>0,g||(g=0),typeof g=="number")for(q=_;q<E;++q)this[q]=g;else{var J=s.isBuffer(g)?g:H(new s(g,N).toString()),Z=J.length;for(q=0;q<E-_;++q)this[q+_]=J[q%Z]}return this};var x=/[^+\/0-9A-Za-z-_]/g;function D(g){return g<16?"0"+g.toString(16):g.toString(16)}function H(g,_){var E;_=_||1/0;for(var N=g.length,R=null,q=[],J=0;J<N;++J){if((E=g.charCodeAt(J))>55295&&E<57344){if(!R){if(E>56319){(_-=3)>-1&&q.push(239,191,189);continue}if(J+1===N){(_-=3)>-1&&q.push(239,191,189);continue}R=E;continue}if(E<56320){(_-=3)>-1&&q.push(239,191,189),R=E;continue}E=65536+(R-55296<<10|E-56320)}else R&&(_-=3)>-1&&q.push(239,191,189);if(R=null,E<128){if((_-=1)<0)break;q.push(E)}else if(E<2048){if((_-=2)<0)break;q.push(E>>6|192,63&E|128)}else if(E<65536){if((_-=3)<0)break;q.push(E>>12|224,E>>6&63|128,63&E|128)}else{if(!(E<1114112))throw new Error("Invalid code point");if((_-=4)<0)break;q.push(E>>18|240,E>>12&63|128,E>>6&63|128,63&E|128)}}return q}function Y(g){return i.toByteArray(function(_){if((_=function(E){return E.trim?E.trim():E.replace(/^\s+|\s+$/g,"")}(_).replace(x,"")).length<2)return"";for(;_.length%4!=0;)_+="=";return _}(g))}function K(g,_,E,N){for(var R=0;R<N&&!(R+E>=_.length||R>=g.length);++R)_[R+E]=g[R];return R}}).call(this,r(0))},function(e,t){var r,n,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(b){if(r===setTimeout)return setTimeout(b,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(b,0);try{return r(b,0)}catch{try{return r.call(null,b,0)}catch{return r.call(this,b,0)}}}(function(){try{r=typeof setTimeout=="function"?setTimeout:a}catch{r=a}try{n=typeof clearTimeout=="function"?clearTimeout:o}catch{n=o}})();var c,s=[],f=!1,l=-1;function h(){f&&c&&(f=!1,c.length?s=c.concat(s):l=-1,s.length&&d())}function d(){if(!f){var b=u(h);f=!0;for(var y=s.length;y;){for(c=s,s=[];++l<y;)c&&c[l].run();l=-1,y=s.length}c=null,f=!1,function(m){if(n===clearTimeout)return clearTimeout(m);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(m);try{n(m)}catch{try{return n.call(null,m)}catch{return n.call(this,m)}}}(b)}}function p(b,y){this.fun=b,this.array=y}function v(){}i.nextTick=function(b){var y=new Array(arguments.length-1);if(arguments.length>1)for(var m=1;m<arguments.length;m++)y[m-1]=arguments[m];s.push(new p(b,y)),s.length!==1||f||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(b){return[]},i.binding=function(b){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(b){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){(function(n){function i(a){return Object.prototype.toString.call(a)}t.isArray=function(a){return Array.isArray?Array.isArray(a):i(a)==="[object Array]"},t.isBoolean=function(a){return typeof a=="boolean"},t.isNull=function(a){return a===null},t.isNullOrUndefined=function(a){return a==null},t.isNumber=function(a){return typeof a=="number"},t.isString=function(a){return typeof a=="string"},t.isSymbol=function(a){return typeof a=="symbol"},t.isUndefined=function(a){return a===void 0},t.isRegExp=function(a){return i(a)==="[object RegExp]"},t.isObject=function(a){return typeof a=="object"&&a!==null},t.isDate=function(a){return i(a)==="[object Date]"},t.isError=function(a){return i(a)==="[object Error]"||a instanceof Error},t.isFunction=function(a){return typeof a=="function"},t.isPrimitive=function(a){return a===null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||typeof a=="symbol"||a===void 0},t.isBuffer=n.isBuffer}).call(this,r(3).Buffer)},function(e,t,r){(function(n){!n.version||n.version.indexOf("v0.")===0||n.version.indexOf("v1.")===0&&n.version.indexOf("v1.8.")!==0?e.exports={nextTick:function(i,a,o,u){if(typeof i!="function")throw new TypeError('"callback" argument must be a function');var c,s,f=arguments.length;switch(f){case 0:case 1:return n.nextTick(i);case 2:return n.nextTick(function(){i.call(null,a)});case 3:return n.nextTick(function(){i.call(null,a,o)});case 4:return n.nextTick(function(){i.call(null,a,o,u)});default:for(c=new Array(f-1),s=0;s<c.length;)c[s++]=arguments[s];return n.nextTick(function(){i.apply(null,c)})}}}:e.exports=n}).call(this,r(4))},function(e,t,r){var n=r(3),i=n.Buffer;function a(u,c){for(var s in u)c[s]=u[s]}function o(u,c,s){return i(u,c,s)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(a(n,t),t.Buffer=o),a(i,o),o.from=function(u,c,s){if(typeof u=="number")throw new TypeError("Argument must not be a number");return i(u,c,s)},o.alloc=function(u,c,s){if(typeof u!="number")throw new TypeError("Argument must be a number");var f=i(u);return c!==void 0?typeof s=="string"?f.fill(c,s):f.fill(c):f.fill(0),f},o.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return i(u)},o.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(u)}},function(e,t,r){var n=r(17)(Object,"create");e.exports=n},function(e,t,r){var n=r(31);e.exports=function(i,a){for(var o=i.length;o--;)if(n(i[o][0],a))return o;return-1}},function(e,t,r){var n=r(96);e.exports=function(i,a){var o=i.__data__;return n(a)?o[typeof a=="string"?"string":"hash"]:o.map}},function(e,t,r){(function(n){var i=n!==void 0&&n||typeof self<"u"&&self||window,a=Function.prototype.apply;function o(u,c){this._id=u,this._clearFn=c}t.setTimeout=function(){return new o(a.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new o(a.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(u){u&&u.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(u,c){clearTimeout(u._idleTimeoutId),u._idleTimeout=c},t.unenroll=function(u){clearTimeout(u._idleTimeoutId),u._idleTimeout=-1},t._unrefActive=t.active=function(u){clearTimeout(u._idleTimeoutId);var c=u._idleTimeout;c>=0&&(u._idleTimeoutId=setTimeout(function(){u._onTimeout&&u._onTimeout()},c))},r(35),t.setImmediate=typeof self<"u"&&self.setImmediate||n!==void 0&&n.setImmediate||this&&this.setImmediate,t.clearImmediate=typeof self<"u"&&self.clearImmediate||n!==void 0&&n.clearImmediate||this&&this.clearImmediate}).call(this,r(0))},function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(o){return typeof o=="function"}function i(o){return typeof o=="object"&&o!==null}function a(o){return o===void 0}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(o){if(!function(u){return typeof u=="number"}(o)||o<0||isNaN(o))throw TypeError("n must be a positive number");return this._maxListeners=o,this},r.prototype.emit=function(o){var u,c,s,f,l,h;if(this._events||(this._events={}),o==="error"&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((u=arguments[1])instanceof Error)throw u;var d=new Error('Uncaught, unspecified "error" event. ('+u+")");throw d.context=u,d}if(a(c=this._events[o]))return!1;if(n(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:f=Array.prototype.slice.call(arguments,1),c.apply(this,f)}else if(i(c))for(f=Array.prototype.slice.call(arguments,1),s=(h=c.slice()).length,l=0;l<s;l++)h[l].apply(this,f);return!0},r.prototype.addListener=function(o,u){var c;if(!n(u))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",o,n(u.listener)?u.listener:u),this._events[o]?i(this._events[o])?this._events[o].push(u):this._events[o]=[this._events[o],u]:this._events[o]=u,i(this._events[o])&&!this._events[o].warned&&(c=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&c>0&&this._events[o].length>c&&(this._events[o].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[o].length),typeof console.trace=="function"&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(o,u){if(!n(u))throw TypeError("listener must be a function");var c=!1;function s(){this.removeListener(o,s),c||(c=!0,u.apply(this,arguments))}return s.listener=u,this.on(o,s),this},r.prototype.removeListener=function(o,u){var c,s,f,l;if(!n(u))throw TypeError("listener must be a function");if(!this._events||!this._events[o])return this;if(f=(c=this._events[o]).length,s=-1,c===u||n(c.listener)&&c.listener===u)delete this._events[o],this._events.removeListener&&this.emit("removeListener",o,u);else if(i(c)){for(l=f;l-- >0;)if(c[l]===u||c[l].listener&&c[l].listener===u){s=l;break}if(s<0)return this;c.length===1?(c.length=0,delete this._events[o]):c.splice(s,1),this._events.removeListener&&this.emit("removeListener",o,u)}return this},r.prototype.removeAllListeners=function(o){var u,c;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[o]&&delete this._events[o],this;if(arguments.length===0){for(u in this._events)u!=="removeListener"&&this.removeAllListeners(u);return this.removeAllListeners("removeListener"),this._events={},this}if(n(c=this._events[o]))this.removeListener(o,c);else if(c)for(;c.length;)this.removeListener(o,c[c.length-1]);return delete this._events[o],this},r.prototype.listeners=function(o){return this._events&&this._events[o]?n(this._events[o])?[this._events[o]]:this._events[o].slice():[]},r.prototype.listenerCount=function(o){if(this._events){var u=this._events[o];if(n(u))return 1;if(u)return u.length}return 0},r.listenerCount=function(o,u){return o.listenerCount(u)}},function(e,t,r){(t=e.exports=r(23)).Stream=t,t.Readable=t,t.Writable=r(14),t.Duplex=r(1),t.Transform=r(27),t.PassThrough=r(45)},function(e,t,r){(function(n,i,a){var o=r(6);function u(F){var j=this;this.next=null,this.entry=null,this.finish=function(){(function(k,B,A){var L=k.entry;for(k.entry=null;L;){var W=L.callback;B.pendingcb--,W(void 0),L=L.next}B.corkedRequestsFree?B.corkedRequestsFree.next=k:B.corkedRequestsFree=k})(j,F)}}e.exports=$;var c,s=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?i:o.nextTick;$.WritableState=m;var f=r(5);f.inherits=r(2);var l,h={deprecate:r(44)},d=r(24),p=r(7).Buffer,v=a.Uint8Array||function(){},b=r(25);function y(){}function m(F,j){c=c||r(1),F=F||{};var k=j instanceof c;this.objectMode=!!F.objectMode,k&&(this.objectMode=this.objectMode||!!F.writableObjectMode);var B=F.highWaterMark,A=F.writableHighWaterMark,L=this.objectMode?16:16384;this.highWaterMark=B||B===0?B:k&&(A||A===0)?A:L,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var W=F.decodeStrings===!1;this.decodeStrings=!W,this.defaultEncoding=F.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(V){(function(S,w){var O=S._writableState,P=O.sync,M=O.writecb;if(function(D){D.writing=!1,D.writecb=null,D.length-=D.writelen,D.writelen=0}(O),w)(function(D,H,Y,K,g){--H.pendingcb,Y?(o.nextTick(g,K),o.nextTick(z,D,H),D._writableState.errorEmitted=!0,D.emit("error",K)):(g(K),D._writableState.errorEmitted=!0,D.emit("error",K),z(D,H))})(S,O,P,w,M);else{var x=U(O);x||O.corked||O.bufferProcessing||!O.bufferedRequest||C(S,O),P?s(I,S,O,x,M):I(S,O,x,M)}})(j,V)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}function $(F){if(c=c||r(1),!(l.call($,this)||this instanceof c))return new $(F);this._writableState=new m(F,this),this.writable=!0,F&&(typeof F.write=="function"&&(this._write=F.write),typeof F.writev=="function"&&(this._writev=F.writev),typeof F.destroy=="function"&&(this._destroy=F.destroy),typeof F.final=="function"&&(this._final=F.final)),d.call(this)}function T(F,j,k,B,A,L,W){j.writelen=B,j.writecb=W,j.writing=!0,j.sync=!0,k?F._writev(A,j.onwrite):F._write(A,L,j.onwrite),j.sync=!1}function I(F,j,k,B){k||function(A,L){L.length===0&&L.needDrain&&(L.needDrain=!1,A.emit("drain"))}(F,j),j.pendingcb--,B(),z(F,j)}function C(F,j){j.bufferProcessing=!0;var k=j.bufferedRequest;if(F._writev&&k&&k.next){var B=j.bufferedRequestCount,A=new Array(B),L=j.corkedRequestsFree;L.entry=k;for(var W=0,V=!0;k;)A[W]=k,k.isBuf||(V=!1),k=k.next,W+=1;A.allBuffers=V,T(F,j,!0,j.length,A,"",L.finish),j.pendingcb++,j.lastBufferedRequest=null,L.next?(j.corkedRequestsFree=L.next,L.next=null):j.corkedRequestsFree=new u(j),j.bufferedRequestCount=0}else{for(;k;){var S=k.chunk,w=k.encoding,O=k.callback;if(T(F,j,!1,j.objectMode?1:S.length,S,w,O),k=k.next,j.bufferedRequestCount--,j.writing)break}k===null&&(j.lastBufferedRequest=null)}j.bufferedRequest=k,j.bufferProcessing=!1}function U(F){return F.ending&&F.length===0&&F.bufferedRequest===null&&!F.finished&&!F.writing}function G(F,j){F._final(function(k){j.pendingcb--,k&&F.emit("error",k),j.prefinished=!0,F.emit("prefinish"),z(F,j)})}function z(F,j){var k=U(j);return k&&(function(B,A){A.prefinished||A.finalCalled||(typeof B._final=="function"?(A.pendingcb++,A.finalCalled=!0,o.nextTick(G,B,A)):(A.prefinished=!0,B.emit("prefinish")))}(F,j),j.pendingcb===0&&(j.finished=!0,F.emit("finish"))),k}f.inherits($,d),m.prototype.getBuffer=function(){for(var F=this.bufferedRequest,j=[];F;)j.push(F),F=F.next;return j},function(){try{Object.defineProperty(m.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty($,Symbol.hasInstance,{value:function(F){return!!l.call(this,F)||this===$&&F&&F._writableState instanceof m}})):l=function(F){return F instanceof this},$.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},$.prototype.write=function(F,j,k){var B=this._writableState,A=!1,L=!B.objectMode&&function(W){return p.isBuffer(W)||W instanceof v}(F);return L&&!p.isBuffer(F)&&(F=function(W){return p.from(W)}(F)),typeof j=="function"&&(k=j,j=null),L?j="buffer":j||(j=B.defaultEncoding),typeof k!="function"&&(k=y),B.ended?function(W,V){var S=new Error("write after end");W.emit("error",S),o.nextTick(V,S)}(this,k):(L||function(W,V,S,w){var O=!0,P=!1;return S===null?P=new TypeError("May not write null values to stream"):typeof S=="string"||S===void 0||V.objectMode||(P=new TypeError("Invalid non-string/buffer chunk")),P&&(W.emit("error",P),o.nextTick(w,P),O=!1),O}(this,B,F,k))&&(B.pendingcb++,A=function(W,V,S,w,O,P){if(!S){var M=function(Y,K,g){return Y.objectMode||Y.decodeStrings===!1||typeof K!="string"||(K=p.from(K,g)),K}(V,w,O);w!==M&&(S=!0,O="buffer",w=M)}var x=V.objectMode?1:w.length;V.length+=x;var D=V.length<V.highWaterMark;if(D||(V.needDrain=!0),V.writing||V.corked){var H=V.lastBufferedRequest;V.lastBufferedRequest={chunk:w,encoding:O,isBuf:S,callback:P,next:null},H?H.next=V.lastBufferedRequest:V.bufferedRequest=V.lastBufferedRequest,V.bufferedRequestCount+=1}else T(W,V,!1,x,w,O,P);return D}(this,B,L,F,j,k)),A},$.prototype.cork=function(){this._writableState.corked++},$.prototype.uncork=function(){var F=this._writableState;F.corked&&(F.corked--,F.writing||F.corked||F.finished||F.bufferProcessing||!F.bufferedRequest||C(this,F))},$.prototype.setDefaultEncoding=function(F){if(typeof F=="string"&&(F=F.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((F+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+F);return this._writableState.defaultEncoding=F,this},Object.defineProperty($.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),$.prototype._write=function(F,j,k){k(new Error("_write() is not implemented"))},$.prototype._writev=null,$.prototype.end=function(F,j,k){var B=this._writableState;typeof F=="function"?(k=F,F=null,j=null):typeof j=="function"&&(k=j,j=null),F!=null&&this.write(F,j),B.corked&&(B.corked=1,this.uncork()),B.ending||B.finished||function(A,L,W){L.ending=!0,z(A,L),W&&(L.finished?o.nextTick(W):A.once("finish",W)),L.ended=!0,A.writable=!1}(this,B,k)},Object.defineProperty($.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(F){this._writableState&&(this._writableState.destroyed=F)}}),$.prototype.destroy=b.destroy,$.prototype._undestroy=b.undestroy,$.prototype._destroy=function(F,j){this.end(),j(F)}}).call(this,r(4),r(11).setImmediate,r(0))},function(e,t,r){(function(n,i,a){e.exports=function o(u,c,s){function f(d,p){if(!c[d]){if(!u[d]){var v=typeof _dereq_=="function"&&_dereq_;if(!p&&v)return v(d,!0);if(l)return l(d,!0);var b=new Error("Cannot find module '"+d+"'");throw b.code="MODULE_NOT_FOUND",b}var y=c[d]={exports:{}};u[d][0].call(y.exports,function(m){return f(u[d][1][m]||m)},y,y.exports,o,u,c,s)}return c[d].exports}for(var l=typeof _dereq_=="function"&&_dereq_,h=0;h<s.length;h++)f(s[h]);return f}({1:[function(o,u,c){u.exports=function(s){var f=s._SomePromiseArray;function l(h){var d=new f(h),p=d.promise();return d.setHowMany(1),d.setUnwrap(),d.init(),p}s.any=function(h){return l(h)},s.prototype.any=function(){return l(this)}}},{}],2:[function(o,u,c){var s;try{throw new Error}catch(y){s=y}var f=o("./schedule"),l=o("./queue"),h=o("./util");function d(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new l(16),this._normalQueue=new l(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var y=this;this.drainQueues=function(){y._drainQueues()},this._schedule=f}function p(y,m,$){this._lateQueue.push(y,m,$),this._queueTick()}function v(y,m,$){this._normalQueue.push(y,m,$),this._queueTick()}function b(y){this._normalQueue._pushOne(y),this._queueTick()}d.prototype.setScheduler=function(y){var m=this._schedule;return this._schedule=y,this._customScheduler=!0,m},d.prototype.hasCustomScheduler=function(){return this._customScheduler},d.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},d.prototype.disableTrampolineIfNecessary=function(){h.hasDevTools&&(this._trampolineEnabled=!1)},d.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},d.prototype.fatalError=function(y,m){m?(n.stderr.write("Fatal "+(y instanceof Error?y.stack:y)+`
`),n.exit(2)):this.throwLater(y)},d.prototype.throwLater=function(y,m){if(arguments.length===1&&(m=y,y=function(){throw m}),typeof setTimeout<"u")setTimeout(function(){y(m)},0);else try{this._schedule(function(){y(m)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}},h.hasDevTools?(d.prototype.invokeLater=function(y,m,$){this._trampolineEnabled?p.call(this,y,m,$):this._schedule(function(){setTimeout(function(){y.call(m,$)},100)})},d.prototype.invoke=function(y,m,$){this._trampolineEnabled?v.call(this,y,m,$):this._schedule(function(){y.call(m,$)})},d.prototype.settlePromises=function(y){this._trampolineEnabled?b.call(this,y):this._schedule(function(){y._settlePromises()})}):(d.prototype.invokeLater=p,d.prototype.invoke=v,d.prototype.settlePromises=b),d.prototype._drainQueue=function(y){for(;y.length()>0;){var m=y.shift();if(typeof m=="function"){var $=y.shift(),T=y.shift();m.call($,T)}else m._settlePromises()}},d.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},d.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},d.prototype._reset=function(){this._isTickUsed=!1},u.exports=d,u.exports.firstLineError=s},{"./queue":26,"./schedule":29,"./util":36}],3:[function(o,u,c){u.exports=function(s,f,l,h){var d=!1,p=function(m,$){this._reject($)},v=function(m,$){$.promiseRejectionQueued=!0,$.bindingPromise._then(p,p,null,this,m)},b=function(m,$){!(50397184&this._bitField)&&this._resolveCallback($.target)},y=function(m,$){$.promiseRejectionQueued||this._reject(m)};s.prototype.bind=function(m){d||(d=!0,s.prototype._propagateFrom=h.propagateFromFunction(),s.prototype._boundValue=h.boundValueFunction());var $=l(m),T=new s(f);T._propagateFrom(this,1);var I=this._target();if(T._setBoundTo($),$ instanceof s){var C={promiseRejectionQueued:!1,promise:T,target:I,bindingPromise:$};I._then(f,v,void 0,T,C),$._then(b,y,void 0,T,C),T._setOnCancel($)}else T._resolveCallback(I);return T},s.prototype._setBoundTo=function(m){m!==void 0?(this._bitField=2097152|this._bitField,this._boundTo=m):this._bitField=-2097153&this._bitField},s.prototype._isBound=function(){return(2097152&this._bitField)==2097152},s.bind=function(m,$){return s.resolve($).bind(m)}}},{}],4:[function(o,u,c){var s;typeof Promise<"u"&&(s=Promise);var f=o("./promise")();f.noConflict=function(){try{Promise===f&&(Promise=s)}catch{}return f},u.exports=f},{"./promise":22}],5:[function(o,u,c){var s=Object.create;if(s){var f=s(null),l=s(null);f[" size"]=l[" size"]=0}u.exports=function(h){var d=o("./util"),p=d.canEvaluate;function v(m){return function($,T){var I;if($!=null&&(I=$[T]),typeof I!="function"){var C="Object "+d.classString($)+" has no method '"+d.toString(T)+"'";throw new h.TypeError(C)}return I}(m,this.pop()).apply(m,this)}function b(m){return m[this]}function y(m){var $=+this;return $<0&&($=Math.max(0,$+m.length)),m[$]}d.isIdentifier,h.prototype.call=function(m){var $=[].slice.call(arguments,1);return $.push(m),this._then(v,void 0,void 0,$,void 0)},h.prototype.get=function(m){var $;if(typeof m=="number")$=y;else if(p){var T=(void 0)(m);$=T!==null?T:b}else $=b;return this._then($,void 0,void 0,m,void 0)}}},{"./util":36}],6:[function(o,u,c){u.exports=function(s,f,l,h){var d=o("./util"),p=d.tryCatch,v=d.errorObj,b=s._async;s.prototype.break=s.prototype.cancel=function(){if(!h.cancellation())return this._warn("cancellation is disabled");for(var y=this,m=y;y._isCancellable();){if(!y._cancelBy(m)){m._isFollowing()?m._followee().cancel():m._cancelBranched();break}var $=y._cancellationParent;if($==null||!$._isCancellable()){y._isFollowing()?y._followee().cancel():y._cancelBranched();break}y._isFollowing()&&y._followee().cancel(),y._setWillBeCancelled(),m=y,y=$}},s.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},s.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},s.prototype._cancelBy=function(y){return y===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},s.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},s.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),b.invoke(this._cancelPromises,this,void 0))},s.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},s.prototype._unsetOnCancel=function(){this._onCancelField=void 0},s.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},s.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},s.prototype._doInvokeOnCancel=function(y,m){if(d.isArray(y))for(var $=0;$<y.length;++$)this._doInvokeOnCancel(y[$],m);else if(y!==void 0)if(typeof y=="function"){if(!m){var T=p(y).call(this._boundValue());T===v&&(this._attachExtraTrace(T.e),b.throwLater(T.e))}}else y._resultCancelled(this)},s.prototype._invokeOnCancel=function(){var y=this._onCancel();this._unsetOnCancel(),b.invoke(this._doInvokeOnCancel,this,y)},s.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},s.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(o,u,c){u.exports=function(s){var f=o("./util"),l=o("./es5").keys,h=f.tryCatch,d=f.errorObj;return function(p,v,b){return function(y){var m=b._boundValue();e:for(var $=0;$<p.length;++$){var T=p[$];if(T===Error||T!=null&&T.prototype instanceof Error){if(y instanceof T)return h(v).call(m,y)}else if(typeof T=="function"){var I=h(T).call(m,y);if(I===d)return I;if(I)return h(v).call(m,y)}else if(f.isObject(y)){for(var C=l(T),U=0;U<C.length;++U){var G=C[U];if(T[G]!=y[G])continue e}return h(v).call(m,y)}}return s}}}},{"./es5":13,"./util":36}],8:[function(o,u,c){u.exports=function(s){var f=!1,l=[];function h(){this._trace=new h.CapturedTrace(d())}function d(){var p=l.length-1;if(p>=0)return l[p]}return s.prototype._promiseCreated=function(){},s.prototype._pushContext=function(){},s.prototype._popContext=function(){return null},s._peekContext=s.prototype._peekContext=function(){},h.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,l.push(this._trace))},h.prototype._popContext=function(){if(this._trace!==void 0){var p=l.pop(),v=p._promiseCreated;return p._promiseCreated=null,v}return null},h.CapturedTrace=null,h.create=function(){if(f)return new h},h.deactivateLongStackTraces=function(){},h.activateLongStackTraces=function(){var p=s.prototype._pushContext,v=s.prototype._popContext,b=s._peekContext,y=s.prototype._peekContext,m=s.prototype._promiseCreated;h.deactivateLongStackTraces=function(){s.prototype._pushContext=p,s.prototype._popContext=v,s._peekContext=b,s.prototype._peekContext=y,s.prototype._promiseCreated=m,f=!1},f=!0,s.prototype._pushContext=h.prototype._pushContext,s.prototype._popContext=h.prototype._popContext,s._peekContext=s.prototype._peekContext=d,s.prototype._promiseCreated=function(){var $=this._peekContext();$&&$._promiseCreated==null&&($._promiseCreated=this)}},h}},{}],9:[function(o,u,c){u.exports=function(s,f){var l,h,d,p=s._getDomain,v=s._async,b=o("./errors").Warning,y=o("./util"),m=y.canAttachTrace,$=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,T=/\((?:timers\.js):\d+:\d+\)/,I=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,C=null,U=null,G=!1,z=y.env("BLUEBIRD_DEBUG")!=0,F=!(y.env("BLUEBIRD_WARNINGS")==0||!z&&!y.env("BLUEBIRD_WARNINGS")),j=!(y.env("BLUEBIRD_LONG_STACK_TRACES")==0||!z&&!y.env("BLUEBIRD_LONG_STACK_TRACES")),k=y.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(F||!!y.env("BLUEBIRD_W_FORGOTTEN_RETURN"));s.prototype.suppressUnhandledRejections=function(){var X=this._target();X._bitField=-1048577&X._bitField|524288},s.prototype._ensurePossibleRejectionHandled=function(){if(!(524288&this._bitField)){this._setRejectionIsUnhandled();var X=this;setTimeout(function(){X._notifyUnhandledRejection()},1)}},s.prototype._notifyUnhandledRejectionIsHandled=function(){J("rejectionHandled",l,void 0,this)},s.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},s.prototype._returnedNonUndefined=function(){return(268435456&this._bitField)!=0},s.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var X=this._settledValue();this._setUnhandledRejectionIsNotified(),J("unhandledRejection",h,X,this)}},s.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},s.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},s.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},s.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},s.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},s.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},s.prototype._warn=function(X,Q,te){return E(X,Q,te||this)},s.onPossiblyUnhandledRejection=function(X){var Q=p();h=typeof X=="function"?Q===null?X:y.domainBind(Q,X):void 0},s.onUnhandledRejectionHandled=function(X){var Q=p();l=typeof X=="function"?Q===null?X:y.domainBind(Q,X):void 0};var B=function(){};s.longStackTraces=function(){if(v.haveItemsQueued()&&!de.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!de.longStackTraces&&re()){var X=s.prototype._captureStackTrace,Q=s.prototype._attachExtraTrace;de.longStackTraces=!0,B=function(){if(v.haveItemsQueued()&&!de.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);s.prototype._captureStackTrace=X,s.prototype._attachExtraTrace=Q,f.deactivateLongStackTraces(),v.enableTrampoline(),de.longStackTraces=!1},s.prototype._captureStackTrace=g,s.prototype._attachExtraTrace=_,f.activateLongStackTraces(),v.disableTrampolineIfNecessary()}},s.hasLongStackTraces=function(){return de.longStackTraces&&re()};var A=function(){try{if(typeof CustomEvent=="function"){var X=new CustomEvent("CustomEvent");return y.global.dispatchEvent(X),function(Q,te){var ee=new CustomEvent(Q.toLowerCase(),{detail:te,cancelable:!0});return!y.global.dispatchEvent(ee)}}return typeof Event=="function"?(X=new Event("CustomEvent"),y.global.dispatchEvent(X),function(Q,te){var ee=new Event(Q.toLowerCase(),{cancelable:!0});return ee.detail=te,!y.global.dispatchEvent(ee)}):((X=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),y.global.dispatchEvent(X),function(Q,te){var ee=document.createEvent("CustomEvent");return ee.initCustomEvent(Q.toLowerCase(),!1,!0,te),!y.global.dispatchEvent(ee)})}catch{}return function(){return!1}}(),L=y.isNode?function(){return n.emit.apply(n,arguments)}:y.global?function(X){var Q="on"+X.toLowerCase(),te=y.global[Q];return!!te&&(te.apply(y.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function W(X,Q){return{promise:Q}}var V={promiseCreated:W,promiseFulfilled:W,promiseRejected:W,promiseResolved:W,promiseCancelled:W,promiseChained:function(X,Q,te){return{promise:Q,child:te}},warning:function(X,Q){return{warning:Q}},unhandledRejection:function(X,Q,te){return{reason:Q,promise:te}},rejectionHandled:W},S=function(X){var Q=!1;try{Q=L.apply(null,arguments)}catch(ee){v.throwLater(ee),Q=!0}var te=!1;try{te=A(X,V[X].apply(null,arguments))}catch(ee){v.throwLater(ee),te=!0}return te||Q};function w(){return!1}function O(X,Q,te){var ee=this;try{X(Q,te,function(oe){if(typeof oe!="function")throw new TypeError("onCancel must be a function, got: "+y.toString(oe));ee._attachCancellationCallback(oe)})}catch(oe){return oe}}function P(X){if(!this._isCancellable())return this;var Q=this._onCancel();Q!==void 0?y.isArray(Q)?Q.push(X):this._setOnCancel([Q,X]):this._setOnCancel(X)}function M(){return this._onCancelField}function x(X){this._onCancelField=X}function D(){this._cancellationParent=void 0,this._onCancelField=void 0}function H(X,Q){if(1&Q){this._cancellationParent=X;var te=X._branchesRemainingToCancel;te===void 0&&(te=0),X._branchesRemainingToCancel=te+1}2&Q&&X._isBound()&&this._setBoundTo(X._boundTo)}s.config=function(X){if("longStackTraces"in(X=Object(X))&&(X.longStackTraces?s.longStackTraces():!X.longStackTraces&&s.hasLongStackTraces()&&B()),"warnings"in X){var Q=X.warnings;de.warnings=!!Q,k=de.warnings,y.isObject(Q)&&"wForgottenReturn"in Q&&(k=!!Q.wForgottenReturn)}if("cancellation"in X&&X.cancellation&&!de.cancellation){if(v.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");s.prototype._clearCancellationData=D,s.prototype._propagateFrom=H,s.prototype._onCancel=M,s.prototype._setOnCancel=x,s.prototype._attachCancellationCallback=P,s.prototype._execute=O,Y=H,de.cancellation=!0}return"monitoring"in X&&(X.monitoring&&!de.monitoring?(de.monitoring=!0,s.prototype._fireEvent=S):!X.monitoring&&de.monitoring&&(de.monitoring=!1,s.prototype._fireEvent=w)),s},s.prototype._fireEvent=w,s.prototype._execute=function(X,Q,te){try{X(Q,te)}catch(ee){return ee}},s.prototype._onCancel=function(){},s.prototype._setOnCancel=function(X){},s.prototype._attachCancellationCallback=function(X){},s.prototype._captureStackTrace=function(){},s.prototype._attachExtraTrace=function(){},s.prototype._clearCancellationData=function(){},s.prototype._propagateFrom=function(X,Q){};var Y=function(X,Q){2&Q&&X._isBound()&&this._setBoundTo(X._boundTo)};function K(){var X=this._boundTo;return X!==void 0&&X instanceof s?X.isFulfilled()?X.value():void 0:X}function g(){this._trace=new $e(this._peekContext())}function _(X,Q){if(m(X)){var te=this._trace;if(te!==void 0&&Q&&(te=te._parent),te!==void 0)te.attachExtraTrace(X);else if(!X.__stackCleaned__){var ee=R(X);y.notEnumerableProp(X,"stack",ee.message+`
`+ee.stack.join(`
`)),y.notEnumerableProp(X,"__stackCleaned__",!0)}}}function E(X,Q,te){if(de.warnings){var ee,oe=new b(X);if(Q)te._attachExtraTrace(oe);else if(de.longStackTraces&&(ee=s._peekContext()))ee.attachExtraTrace(oe);else{var ie=R(oe);oe.stack=ie.message+`
`+ie.stack.join(`
`)}S("warning",oe)||q(oe,"",!0)}}function N(X){for(var Q=[],te=0;te<X.length;++te){var ee=X[te],oe=ee==="    (No stack trace)"||C.test(ee),ie=oe&&ce(ee);oe&&!ie&&(G&&ee.charAt(0)!==" "&&(ee="    "+ee),Q.push(ee))}return Q}function R(X){var Q=X.stack,te=X.toString();return Q=typeof Q=="string"&&Q.length>0?function(ee){for(var oe=ee.stack.replace(/\s+$/g,"").split(`
`),ie=0;ie<oe.length;++ie){var ne=oe[ie];if(ne==="    (No stack trace)"||C.test(ne))break}return ie>0&&ee.name!="SyntaxError"&&(oe=oe.slice(ie)),oe}(X):["    (No stack trace)"],{message:te,stack:X.name=="SyntaxError"?Q:N(Q)}}function q(X,Q,te){if(typeof console<"u"){var ee;if(y.isObject(X)){var oe=X.stack;ee=Q+U(oe,X)}else ee=Q+String(X);typeof d=="function"?d(ee,te):typeof console.log!="function"&&typeof console.log!="object"||console.log(ee)}}function J(X,Q,te,ee){var oe=!1;try{typeof Q=="function"&&(oe=!0,X==="rejectionHandled"?Q(ee):Q(te,ee))}catch(ie){v.throwLater(ie)}X==="unhandledRejection"?S(X,te,ee)||oe||q(te,"Unhandled rejection "):S(X,ee)}function Z(X){var Q;if(typeof X=="function")Q="[function "+(X.name||"anonymous")+"]";else{if(Q=X&&typeof X.toString=="function"?X.toString():y.toString(X),/\[object [a-zA-Z0-9$_]+\]/.test(Q))try{Q=JSON.stringify(X)}catch{}Q.length===0&&(Q="(empty array)")}return"(<"+function(te){return te.length<41?te:te.substr(0,38)+"..."}(Q)+">, no stack trace)"}function re(){return typeof nt=="function"}var ce=function(){return!1},ae=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function ve(X){var Q=X.match(ae);if(Q)return{fileName:Q[1],line:parseInt(Q[2],10)}}function $e(X){this._parent=X,this._promisesCreated=0;var Q=this._length=1+(X===void 0?0:X._length);nt(this,$e),Q>32&&this.uncycle()}y.inherits($e,Error),f.CapturedTrace=$e,$e.prototype.uncycle=function(){var X=this._length;if(!(X<2)){for(var Q=[],te={},ee=0,oe=this;oe!==void 0;++ee)Q.push(oe),oe=oe._parent;for(ee=(X=this._length=ee)-1;ee>=0;--ee){var ie=Q[ee].stack;te[ie]===void 0&&(te[ie]=ee)}for(ee=0;ee<X;++ee){var ne=te[Q[ee].stack];if(ne!==void 0&&ne!==ee){ne>0&&(Q[ne-1]._parent=void 0,Q[ne-1]._length=1),Q[ee]._parent=void 0,Q[ee]._length=1;var le=ee>0?Q[ee-1]:this;ne<X-1?(le._parent=Q[ne+1],le._parent.uncycle(),le._length=le._parent._length+1):(le._parent=void 0,le._length=1);for(var xe=le._length+1,we=ee-2;we>=0;--we)Q[we]._length=xe,xe++;return}}}},$e.prototype.attachExtraTrace=function(X){if(!X.__stackCleaned__){this.uncycle();for(var Q=R(X),te=Q.message,ee=[Q.stack],oe=this;oe!==void 0;)ee.push(N(oe.stack.split(`
`))),oe=oe._parent;(function(ie){for(var ne=ie[0],le=1;le<ie.length;++le){for(var xe=ie[le],we=ne.length-1,Lr=ne[we],ct=-1,Rt=xe.length-1;Rt>=0;--Rt)if(xe[Rt]===Lr){ct=Rt;break}for(Rt=ct;Rt>=0;--Rt){var vc=xe[Rt];if(ne[we]!==vc)break;ne.pop(),we--}ne=xe}})(ee),function(ie){for(var ne=0;ne<ie.length;++ne)(ie[ne].length===0||ne+1<ie.length&&ie[ne][0]===ie[ne+1][0])&&(ie.splice(ne,1),ne--)}(ee),y.notEnumerableProp(X,"stack",function(ie,ne){for(var le=0;le<ne.length-1;++le)ne[le].push("From previous event:"),ne[le]=ne[le].join(`
`);return le<ne.length&&(ne[le]=ne[le].join(`
`)),ie+`
`+ne.join(`
`)}(te,ee)),y.notEnumerableProp(X,"__stackCleaned__",!0)}};var nt=function(){var X=/^\s*at\s*/,Q=function(ie,ne){return typeof ie=="string"?ie:ne.name!==void 0&&ne.message!==void 0?ne.toString():Z(ne)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,C=X,U=Q;var te=Error.captureStackTrace;return ce=function(ie){return $.test(ie)},function(ie,ne){Error.stackTraceLimit+=6,te(ie,ne),Error.stackTraceLimit-=6}}var ee,oe=new Error;if(typeof oe.stack=="string"&&oe.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return C=/@/,U=Q,G=!0,function(ie){ie.stack=new Error().stack};try{throw new Error}catch(ie){ee="stack"in ie}return"stack"in oe||!ee||typeof Error.stackTraceLimit!="number"?(U=function(ie,ne){return typeof ie=="string"?ie:typeof ne!="object"&&typeof ne!="function"||ne.name===void 0||ne.message===void 0?Z(ne):ne.toString()},null):(C=X,U=Q,function(ie){Error.stackTraceLimit+=6;try{throw new Error}catch(ne){ie.stack=ne.stack}Error.stackTraceLimit-=6})}();typeof console<"u"&&console.warn!==void 0&&(d=function(X){console.warn(X)},y.isNode&&n.stderr.isTTY?d=function(X,Q){var te=Q?"\x1B[33m":"\x1B[31m";console.warn(te+X+`\x1B[0m
`)}:y.isNode||typeof new Error().stack!="string"||(d=function(X,Q){console.warn("%c"+X,Q?"color: darkorange":"color: red")}));var de={warnings:F,longStackTraces:!1,cancellation:!1,monitoring:!1};return j&&s.longStackTraces(),{longStackTraces:function(){return de.longStackTraces},warnings:function(){return de.warnings},cancellation:function(){return de.cancellation},monitoring:function(){return de.monitoring},propagateFromFunction:function(){return Y},boundValueFunction:function(){return K},checkForgottenReturns:function(X,Q,te,ee,oe){if(X===void 0&&Q!==null&&k){if(oe!==void 0&&oe._returnedNonUndefined()||!(65535&ee._bitField))return;te&&(te+=" ");var ie="",ne="";if(Q._trace){for(var le=Q._trace.stack.split(`
`),xe=N(le),we=xe.length-1;we>=0;--we){var Lr=xe[we];if(!T.test(Lr)){var ct=Lr.match(I);ct&&(ie="at "+ct[1]+":"+ct[2]+":"+ct[3]+" ");break}}if(xe.length>0){var Rt=xe[0];for(we=0;we<le.length;++we)if(le[we]===Rt){we>0&&(ne=`
`+le[we-1]);break}}}var vc="a promise was created in a "+te+"handler "+ie+"but was not returned from it, see http://goo.gl/rRqMUw"+ne;ee._warn(vc,!0,Q)}},setBounds:function(X,Q){if(re()){for(var te,ee,oe=X.stack.split(`
`),ie=Q.stack.split(`
`),ne=-1,le=-1,xe=0;xe<oe.length;++xe)if(we=ve(oe[xe])){te=we.fileName,ne=we.line;break}for(xe=0;xe<ie.length;++xe){var we;if(we=ve(ie[xe])){ee=we.fileName,le=we.line;break}}ne<0||le<0||!te||!ee||te!==ee||ne>=le||(ce=function(Lr){if($.test(Lr))return!0;var ct=ve(Lr);return!!(ct&&ct.fileName===te&&ne<=ct.line&&ct.line<=le)})}},warn:E,deprecated:function(X,Q){var te=X+" is deprecated and will be removed in a future version.";return Q&&(te+=" Use "+Q+" instead."),E(te)},CapturedTrace:$e,fireDomEvent:A,fireGlobalEvent:L}}},{"./errors":12,"./util":36}],10:[function(o,u,c){u.exports=function(s){function f(){return this.value}function l(){throw this.reason}s.prototype.return=s.prototype.thenReturn=function(h){return h instanceof s&&h.suppressUnhandledRejections(),this._then(f,void 0,void 0,{value:h},void 0)},s.prototype.throw=s.prototype.thenThrow=function(h){return this._then(l,void 0,void 0,{reason:h},void 0)},s.prototype.catchThrow=function(h){if(arguments.length<=1)return this._then(void 0,l,void 0,{reason:h},void 0);var d=arguments[1];return this.caught(h,function(){throw d})},s.prototype.catchReturn=function(h){if(arguments.length<=1)return h instanceof s&&h.suppressUnhandledRejections(),this._then(void 0,f,void 0,{value:h},void 0);var d=arguments[1];return d instanceof s&&d.suppressUnhandledRejections(),this.caught(h,function(){return d})}}},{}],11:[function(o,u,c){u.exports=function(s,f){var l=s.reduce,h=s.all;function d(){return h(this)}s.prototype.each=function(p){return l(this,p,f,0)._then(d,void 0,void 0,this,void 0)},s.prototype.mapSeries=function(p){return l(this,p,f,f)},s.each=function(p,v){return l(p,v,f,0)._then(d,void 0,void 0,p,void 0)},s.mapSeries=function(p,v){return l(p,v,f,f)}}},{}],12:[function(o,u,c){var s,f,l=o("./es5"),h=l.freeze,d=o("./util"),p=d.inherits,v=d.notEnumerableProp;function b(F,j){function k(B){if(!(this instanceof k))return new k(B);v(this,"message",typeof B=="string"?B:j),v(this,"name",F),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return p(k,Error),k}var y=b("Warning","warning"),m=b("CancellationError","cancellation error"),$=b("TimeoutError","timeout error"),T=b("AggregateError","aggregate error");try{s=TypeError,f=RangeError}catch{s=b("TypeError","type error"),f=b("RangeError","range error")}for(var I="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),C=0;C<I.length;++C)typeof Array.prototype[I[C]]=="function"&&(T.prototype[I[C]]=Array.prototype[I[C]]);l.defineProperty(T.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),T.prototype.isOperational=!0;var U=0;function G(F){if(!(this instanceof G))return new G(F);v(this,"name","OperationalError"),v(this,"message",F),this.cause=F,this.isOperational=!0,F instanceof Error?(v(this,"message",F.message),v(this,"stack",F.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}T.prototype.toString=function(){var F=Array(4*U+1).join(" "),j=`
`+F+`AggregateError of:
`;U++,F=Array(4*U+1).join(" ");for(var k=0;k<this.length;++k){for(var B=this[k]===this?"[Circular AggregateError]":this[k]+"",A=B.split(`
`),L=0;L<A.length;++L)A[L]=F+A[L];j+=(B=A.join(`
`))+`
`}return U--,j},p(G,Error);var z=Error.__BluebirdErrorTypes__;z||(z=h({CancellationError:m,TimeoutError:$,OperationalError:G,RejectionError:G,AggregateError:T}),l.defineProperty(Error,"__BluebirdErrorTypes__",{value:z,writable:!1,enumerable:!1,configurable:!1})),u.exports={Error,TypeError:s,RangeError:f,CancellationError:z.CancellationError,OperationalError:z.OperationalError,TimeoutError:z.TimeoutError,AggregateError:z.AggregateError,Warning:y}},{"./es5":13,"./util":36}],13:[function(o,u,c){var s=function(){return this===void 0}();if(s)u.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:s,propertyIsWritable:function(p,v){var b=Object.getOwnPropertyDescriptor(p,v);return!(b&&!b.writable&&!b.set)}};else{var f={}.hasOwnProperty,l={}.toString,h={}.constructor.prototype,d=function(p){var v=[];for(var b in p)f.call(p,b)&&v.push(b);return v};u.exports={isArray:function(p){try{return l.call(p)==="[object Array]"}catch{return!1}},keys:d,names:d,defineProperty:function(p,v,b){return p[v]=b.value,p},getDescriptor:function(p,v){return{value:p[v]}},freeze:function(p){return p},getPrototypeOf:function(p){try{return Object(p).constructor.prototype}catch{return h}},isES5:s,propertyIsWritable:function(){return!0}}}},{}],14:[function(o,u,c){u.exports=function(s,f){var l=s.map;s.prototype.filter=function(h,d){return l(this,h,d,f)},s.filter=function(h,d,p){return l(h,d,p,f)}}},{}],15:[function(o,u,c){u.exports=function(s,f,l){var h=o("./util"),d=s.CancellationError,p=h.errorObj,v=o("./catch_filter")(l);function b(C,U,G){this.promise=C,this.type=U,this.handler=G,this.called=!1,this.cancelPromise=null}function y(C){this.finallyHandler=C}function m(C,U){return C.cancelPromise!=null&&(arguments.length>1?C.cancelPromise._reject(U):C.cancelPromise._cancel(),C.cancelPromise=null,!0)}function $(){return I.call(this,this.promise._target()._settledValue())}function T(C){if(!m(this,C))return p.e=C,p}function I(C){var U=this.promise,G=this.handler;if(!this.called){this.called=!0;var z=this.isFinallyHandler()?G.call(U._boundValue()):G.call(U._boundValue(),C);if(z===l)return z;if(z!==void 0){U._setReturnedNonUndefined();var F=f(z,U);if(F instanceof s){if(this.cancelPromise!=null){if(F._isCancelled()){var j=new d("late cancellation observer");return U._attachExtraTrace(j),p.e=j,p}F.isPending()&&F._attachCancellationCallback(new y(this))}return F._then($,T,void 0,this,void 0)}}}return U.isRejected()?(m(this),p.e=C,p):(m(this),C)}return b.prototype.isFinallyHandler=function(){return this.type===0},y.prototype._resultCancelled=function(){m(this.finallyHandler)},s.prototype._passThrough=function(C,U,G,z){return typeof C!="function"?this.then():this._then(G,z,void 0,new b(this,U,C),void 0)},s.prototype.lastly=s.prototype.finally=function(C){return this._passThrough(C,0,I,I)},s.prototype.tap=function(C){return this._passThrough(C,1,I)},s.prototype.tapCatch=function(C){var U=arguments.length;if(U===1)return this._passThrough(C,1,void 0,I);var G,z=new Array(U-1),F=0;for(G=0;G<U-1;++G){var j=arguments[G];if(!h.isObject(j))return s.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+h.classString(j)));z[F++]=j}z.length=F;var k=arguments[G];return this._passThrough(v(z,k,this),1,void 0,I)},b}},{"./catch_filter":7,"./util":36}],16:[function(o,u,c){u.exports=function(s,f,l,h,d,p){var v=o("./errors").TypeError,b=o("./util"),y=b.errorObj,m=b.tryCatch,$=[];function T(I,C,U,G){if(p.cancellation()){var z=new s(l),F=this._finallyPromise=new s(l);this._promise=z.lastly(function(){return F}),z._captureStackTrace(),z._setOnCancel(this)}else(this._promise=new s(l))._captureStackTrace();this._stack=G,this._generatorFunction=I,this._receiver=C,this._generator=void 0,this._yieldHandlers=typeof U=="function"?[U].concat($):$,this._yieldedPromise=null,this._cancellationPhase=!1}b.inherits(T,d),T.prototype._isResolved=function(){return this._promise===null},T.prototype._cleanup=function(){this._promise=this._generator=null,p.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},T.prototype._promiseCancelled=function(){if(!this._isResolved()){var I;if(this._generator.return!==void 0)this._promise._pushContext(),I=m(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var C=new s.CancellationError("generator .return() sentinel");s.coroutine.returnSentinel=C,this._promise._attachExtraTrace(C),this._promise._pushContext(),I=m(this._generator.throw).call(this._generator,C),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(I)}},T.prototype._promiseFulfilled=function(I){this._yieldedPromise=null,this._promise._pushContext();var C=m(this._generator.next).call(this._generator,I);this._promise._popContext(),this._continue(C)},T.prototype._promiseRejected=function(I){this._yieldedPromise=null,this._promise._attachExtraTrace(I),this._promise._pushContext();var C=m(this._generator.throw).call(this._generator,I);this._promise._popContext(),this._continue(C)},T.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof s){var I=this._yieldedPromise;this._yieldedPromise=null,I.cancel()}},T.prototype.promise=function(){return this._promise},T.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},T.prototype._continue=function(I){var C=this._promise;if(I===y)return this._cleanup(),this._cancellationPhase?C.cancel():C._rejectCallback(I.e,!1);var U=I.value;if(I.done===!0)return this._cleanup(),this._cancellationPhase?C.cancel():C._resolveCallback(U);var G=h(U,this._promise);if(G instanceof s||(G=function(F,j,k){for(var B=0;B<j.length;++B){k._pushContext();var A=m(j[B])(F);if(k._popContext(),A===y){k._pushContext();var L=s.reject(y.e);return k._popContext(),L}var W=h(A,k);if(W instanceof s)return W}return null}(G,this._yieldHandlers,this._promise))!==null){var z=(G=G._target())._bitField;50397184&z?33554432&z?s._async.invoke(this._promiseFulfilled,this,G._value()):16777216&z?s._async.invoke(this._promiseRejected,this,G._reason()):this._promiseCancelled():(this._yieldedPromise=G,G._proxy(this,null))}else this._promiseRejected(new v(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",String(U))+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)))},s.coroutine=function(I,C){if(typeof I!="function")throw new v(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var U=Object(C).yieldHandler,G=T,z=new Error().stack;return function(){var F=I.apply(this,arguments),j=new G(void 0,void 0,U,z),k=j.promise();return j._generator=F,j._promiseFulfilled(void 0),k}},s.coroutine.addYieldHandler=function(I){if(typeof I!="function")throw new v("expecting a function but got "+b.classString(I));$.push(I)},s.spawn=function(I){if(p.deprecated("Promise.spawn()","Promise.coroutine()"),typeof I!="function")return f(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var C=new T(I,this),U=C.promise();return C._run(s.spawn),U}}},{"./errors":12,"./util":36}],17:[function(o,u,c){u.exports=function(s,f,l,h,d,p){var v=o("./util");v.canEvaluate,v.tryCatch,v.errorObj,s.join=function(){var b,y=arguments.length-1;y>0&&typeof arguments[y]=="function"&&(b=arguments[y]);var m=[].slice.call(arguments);b&&m.pop();var $=new f(m).promise();return b!==void 0?$.spread(b):$}}},{"./util":36}],18:[function(o,u,c){u.exports=function(s,f,l,h,d,p){var v=s._getDomain,b=o("./util"),y=b.tryCatch,m=b.errorObj,$=s._async;function T(C,U,G,z){this.constructor$(C),this._promise._captureStackTrace();var F=v();this._callback=F===null?U:b.domainBind(F,U),this._preservedValues=z===d?new Array(this.length()):null,this._limit=G,this._inFlight=0,this._queue=[],$.invoke(this._asyncInit,this,void 0)}function I(C,U,G,z){if(typeof U!="function")return l("expecting a function but got "+b.classString(U));var F=0;if(G!==void 0){if(typeof G!="object"||G===null)return s.reject(new TypeError("options argument must be an object but it is "+b.classString(G)));if(typeof G.concurrency!="number")return s.reject(new TypeError("'concurrency' must be a number but it is "+b.classString(G.concurrency)));F=G.concurrency}return new T(C,U,F=typeof F=="number"&&isFinite(F)&&F>=1?F:0,z).promise()}b.inherits(T,f),T.prototype._asyncInit=function(){this._init$(void 0,-2)},T.prototype._init=function(){},T.prototype._promiseFulfilled=function(C,U){var G=this._values,z=this.length(),F=this._preservedValues,j=this._limit;if(U<0){if(G[U=-1*U-1]=C,j>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(j>=1&&this._inFlight>=j)return G[U]=C,this._queue.push(U),!1;F!==null&&(F[U]=C);var k=this._promise,B=this._callback,A=k._boundValue();k._pushContext();var L=y(B).call(A,C,U,z),W=k._popContext();if(p.checkForgottenReturns(L,W,F!==null?"Promise.filter":"Promise.map",k),L===m)return this._reject(L.e),!0;var V=h(L,this._promise);if(V instanceof s){var S=(V=V._target())._bitField;if(!(50397184&S))return j>=1&&this._inFlight++,G[U]=V,V._proxy(this,-1*(U+1)),!1;if(!(33554432&S))return 16777216&S?(this._reject(V._reason()),!0):(this._cancel(),!0);L=V._value()}G[U]=L}return++this._totalResolved>=z&&(F!==null?this._filter(G,F):this._resolve(G),!0)},T.prototype._drainQueue=function(){for(var C=this._queue,U=this._limit,G=this._values;C.length>0&&this._inFlight<U;){if(this._isResolved())return;var z=C.pop();this._promiseFulfilled(G[z],z)}},T.prototype._filter=function(C,U){for(var G=U.length,z=new Array(G),F=0,j=0;j<G;++j)C[j]&&(z[F++]=U[j]);z.length=F,this._resolve(z)},T.prototype.preservedValues=function(){return this._preservedValues},s.prototype.map=function(C,U){return I(this,C,U,null)},s.map=function(C,U,G,z){return I(C,U,G,z)}}},{"./util":36}],19:[function(o,u,c){u.exports=function(s,f,l,h,d){var p=o("./util"),v=p.tryCatch;s.method=function(b){if(typeof b!="function")throw new s.TypeError("expecting a function but got "+p.classString(b));return function(){var y=new s(f);y._captureStackTrace(),y._pushContext();var m=v(b).apply(this,arguments),$=y._popContext();return d.checkForgottenReturns(m,$,"Promise.method",y),y._resolveFromSyncValue(m),y}},s.attempt=s.try=function(b){if(typeof b!="function")return h("expecting a function but got "+p.classString(b));var y,m=new s(f);if(m._captureStackTrace(),m._pushContext(),arguments.length>1){d.deprecated("calling Promise.try with more than 1 argument");var $=arguments[1],T=arguments[2];y=p.isArray($)?v(b).apply(T,$):v(b).call(T,$)}else y=v(b)();var I=m._popContext();return d.checkForgottenReturns(y,I,"Promise.try",m),m._resolveFromSyncValue(y),m},s.prototype._resolveFromSyncValue=function(b){b===p.errorObj?this._rejectCallback(b.e,!1):this._resolveCallback(b,!0)}}},{"./util":36}],20:[function(o,u,c){var s=o("./util"),f=s.maybeWrapAsError,l=o("./errors").OperationalError,h=o("./es5"),d=/^(?:name|message|stack|cause)$/;function p(v){var b;if(function(T){return T instanceof Error&&h.getPrototypeOf(T)===Error.prototype}(v)){(b=new l(v)).name=v.name,b.message=v.message,b.stack=v.stack;for(var y=h.keys(v),m=0;m<y.length;++m){var $=y[m];d.test($)||(b[$]=v[$])}return b}return s.markAsOriginatingFromRejection(v),v}u.exports=function(v,b){return function(y,m){if(v!==null){if(y){var $=p(f(y));v._attachExtraTrace($),v._reject($)}else if(b){var T=[].slice.call(arguments,1);v._fulfill(T)}else v._fulfill(m);v=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(o,u,c){u.exports=function(s){var f=o("./util"),l=s._async,h=f.tryCatch,d=f.errorObj;function p(y,m){if(!f.isArray(y))return v.call(this,y,m);var $=h(m).apply(this._boundValue(),[null].concat(y));$===d&&l.throwLater($.e)}function v(y,m){var $=this._boundValue(),T=y===void 0?h(m).call($,null):h(m).call($,null,y);T===d&&l.throwLater(T.e)}function b(y,m){if(!y){var $=new Error(y+"");$.cause=y,y=$}var T=h(m).call(this._boundValue(),y);T===d&&l.throwLater(T.e)}s.prototype.asCallback=s.prototype.nodeify=function(y,m){if(typeof y=="function"){var $=v;m!==void 0&&Object(m).spread&&($=p),this._then($,b,void 0,this,y)}return this}}},{"./util":36}],22:[function(o,u,c){u.exports=function(){var s=function(){return new T(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},f=function(){return new w.PromiseInspection(this._target())},l=function(x){return w.reject(new T(x))};function h(){}var d,p={},v=o("./util");d=v.isNode?function(){var x=n.domain;return x===void 0&&(x=null),x}:function(){return null},v.notEnumerableProp(w,"_getDomain",d);var b=o("./es5"),y=o("./async"),m=new y;b.defineProperty(w,"_async",{value:m});var $=o("./errors"),T=w.TypeError=$.TypeError;w.RangeError=$.RangeError;var I=w.CancellationError=$.CancellationError;w.TimeoutError=$.TimeoutError,w.OperationalError=$.OperationalError,w.RejectionError=$.OperationalError,w.AggregateError=$.AggregateError;var C=function(){},U={},G={},z=o("./thenables")(w,C),F=o("./promise_array")(w,C,z,l,h),j=o("./context")(w),k=j.create,B=o("./debuggability")(w,j),A=(B.CapturedTrace,o("./finally")(w,z,G)),L=o("./catch_filter")(G),W=o("./nodeback"),V=v.errorObj,S=v.tryCatch;function w(x){x!==C&&function(D,H){if(D==null||D.constructor!==w)throw new T(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`);if(typeof H!="function")throw new T("expecting a function but got "+v.classString(H))}(this,x),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(x),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function O(x){this.promise._resolveCallback(x)}function P(x){this.promise._rejectCallback(x,!1)}function M(x){var D=new w(C);D._fulfillmentHandler0=x,D._rejectionHandler0=x,D._promise0=x,D._receiver0=x}return w.prototype.toString=function(){return"[object Promise]"},w.prototype.caught=w.prototype.catch=function(x){var D=arguments.length;if(D>1){var H,Y=new Array(D-1),K=0;for(H=0;H<D-1;++H){var g=arguments[H];if(!v.isObject(g))return l("Catch statement predicate: expecting an object but got "+v.classString(g));Y[K++]=g}return Y.length=K,x=arguments[H],this.then(void 0,L(Y,x,this))}return this.then(void 0,x)},w.prototype.reflect=function(){return this._then(f,f,void 0,this,void 0)},w.prototype.then=function(x,D){if(B.warnings()&&arguments.length>0&&typeof x!="function"&&typeof D!="function"){var H=".then() only accepts functions but was passed: "+v.classString(x);arguments.length>1&&(H+=", "+v.classString(D)),this._warn(H)}return this._then(x,D,void 0,void 0,void 0)},w.prototype.done=function(x,D){this._then(x,D,void 0,void 0,void 0)._setIsFinal()},w.prototype.spread=function(x){return typeof x!="function"?l("expecting a function but got "+v.classString(x)):this.all()._then(x,void 0,void 0,U,void 0)},w.prototype.toJSON=function(){var x={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(x.fulfillmentValue=this.value(),x.isFulfilled=!0):this.isRejected()&&(x.rejectionReason=this.reason(),x.isRejected=!0),x},w.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new F(this).promise()},w.prototype.error=function(x){return this.caught(v.originatesFromRejection,x)},w.getNewLibraryCopy=u.exports,w.is=function(x){return x instanceof w},w.fromNode=w.fromCallback=function(x){var D=new w(C);D._captureStackTrace();var H=arguments.length>1&&!!Object(arguments[1]).multiArgs,Y=S(x)(W(D,H));return Y===V&&D._rejectCallback(Y.e,!0),D._isFateSealed()||D._setAsyncGuaranteed(),D},w.all=function(x){return new F(x).promise()},w.cast=function(x){var D=z(x);return D instanceof w||((D=new w(C))._captureStackTrace(),D._setFulfilled(),D._rejectionHandler0=x),D},w.resolve=w.fulfilled=w.cast,w.reject=w.rejected=function(x){var D=new w(C);return D._captureStackTrace(),D._rejectCallback(x,!0),D},w.setScheduler=function(x){if(typeof x!="function")throw new T("expecting a function but got "+v.classString(x));return m.setScheduler(x)},w.prototype._then=function(x,D,H,Y,K){var g=K!==void 0,_=g?K:new w(C),E=this._target(),N=E._bitField;g||(_._propagateFrom(this,3),_._captureStackTrace(),Y===void 0&&2097152&this._bitField&&(Y=50397184&N?this._boundValue():E===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,_));var R=d();if(50397184&N){var q,J,Z=E._settlePromiseCtx;33554432&N?(J=E._rejectionHandler0,q=x):16777216&N?(J=E._fulfillmentHandler0,q=D,E._unsetRejectionIsUnhandled()):(Z=E._settlePromiseLateCancellationObserver,J=new I("late cancellation observer"),E._attachExtraTrace(J),q=D),m.invoke(Z,E,{handler:R===null?q:typeof q=="function"&&v.domainBind(R,q),promise:_,receiver:Y,value:J})}else E._addCallbacks(x,D,_,Y,R);return _},w.prototype._length=function(){return 65535&this._bitField},w.prototype._isFateSealed=function(){return(117506048&this._bitField)!=0},w.prototype._isFollowing=function(){return(67108864&this._bitField)==67108864},w.prototype._setLength=function(x){this._bitField=-65536&this._bitField|65535&x},w.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},w.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},w.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},w.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},w.prototype._isFinal=function(){return(4194304&this._bitField)>0},w.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},w.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},w.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},w.prototype._setAsyncGuaranteed=function(){m.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},w.prototype._receiverAt=function(x){var D=x===0?this._receiver0:this[4*x-4+3];if(D!==p)return D===void 0&&this._isBound()?this._boundValue():D},w.prototype._promiseAt=function(x){return this[4*x-4+2]},w.prototype._fulfillmentHandlerAt=function(x){return this[4*x-4+0]},w.prototype._rejectionHandlerAt=function(x){return this[4*x-4+1]},w.prototype._boundValue=function(){},w.prototype._migrateCallback0=function(x){x._bitField;var D=x._fulfillmentHandler0,H=x._rejectionHandler0,Y=x._promise0,K=x._receiverAt(0);K===void 0&&(K=p),this._addCallbacks(D,H,Y,K,null)},w.prototype._migrateCallbackAt=function(x,D){var H=x._fulfillmentHandlerAt(D),Y=x._rejectionHandlerAt(D),K=x._promiseAt(D),g=x._receiverAt(D);g===void 0&&(g=p),this._addCallbacks(H,Y,K,g,null)},w.prototype._addCallbacks=function(x,D,H,Y,K){var g=this._length();if(g>=65531&&(g=0,this._setLength(0)),g===0)this._promise0=H,this._receiver0=Y,typeof x=="function"&&(this._fulfillmentHandler0=K===null?x:v.domainBind(K,x)),typeof D=="function"&&(this._rejectionHandler0=K===null?D:v.domainBind(K,D));else{var _=4*g-4;this[_+2]=H,this[_+3]=Y,typeof x=="function"&&(this[_+0]=K===null?x:v.domainBind(K,x)),typeof D=="function"&&(this[_+1]=K===null?D:v.domainBind(K,D))}return this._setLength(g+1),g},w.prototype._proxy=function(x,D){this._addCallbacks(void 0,void 0,D,x,null)},w.prototype._resolveCallback=function(x,D){if(!(117506048&this._bitField)){if(x===this)return this._rejectCallback(s(),!1);var H=z(x,this);if(!(H instanceof w))return this._fulfill(x);D&&this._propagateFrom(H,2);var Y=H._target();if(Y!==this){var K=Y._bitField;if(50397184&K)if(33554432&K)this._fulfill(Y._value());else if(16777216&K)this._reject(Y._reason());else{var E=new I("late cancellation observer");Y._attachExtraTrace(E),this._reject(E)}else{var g=this._length();g>0&&Y._migrateCallback0(this);for(var _=1;_<g;++_)Y._migrateCallbackAt(this,_);this._setFollowing(),this._setLength(0),this._setFollowee(Y)}}else this._reject(s())}},w.prototype._rejectCallback=function(x,D,H){var Y=v.ensureErrorObject(x),K=Y===x;if(!K&&!H&&B.warnings()){var g="a promise was rejected with a non-error: "+v.classString(x);this._warn(g,!0)}this._attachExtraTrace(Y,!!D&&K),this._reject(x)},w.prototype._resolveFromExecutor=function(x){if(x!==C){var D=this;this._captureStackTrace(),this._pushContext();var H=!0,Y=this._execute(x,function(K){D._resolveCallback(K)},function(K){D._rejectCallback(K,H)});H=!1,this._popContext(),Y!==void 0&&D._rejectCallback(Y,!0)}},w.prototype._settlePromiseFromHandler=function(x,D,H,Y){var K=Y._bitField;if(!(65536&K)){var g;Y._pushContext(),D===U?H&&typeof H.length=="number"?g=S(x).apply(this._boundValue(),H):(g=V).e=new T("cannot .spread() a non-array: "+v.classString(H)):g=S(x).call(D,H);var _=Y._popContext();!(65536&(K=Y._bitField))&&(g===G?Y._reject(H):g===V?Y._rejectCallback(g.e,!1):(B.checkForgottenReturns(g,_,"",Y,this),Y._resolveCallback(g)))}},w.prototype._target=function(){for(var x=this;x._isFollowing();)x=x._followee();return x},w.prototype._followee=function(){return this._rejectionHandler0},w.prototype._setFollowee=function(x){this._rejectionHandler0=x},w.prototype._settlePromise=function(x,D,H,Y){var K=x instanceof w,g=this._bitField,_=(134217728&g)!=0;65536&g?(K&&x._invokeInternalOnCancel(),H instanceof A&&H.isFinallyHandler()?(H.cancelPromise=x,S(D).call(H,Y)===V&&x._reject(V.e)):D===f?x._fulfill(f.call(H)):H instanceof h?H._promiseCancelled(x):K||x instanceof F?x._cancel():H.cancel()):typeof D=="function"?K?(_&&x._setAsyncGuaranteed(),this._settlePromiseFromHandler(D,H,Y,x)):D.call(H,Y,x):H instanceof h?H._isResolved()||(33554432&g?H._promiseFulfilled(Y,x):H._promiseRejected(Y,x)):K&&(_&&x._setAsyncGuaranteed(),33554432&g?x._fulfill(Y):x._reject(Y))},w.prototype._settlePromiseLateCancellationObserver=function(x){var D=x.handler,H=x.promise,Y=x.receiver,K=x.value;typeof D=="function"?H instanceof w?this._settlePromiseFromHandler(D,Y,K,H):D.call(Y,K,H):H instanceof w&&H._reject(K)},w.prototype._settlePromiseCtx=function(x){this._settlePromise(x.promise,x.handler,x.receiver,x.value)},w.prototype._settlePromise0=function(x,D,H){var Y=this._promise0,K=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(Y,x,K,D)},w.prototype._clearCallbackDataAtIndex=function(x){var D=4*x-4;this[D+2]=this[D+3]=this[D+0]=this[D+1]=void 0},w.prototype._fulfill=function(x){var D=this._bitField;if(!((117506048&D)>>>16)){if(x===this){var H=s();return this._attachExtraTrace(H),this._reject(H)}this._setFulfilled(),this._rejectionHandler0=x,(65535&D)>0&&(134217728&D?this._settlePromises():m.settlePromises(this))}},w.prototype._reject=function(x){var D=this._bitField;if(!((117506048&D)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=x,this._isFinal())return m.fatalError(x,v.isNode);(65535&D)>0?m.settlePromises(this):this._ensurePossibleRejectionHandled()}},w.prototype._fulfillPromises=function(x,D){for(var H=1;H<x;H++){var Y=this._fulfillmentHandlerAt(H),K=this._promiseAt(H),g=this._receiverAt(H);this._clearCallbackDataAtIndex(H),this._settlePromise(K,Y,g,D)}},w.prototype._rejectPromises=function(x,D){for(var H=1;H<x;H++){var Y=this._rejectionHandlerAt(H),K=this._promiseAt(H),g=this._receiverAt(H);this._clearCallbackDataAtIndex(H),this._settlePromise(K,Y,g,D)}},w.prototype._settlePromises=function(){var x=this._bitField,D=65535&x;if(D>0){if(16842752&x){var H=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,H,x),this._rejectPromises(D,H)}else{var Y=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,Y,x),this._fulfillPromises(D,Y)}this._setLength(0)}this._clearCancellationData()},w.prototype._settledValue=function(){var x=this._bitField;return 33554432&x?this._rejectionHandler0:16777216&x?this._fulfillmentHandler0:void 0},w.defer=w.pending=function(){return B.deprecated("Promise.defer","new Promise"),{promise:new w(C),resolve:O,reject:P}},v.notEnumerableProp(w,"_makeSelfResolutionError",s),o("./method")(w,C,z,l,B),o("./bind")(w,C,z,B),o("./cancel")(w,F,l,B),o("./direct_resolve")(w),o("./synchronous_inspection")(w),o("./join")(w,F,z,C,m,d),w.Promise=w,w.version="3.5.1",o("./map.js")(w,F,l,z,C,B),o("./call_get.js")(w),o("./using.js")(w,l,z,k,C,B),o("./timers.js")(w,C,B),o("./generators.js")(w,l,C,z,h,B),o("./nodeify.js")(w),o("./promisify.js")(w,C),o("./props.js")(w,F,z,l),o("./race.js")(w,C,z,l),o("./reduce.js")(w,F,l,z,C,B),o("./settle.js")(w,F,B),o("./some.js")(w,F,l),o("./filter.js")(w,C),o("./each.js")(w,C),o("./any.js")(w),v.toFastProperties(w),v.toFastProperties(w.prototype),M({a:1}),M({b:2}),M({c:3}),M(1),M(function(){}),M(void 0),M(!1),M(new w(C)),B.setBounds(y.firstLineError,v.lastLineError),w}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(o,u,c){u.exports=function(s,f,l,h,d){var p=o("./util");function v(b){var y=this._promise=new s(f);b instanceof s&&y._propagateFrom(b,3),y._setOnCancel(this),this._values=b,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return p.isArray,p.inherits(v,d),v.prototype.length=function(){return this._length},v.prototype.promise=function(){return this._promise},v.prototype._init=function b(y,m){var $=l(this._values,this._promise);if($ instanceof s){var T=($=$._target())._bitField;if(this._values=$,(50397184&T)==0)return this._promise._setAsyncGuaranteed(),$._then(b,this._reject,void 0,this,m);if(!(33554432&T))return 16777216&T?this._reject($._reason()):this._cancel();$=$._value()}if(($=p.asArray($))!==null)$.length!==0?this._iterate($):m===-5?this._resolveEmptyArray():this._resolve(function(C){switch(m){case-2:return[];case-3:return{};case-6:return new Map}}());else{var I=h("expecting an array or an iterable object but got "+p.classString($)).reason();this._promise._rejectCallback(I,!1)}},v.prototype._iterate=function(b){var y=this.getActualLength(b.length);this._length=y,this._values=this.shouldCopyValues()?new Array(y):this._values;for(var m=this._promise,$=!1,T=null,I=0;I<y;++I){var C=l(b[I],m);T=C instanceof s?(C=C._target())._bitField:null,$?T!==null&&C.suppressUnhandledRejections():T!==null?50397184&T?$=33554432&T?this._promiseFulfilled(C._value(),I):16777216&T?this._promiseRejected(C._reason(),I):this._promiseCancelled(I):(C._proxy(this,I),this._values[I]=C):$=this._promiseFulfilled(C,I)}$||m._setAsyncGuaranteed()},v.prototype._isResolved=function(){return this._values===null},v.prototype._resolve=function(b){this._values=null,this._promise._fulfill(b)},v.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},v.prototype._reject=function(b){this._values=null,this._promise._rejectCallback(b,!1)},v.prototype._promiseFulfilled=function(b,y){return this._values[y]=b,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},v.prototype._promiseCancelled=function(){return this._cancel(),!0},v.prototype._promiseRejected=function(b){return this._totalResolved++,this._reject(b),!0},v.prototype._resultCancelled=function(){if(!this._isResolved()){var b=this._values;if(this._cancel(),b instanceof s)b.cancel();else for(var y=0;y<b.length;++y)b[y]instanceof s&&b[y].cancel()}},v.prototype.shouldCopyValues=function(){return!0},v.prototype.getActualLength=function(b){return b},v}},{"./util":36}],24:[function(o,u,c){u.exports=function(s,f){var l={},h=o("./util"),d=o("./nodeback"),p=h.withAppended,v=h.maybeWrapAsError,b=h.canEvaluate,y=o("./errors").TypeError,m={__isPromisified__:!0},$=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),T=function(k){return h.isIdentifier(k)&&k.charAt(0)!=="_"&&k!=="constructor"};function I(k){return!$.test(k)}function C(k){try{return k.__isPromisified__===!0}catch{return!1}}function U(k,B,A){var L=h.getDataPropertyOrDefault(k,B+A,m);return!!L&&C(L)}function G(k,B,A,L){for(var W=h.inheritedDataKeys(k),V=[],S=0;S<W.length;++S){var w=W[S],O=k[w],P=L===T||T(w);typeof O!="function"||C(O)||U(k,w,B)||!L(w,O,k,P)||V.push(w,O)}return function(M,x,D){for(var H=0;H<M.length;H+=2){var Y=M[H];if(D.test(Y)){for(var K=Y.replace(D,""),g=0;g<M.length;g+=2)if(M[g]===K)throw new y(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",x))}}}(V,B,A),V}var z=function(k){return k.replace(/([$])/,"\\$")},F=b?void 0:function(k,B,A,L,W,V){var S=function(){return this}(),w=k;function O(){var P=B;B===l&&(P=this);var M=new s(f);M._captureStackTrace();var x=typeof w=="string"&&this!==S?this[w]:k,D=d(M,V);try{x.apply(P,p(arguments,D))}catch(H){M._rejectCallback(v(H),!0,!0)}return M._isFateSealed()||M._setAsyncGuaranteed(),M}return typeof w=="string"&&(k=L),h.notEnumerableProp(O,"__isPromisified__",!0),O};function j(k,B,A,L,W){for(var V=new RegExp(z(B)+"$"),S=G(k,B,V,A),w=0,O=S.length;w<O;w+=2){var P=S[w],M=S[w+1],x=P+B;if(L===F)k[x]=F(P,l,P,M,B,W);else{var D=L(M,function(){return F(P,l,P,M,B,W)});h.notEnumerableProp(D,"__isPromisified__",!0),k[x]=D}}return h.toFastProperties(k),k}s.promisify=function(k,B){if(typeof k!="function")throw new y("expecting a function but got "+h.classString(k));if(C(k))return k;var A=(B=Object(B)).context===void 0?l:B.context,L=!!B.multiArgs,W=function(V,S,w){return F(V,S,void 0,V,null,L)}(k,A);return h.copyDescriptors(k,W,I),W},s.promisifyAll=function(k,B){if(typeof k!="function"&&typeof k!="object")throw new y(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);var A=!!(B=Object(B)).multiArgs,L=B.suffix;typeof L!="string"&&(L="Async");var W=B.filter;typeof W!="function"&&(W=T);var V=B.promisifier;if(typeof V!="function"&&(V=F),!h.isIdentifier(L))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var S=h.inheritedDataKeys(k),w=0;w<S.length;++w){var O=k[S[w]];S[w]!=="constructor"&&h.isClass(O)&&(j(O.prototype,L,W,V,A),j(O,L,W,V,A))}return j(k,L,W,V,A)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(o,u,c){u.exports=function(s,f,l,h){var d,p=o("./util"),v=p.isObject,b=o("./es5");typeof Map=="function"&&(d=Map);var y=function(){var T=0,I=0;function C(U,G){this[T]=U,this[T+I]=G,T++}return function(U){I=U.size,T=0;var G=new Array(2*U.size);return U.forEach(C,G),G}}();function m(T){var I,C=!1;if(d!==void 0&&T instanceof d)I=y(T),C=!0;else{var U=b.keys(T),G=U.length;I=new Array(2*G);for(var z=0;z<G;++z){var F=U[z];I[z]=T[F],I[z+G]=F}}this.constructor$(I),this._isMap=C,this._init$(void 0,C?-6:-3)}function $(T){var I,C=l(T);return v(C)?(I=C instanceof s?C._then(s.props,void 0,void 0,void 0,void 0):new m(C).promise(),C instanceof s&&I._propagateFrom(C,2),I):h(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`)}p.inherits(m,f),m.prototype._init=function(){},m.prototype._promiseFulfilled=function(T,I){if(this._values[I]=T,++this._totalResolved>=this._length){var C;if(this._isMap)C=function(F){for(var j=new d,k=F.length/2|0,B=0;B<k;++B){var A=F[k+B],L=F[B];j.set(A,L)}return j}(this._values);else{C={};for(var U=this.length(),G=0,z=this.length();G<z;++G)C[this._values[G+U]]=this._values[G]}return this._resolve(C),!0}return!1},m.prototype.shouldCopyValues=function(){return!1},m.prototype.getActualLength=function(T){return T>>1},s.prototype.props=function(){return $(this)},s.props=function(T){return $(T)}}},{"./es5":13,"./util":36}],26:[function(o,u,c){function s(f){this._capacity=f,this._length=0,this._front=0}s.prototype._willBeOverCapacity=function(f){return this._capacity<f},s.prototype._pushOne=function(f){var l=this.length();this._checkCapacity(l+1),this[this._front+l&this._capacity-1]=f,this._length=l+1},s.prototype.push=function(f,l,h){var d=this.length()+3;if(this._willBeOverCapacity(d))return this._pushOne(f),this._pushOne(l),void this._pushOne(h);var p=this._front+d-3;this._checkCapacity(d);var v=this._capacity-1;this[p+0&v]=f,this[p+1&v]=l,this[p+2&v]=h,this._length=d},s.prototype.shift=function(){var f=this._front,l=this[f];return this[f]=void 0,this._front=f+1&this._capacity-1,this._length--,l},s.prototype.length=function(){return this._length},s.prototype._checkCapacity=function(f){this._capacity<f&&this._resizeTo(this._capacity<<1)},s.prototype._resizeTo=function(f){var l=this._capacity;this._capacity=f,function(h,d,p,v,b){for(var y=0;y<b;++y)p[y+v]=h[y+0],h[y+0]=void 0}(this,0,this,l,this._front+this._length&l-1)},u.exports=s},{}],27:[function(o,u,c){u.exports=function(s,f,l,h){var d=o("./util"),p=function(b){return b.then(function(y){return v(y,b)})};function v(b,y){var m=l(b);if(m instanceof s)return p(m);if((b=d.asArray(b))===null)return h("expecting an array or an iterable object but got "+d.classString(b));var $=new s(f);y!==void 0&&$._propagateFrom(y,3);for(var T=$._fulfill,I=$._reject,C=0,U=b.length;C<U;++C){var G=b[C];(G!==void 0||C in b)&&s.cast(G)._then(T,I,void 0,$,null)}return $}s.race=function(b){return v(b,void 0)},s.prototype.race=function(){return v(this,void 0)}}},{"./util":36}],28:[function(o,u,c){u.exports=function(s,f,l,h,d,p){var v=s._getDomain,b=o("./util"),y=b.tryCatch;function m(U,G,z,F){this.constructor$(U);var j=v();this._fn=j===null?G:b.domainBind(j,G),z!==void 0&&(z=s.resolve(z))._attachCancellationCallback(this),this._initialValue=z,this._currentCancellable=null,this._eachValues=F===d?Array(this._length):F===0?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function $(U,G){this.isFulfilled()?G._resolve(U):G._reject(U)}function T(U,G,z,F){return typeof G!="function"?l("expecting a function but got "+b.classString(G)):new m(U,G,z,F).promise()}function I(U){this.accum=U,this.array._gotAccum(U);var G=h(this.value,this.array._promise);return G instanceof s?(this.array._currentCancellable=G,G._then(C,void 0,void 0,this,void 0)):C.call(this,G)}function C(U){var G,z=this.array,F=z._promise,j=y(z._fn);F._pushContext(),(G=z._eachValues!==void 0?j.call(F._boundValue(),U,this.index,this.length):j.call(F._boundValue(),this.accum,U,this.index,this.length))instanceof s&&(z._currentCancellable=G);var k=F._popContext();return p.checkForgottenReturns(G,k,z._eachValues!==void 0?"Promise.each":"Promise.reduce",F),G}b.inherits(m,f),m.prototype._gotAccum=function(U){this._eachValues!==void 0&&this._eachValues!==null&&U!==d&&this._eachValues.push(U)},m.prototype._eachComplete=function(U){return this._eachValues!==null&&this._eachValues.push(U),this._eachValues},m.prototype._init=function(){},m.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},m.prototype.shouldCopyValues=function(){return!1},m.prototype._resolve=function(U){this._promise._resolveCallback(U),this._values=null},m.prototype._resultCancelled=function(U){if(U===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof s&&this._currentCancellable.cancel(),this._initialValue instanceof s&&this._initialValue.cancel())},m.prototype._iterate=function(U){var G,z;this._values=U;var F=U.length;if(this._initialValue!==void 0?(G=this._initialValue,z=0):(G=s.resolve(U[0]),z=1),this._currentCancellable=G,!G.isRejected())for(;z<F;++z){var j={accum:null,value:U[z],index:z,length:F,array:this};G=G._then(I,void 0,void 0,j,void 0)}this._eachValues!==void 0&&(G=G._then(this._eachComplete,void 0,void 0,this,void 0)),G._then($,$,void 0,G,this)},s.prototype.reduce=function(U,G){return T(this,U,G,null)},s.reduce=function(U,G,z,F){return T(U,G,z,F)}}},{"./util":36}],29:[function(o,u,c){var s,f=o("./util"),l=f.getNativePromise();if(f.isNode&&typeof MutationObserver>"u"){var h=i.setImmediate,d=n.nextTick;s=f.isRecentNode?function(v){h.call(i,v)}:function(v){d.call(n,v)}}else if(typeof l=="function"&&typeof l.resolve=="function"){var p=l.resolve();s=function(v){p.then(v)}}else s=typeof MutationObserver>"u"||typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova)?a!==void 0?function(v){a(v)}:typeof setTimeout<"u"?function(v){setTimeout(v,0)}:function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}:function(){var v=document.createElement("div"),b={attributes:!0},y=!1,m=document.createElement("div");return new MutationObserver(function(){v.classList.toggle("foo"),y=!1}).observe(m,b),function($){var T=new MutationObserver(function(){T.disconnect(),$()});T.observe(v,b),y||(y=!0,m.classList.toggle("foo"))}}();u.exports=s},{"./util":36}],30:[function(o,u,c){u.exports=function(s,f,l){var h=s.PromiseInspection;function d(p){this.constructor$(p)}o("./util").inherits(d,f),d.prototype._promiseResolved=function(p,v){return this._values[p]=v,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},d.prototype._promiseFulfilled=function(p,v){var b=new h;return b._bitField=33554432,b._settledValueField=p,this._promiseResolved(v,b)},d.prototype._promiseRejected=function(p,v){var b=new h;return b._bitField=16777216,b._settledValueField=p,this._promiseResolved(v,b)},s.settle=function(p){return l.deprecated(".settle()",".reflect()"),new d(p).promise()},s.prototype.settle=function(){return s.settle(this)}}},{"./util":36}],31:[function(o,u,c){u.exports=function(s,f,l){var h=o("./util"),d=o("./errors").RangeError,p=o("./errors").AggregateError,v=h.isArray,b={};function y($){this.constructor$($),this._howMany=0,this._unwrap=!1,this._initialized=!1}function m($,T){if((0|T)!==T||T<0)return l(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var I=new y($),C=I.promise();return I.setHowMany(T),I.init(),C}h.inherits(y,f),y.prototype._init=function(){if(this._initialized)if(this._howMany!==0){this._init$(void 0,-5);var $=v(this._values);!this._isResolved()&&$&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},y.prototype.init=function(){this._initialized=!0,this._init()},y.prototype.setUnwrap=function(){this._unwrap=!0},y.prototype.howMany=function(){return this._howMany},y.prototype.setHowMany=function($){this._howMany=$},y.prototype._promiseFulfilled=function($){return this._addFulfilled($),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},y.prototype._promiseRejected=function($){return this._addRejected($),this._checkOutcome()},y.prototype._promiseCancelled=function(){return this._values instanceof s||this._values==null?this._cancel():(this._addRejected(b),this._checkOutcome())},y.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var $=new p,T=this.length();T<this._values.length;++T)this._values[T]!==b&&$.push(this._values[T]);return $.length>0?this._reject($):this._cancel(),!0}return!1},y.prototype._fulfilled=function(){return this._totalResolved},y.prototype._rejected=function(){return this._values.length-this.length()},y.prototype._addRejected=function($){this._values.push($)},y.prototype._addFulfilled=function($){this._values[this._totalResolved++]=$},y.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},y.prototype._getRangeError=function($){var T="Input array must contain at least "+this._howMany+" items but contains only "+$+" items";return new d(T)},y.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},s.some=function($,T){return m($,T)},s.prototype.some=function($){return m(this,$)},s._SomePromiseArray=y}},{"./errors":12,"./util":36}],32:[function(o,u,c){u.exports=function(s){function f(y){y!==void 0?(y=y._target(),this._bitField=y._bitField,this._settledValueField=y._isFateSealed()?y._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}f.prototype._settledValue=function(){return this._settledValueField};var l=f.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},h=f.prototype.error=f.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},d=f.prototype.isFulfilled=function(){return(33554432&this._bitField)!=0},p=f.prototype.isRejected=function(){return(16777216&this._bitField)!=0},v=f.prototype.isPending=function(){return(50397184&this._bitField)==0},b=f.prototype.isResolved=function(){return(50331648&this._bitField)!=0};f.prototype.isCancelled=function(){return(8454144&this._bitField)!=0},s.prototype.__isCancelled=function(){return(65536&this._bitField)==65536},s.prototype._isCancelled=function(){return this._target().__isCancelled()},s.prototype.isCancelled=function(){return(8454144&this._target()._bitField)!=0},s.prototype.isPending=function(){return v.call(this._target())},s.prototype.isRejected=function(){return p.call(this._target())},s.prototype.isFulfilled=function(){return d.call(this._target())},s.prototype.isResolved=function(){return b.call(this._target())},s.prototype.value=function(){return l.call(this._target())},s.prototype.reason=function(){var y=this._target();return y._unsetRejectionIsUnhandled(),h.call(y)},s.prototype._value=function(){return this._settledValue()},s.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},s.PromiseInspection=f}},{}],33:[function(o,u,c){u.exports=function(s,f){var l=o("./util"),h=l.errorObj,d=l.isObject,p={}.hasOwnProperty;return function(v,b){if(d(v)){if(v instanceof s)return v;var y=function($){try{return function(T){return T.then}($)}catch(T){return h.e=T,h}}(v);if(y===h){b&&b._pushContext();var m=s.reject(y.e);return b&&b._popContext(),m}if(typeof y=="function")return function($){try{return p.call($,"_promise0")}catch{return!1}}(v)?(m=new s(f),v._then(m._fulfill,m._reject,void 0,m,null),m):function($,T,I){var C=new s(f),U=C;I&&I._pushContext(),C._captureStackTrace(),I&&I._popContext();var G=!0,z=l.tryCatch(T).call($,function(F){C&&(C._resolveCallback(F),C=null)},function(F){C&&(C._rejectCallback(F,G,!0),C=null)});return G=!1,C&&z===h&&(C._rejectCallback(z.e,!0,!0),C=null),U}(v,y,b)}return v}}},{"./util":36}],34:[function(o,u,c){u.exports=function(s,f,l){var h=o("./util"),d=s.TimeoutError;function p($){this.handle=$}p.prototype._resultCancelled=function(){clearTimeout(this.handle)};var v=function($){return b(+this).thenReturn($)},b=s.delay=function($,T){var I,C;return T!==void 0?(I=s.resolve(T)._then(v,null,null,$,void 0),l.cancellation()&&T instanceof s&&I._setOnCancel(T)):(I=new s(f),C=setTimeout(function(){I._fulfill()},+$),l.cancellation()&&I._setOnCancel(new p(C)),I._captureStackTrace()),I._setAsyncGuaranteed(),I};function y($){return clearTimeout(this.handle),$}function m($){throw clearTimeout(this.handle),$}s.prototype.delay=function($){return b($,this)},s.prototype.timeout=function($,T){var I,C;$=+$;var U=new p(setTimeout(function(){I.isPending()&&function(G,z,F){var j;j=typeof z!="string"?z instanceof Error?z:new d("operation timed out"):new d(z),h.markAsOriginatingFromRejection(j),G._attachExtraTrace(j),G._reject(j),F!=null&&F.cancel()}(I,T,C)},$));return l.cancellation()?(C=this.then(),(I=C._then(y,m,void 0,U,void 0))._setOnCancel(U)):I=this._then(y,m,void 0,U,void 0),I}}},{"./util":36}],35:[function(o,u,c){u.exports=function(s,f,l,h,d,p){var v=o("./util"),b=o("./errors").TypeError,y=o("./util").inherits,m=v.errorObj,$=v.tryCatch,T={};function I(j){setTimeout(function(){throw j},0)}function C(j,k){var B=0,A=j.length,L=new s(d);return function W(){if(B>=A)return L._fulfill();var V=function(S){var w=l(S);return w!==S&&typeof S._isDisposable=="function"&&typeof S._getDisposer=="function"&&S._isDisposable()&&w._setDisposable(S._getDisposer()),w}(j[B++]);if(V instanceof s&&V._isDisposable()){try{V=l(V._getDisposer().tryDispose(k),j.promise)}catch(S){return I(S)}if(V instanceof s)return V._then(W,I,null,null,null)}W()}(),L}function U(j,k,B){this._data=j,this._promise=k,this._context=B}function G(j,k,B){this.constructor$(j,k,B)}function z(j){return U.isDisposer(j)?(this.resources[this.index]._setDisposable(j),j.promise()):j}function F(j){this.length=j,this.promise=null,this[j-1]=null}U.prototype.data=function(){return this._data},U.prototype.promise=function(){return this._promise},U.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():T},U.prototype.tryDispose=function(j){var k=this.resource(),B=this._context;B!==void 0&&B._pushContext();var A=k!==T?this.doDispose(k,j):null;return B!==void 0&&B._popContext(),this._promise._unsetDisposable(),this._data=null,A},U.isDisposer=function(j){return j!=null&&typeof j.resource=="function"&&typeof j.tryDispose=="function"},y(G,U),G.prototype.doDispose=function(j,k){return this.data().call(j,j,k)},F.prototype._resultCancelled=function(){for(var j=this.length,k=0;k<j;++k){var B=this[k];B instanceof s&&B.cancel()}},s.using=function(){var j=arguments.length;if(j<2)return f("you must pass at least 2 arguments to Promise.using");var k,B=arguments[j-1];if(typeof B!="function")return f("expecting a function but got "+v.classString(B));var A=!0;j===2&&Array.isArray(arguments[0])?(j=(k=arguments[0]).length,A=!1):(k=arguments,j--);for(var L=new F(j),W=0;W<j;++W){var V=k[W];if(U.isDisposer(V)){var S=V;(V=V.promise())._setDisposable(S)}else{var w=l(V);w instanceof s&&(V=w._then(z,null,null,{resources:L,index:W},void 0))}L[W]=V}var O=new Array(L.length);for(W=0;W<O.length;++W)O[W]=s.resolve(L[W]).reflect();var P=s.all(O).then(function(x){for(var D=0;D<x.length;++D){var H=x[D];if(H.isRejected())return m.e=H.error(),m;if(!H.isFulfilled())return void P.cancel();x[D]=H.value()}M._pushContext(),B=$(B);var Y=A?B.apply(void 0,x):B(x),K=M._popContext();return p.checkForgottenReturns(Y,K,"Promise.using",M),Y}),M=P.lastly(function(){var x=new s.PromiseInspection(P);return C(L,x)});return L.promise=M,M._setOnCancel(L),M},s.prototype._setDisposable=function(j){this._bitField=131072|this._bitField,this._disposer=j},s.prototype._isDisposable=function(){return(131072&this._bitField)>0},s.prototype._getDisposer=function(){return this._disposer},s.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},s.prototype.disposer=function(j){if(typeof j=="function")return new G(j,this,h());throw new b}}},{"./errors":12,"./util":36}],36:[function(o,u,c){var s,f=o("./es5"),l=typeof navigator>"u",h={e:{}},d=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:this!==void 0?this:null;function p(){try{var A=s;return s=null,A.apply(this,arguments)}catch(L){return h.e=L,h}}function v(A){return A==null||A===!0||A===!1||typeof A=="string"||typeof A=="number"}function b(A,L,W){if(v(A))return A;var V={value:W,configurable:!0,enumerable:!1,writable:!0};return f.defineProperty(A,L,V),A}var y=function(){var A=[Array.prototype,Object.prototype,Function.prototype],L=function(S){for(var w=0;w<A.length;++w)if(A[w]===S)return!0;return!1};if(f.isES5){var W=Object.getOwnPropertyNames;return function(S){for(var w=[],O=Object.create(null);S!=null&&!L(S);){var P;try{P=W(S)}catch{return w}for(var M=0;M<P.length;++M){var x=P[M];if(!O[x]){O[x]=!0;var D=Object.getOwnPropertyDescriptor(S,x);D!=null&&D.get==null&&D.set==null&&w.push(x)}}S=f.getPrototypeOf(S)}return w}}var V={}.hasOwnProperty;return function(S){if(L(S))return[];var w=[];e:for(var O in S)if(V.call(S,O))w.push(O);else{for(var P=0;P<A.length;++P)if(V.call(A[P],O))continue e;w.push(O)}return w}}(),m=/this\s*\.\s*\S+\s*=/,$=/^[a-z$_][a-z$_0-9]*$/i;function T(A){try{return A+""}catch{return"[no string representation]"}}function I(A){return A instanceof Error||A!==null&&typeof A=="object"&&typeof A.message=="string"&&typeof A.name=="string"}function C(A){return I(A)&&f.propertyIsWritable(A,"stack")}var U="stack"in new Error?function(A){return C(A)?A:new Error(T(A))}:function(A){if(C(A))return A;try{throw new Error(T(A))}catch(L){return L}};function G(A){return{}.toString.call(A)}var z=function(A){return f.isArray(A)?A:null};if(typeof Symbol<"u"&&Symbol.iterator){var F=typeof Array.from=="function"?function(A){return Array.from(A)}:function(A){for(var L,W=[],V=A[Symbol.iterator]();!(L=V.next()).done;)W.push(L.value);return W};z=function(A){return f.isArray(A)?A:A!=null&&typeof A[Symbol.iterator]=="function"?F(A):null}}var j=n!==void 0&&G(n).toLowerCase()==="[object process]",k=n!==void 0&&n.env!==void 0,B={isClass:function(A){try{if(typeof A=="function"){var L=f.names(A.prototype),W=f.isES5&&L.length>1,V=L.length>0&&!(L.length===1&&L[0]==="constructor"),S=m.test(A+"")&&f.names(A).length>0;if(W||V||S)return!0}return!1}catch{return!1}},isIdentifier:function(A){return $.test(A)},inheritedDataKeys:y,getDataPropertyOrDefault:function(A,L,W){if(!f.isES5)return{}.hasOwnProperty.call(A,L)?A[L]:void 0;var V=Object.getOwnPropertyDescriptor(A,L);return V!=null?V.get==null&&V.set==null?V.value:W:void 0},thrower:function(A){throw A},isArray:f.isArray,asArray:z,notEnumerableProp:b,isPrimitive:v,isObject:function(A){return typeof A=="function"||typeof A=="object"&&A!==null},isError:I,canEvaluate:l,errorObj:h,tryCatch:function(A){return s=A,p},inherits:function(A,L){var W={}.hasOwnProperty;function V(){for(var S in this.constructor=A,this.constructor$=L,L.prototype)W.call(L.prototype,S)&&S.charAt(S.length-1)!=="$"&&(this[S+"$"]=L.prototype[S])}return V.prototype=L.prototype,A.prototype=new V,A.prototype},withAppended:function(A,L){var W,V=A.length,S=new Array(V+1);for(W=0;W<V;++W)S[W]=A[W];return S[W]=L,S},maybeWrapAsError:function(A){return v(A)?new Error(T(A)):A},toFastProperties:function(A){return A},filledRange:function(A,L,W){for(var V=new Array(A),S=0;S<A;++S)V[S]=L+S+W;return V},toString:T,canAttachTrace:C,ensureErrorObject:U,originatesFromRejection:function(A){return A!=null&&(A instanceof Error.__BluebirdErrorTypes__.OperationalError||A.isOperational===!0)},markAsOriginatingFromRejection:function(A){try{b(A,"isOperational",!0)}catch{}},classString:G,copyDescriptors:function(A,L,W){for(var V=f.names(A),S=0;S<V.length;++S){var w=V[S];if(W(w))try{f.defineProperty(L,w,f.getDescriptor(A,w))}catch{}}},hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:j,hasEnvVariables:k,env:function(A){return k?n.env[A]:void 0},global:d,getNativePromise:function(){if(typeof Promise=="function")try{var A=new Promise(function(){});if({}.toString.call(A)==="[object Promise]")return Promise}catch{}},domainBind:function(A,L){return A.bind(L)}};B.isRecentNode=B.isNode&&function(){var A=n.versions.node.split(".").map(Number);return A[0]===0&&A[1]>10||A[0]>0}(),B.isNode&&B.toFastProperties(n);try{throw new Error}catch(A){B.lastLineError=A}u.exports=B},{"./es5":13}]},{},[4])(4),typeof window<"u"&&window!==null?window.P=window.Promise:typeof self<"u"&&self!==null&&(self.P=self.Promise)}).call(this,r(4),r(0),r(11).setImmediate)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(n,i){if(!i.eol&&n){for(var a=0,o=n.length;a<o;a++)if(n[a]==="\r"){if(n[a+1]===`
`){i.eol=`\r
`;break}if(n[a+1]){i.eol="\r";break}}else if(n[a]===`
`){i.eol=`
`;break}}return i.eol||`
`}},function(e,t,r){var n=r(65),i=r(73);e.exports=function(a,o){var u=i(a,o);return n(u)?u:void 0}},function(e,t,r){var n=r(19).Symbol;e.exports=n},function(e,t,r){var n=r(67),i=typeof self=="object"&&self&&self.Object===Object&&self,a=n||i||Function("return this")();e.exports=a},function(e,t){e.exports=function(r){var n=typeof r;return r!=null&&(n=="object"||n=="function")}},function(e,t){var r=Array.isArray;e.exports=r},function(e,t,r){var n=r(30),i=r(76);e.exports=function(a){return typeof a=="symbol"||i(a)&&n(a)=="[object Symbol]"}},function(e,t,r){(function(n,i){var a=r(6);e.exports=T;var o,u=r(37);T.ReadableState=$,r(12).EventEmitter;var c=function(O,P){return O.listeners(P).length},s=r(24),f=r(7).Buffer,l=n.Uint8Array||function(){},h=r(5);h.inherits=r(2);var d=r(41),p=void 0;p=d&&d.debuglog?d.debuglog("stream"):function(){};var v,b=r(42),y=r(25);h.inherits(T,s);var m=["error","close","destroy","pause","resume"];function $(O,P){o=o||r(1),O=O||{};var M=P instanceof o;this.objectMode=!!O.objectMode,M&&(this.objectMode=this.objectMode||!!O.readableObjectMode);var x=O.highWaterMark,D=O.readableHighWaterMark,H=this.objectMode?16:16384;this.highWaterMark=x||x===0?x:M&&(D||D===0)?D:H,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=O.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,O.encoding&&(v||(v=r(26).StringDecoder),this.decoder=new v(O.encoding),this.encoding=O.encoding)}function T(O){if(o=o||r(1),!(this instanceof T))return new T(O);this._readableState=new $(O,this),this.readable=!0,O&&(typeof O.read=="function"&&(this._read=O.read),typeof O.destroy=="function"&&(this._destroy=O.destroy)),s.call(this)}function I(O,P,M,x,D){var H,Y=O._readableState;return P===null?(Y.reading=!1,function(K,g){if(!g.ended){if(g.decoder){var _=g.decoder.end();_&&_.length&&(g.buffer.push(_),g.length+=g.objectMode?1:_.length)}g.ended=!0,z(K)}}(O,Y)):(D||(H=function(K,g){var _;return function(E){return f.isBuffer(E)||E instanceof l}(g)||typeof g=="string"||g===void 0||K.objectMode||(_=new TypeError("Invalid non-string/buffer chunk")),_}(Y,P)),H?O.emit("error",H):Y.objectMode||P&&P.length>0?(typeof P=="string"||Y.objectMode||Object.getPrototypeOf(P)===f.prototype||(P=function(K){return f.from(K)}(P)),x?Y.endEmitted?O.emit("error",new Error("stream.unshift() after end event")):C(O,Y,P,!0):Y.ended?O.emit("error",new Error("stream.push() after EOF")):(Y.reading=!1,Y.decoder&&!M?(P=Y.decoder.write(P),Y.objectMode||P.length!==0?C(O,Y,P,!1):j(O,Y)):C(O,Y,P,!1))):x||(Y.reading=!1)),function(K){return!K.ended&&(K.needReadable||K.length<K.highWaterMark||K.length===0)}(Y)}function C(O,P,M,x){P.flowing&&P.length===0&&!P.sync?(O.emit("data",M),O.read(0)):(P.length+=P.objectMode?1:M.length,x?P.buffer.unshift(M):P.buffer.push(M),P.needReadable&&z(O)),j(O,P)}Object.defineProperty(T.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(O){this._readableState&&(this._readableState.destroyed=O)}}),T.prototype.destroy=y.destroy,T.prototype._undestroy=y.undestroy,T.prototype._destroy=function(O,P){this.push(null),P(O)},T.prototype.push=function(O,P){var M,x=this._readableState;return x.objectMode?M=!0:typeof O=="string"&&((P=P||x.defaultEncoding)!==x.encoding&&(O=f.from(O,P),P=""),M=!0),I(this,O,P,!1,M)},T.prototype.unshift=function(O){return I(this,O,null,!0,!1)},T.prototype.isPaused=function(){return this._readableState.flowing===!1},T.prototype.setEncoding=function(O){return v||(v=r(26).StringDecoder),this._readableState.decoder=new v(O),this._readableState.encoding=O,this};var U=8388608;function G(O,P){return O<=0||P.length===0&&P.ended?0:P.objectMode?1:O!=O?P.flowing&&P.length?P.buffer.head.data.length:P.length:(O>P.highWaterMark&&(P.highWaterMark=function(M){return M>=U?M=U:(M--,M|=M>>>1,M|=M>>>2,M|=M>>>4,M|=M>>>8,M|=M>>>16,M++),M}(O)),O<=P.length?O:P.ended?P.length:(P.needReadable=!0,0))}function z(O){var P=O._readableState;P.needReadable=!1,P.emittedReadable||(p("emitReadable",P.flowing),P.emittedReadable=!0,P.sync?a.nextTick(F,O):F(O))}function F(O){p("emit readable"),O.emit("readable"),L(O)}function j(O,P){P.readingMore||(P.readingMore=!0,a.nextTick(k,O,P))}function k(O,P){for(var M=P.length;!P.reading&&!P.flowing&&!P.ended&&P.length<P.highWaterMark&&(p("maybeReadMore read 0"),O.read(0),M!==P.length);)M=P.length;P.readingMore=!1}function B(O){p("readable nexttick read 0"),O.read(0)}function A(O,P){P.reading||(p("resume read 0"),O.read(0)),P.resumeScheduled=!1,P.awaitDrain=0,O.emit("resume"),L(O),P.flowing&&!P.reading&&O.read(0)}function L(O){var P=O._readableState;for(p("flow",P.flowing);P.flowing&&O.read()!==null;);}function W(O,P){return P.length===0?null:(P.objectMode?M=P.buffer.shift():!O||O>=P.length?(M=P.decoder?P.buffer.join(""):P.buffer.length===1?P.buffer.head.data:P.buffer.concat(P.length),P.buffer.clear()):M=function(x,D,H){var Y;return x<D.head.data.length?(Y=D.head.data.slice(0,x),D.head.data=D.head.data.slice(x)):Y=x===D.head.data.length?D.shift():H?function(K,g){var _=g.head,E=1,N=_.data;for(K-=N.length;_=_.next;){var R=_.data,q=K>R.length?R.length:K;if(q===R.length?N+=R:N+=R.slice(0,K),(K-=q)==0){q===R.length?(++E,_.next?g.head=_.next:g.head=g.tail=null):(g.head=_,_.data=R.slice(q));break}++E}return g.length-=E,N}(x,D):function(K,g){var _=f.allocUnsafe(K),E=g.head,N=1;for(E.data.copy(_),K-=E.data.length;E=E.next;){var R=E.data,q=K>R.length?R.length:K;if(R.copy(_,_.length-K,0,q),(K-=q)==0){q===R.length?(++N,E.next?g.head=E.next:g.head=g.tail=null):(g.head=E,E.data=R.slice(q));break}++N}return g.length-=N,_}(x,D),Y}(O,P.buffer,P.decoder),M);var M}function V(O){var P=O._readableState;if(P.length>0)throw new Error('"endReadable()" called on non-empty stream');P.endEmitted||(P.ended=!0,a.nextTick(S,P,O))}function S(O,P){O.endEmitted||O.length!==0||(O.endEmitted=!0,P.readable=!1,P.emit("end"))}function w(O,P){for(var M=0,x=O.length;M<x;M++)if(O[M]===P)return M;return-1}T.prototype.read=function(O){p("read",O),O=parseInt(O,10);var P=this._readableState,M=O;if(O!==0&&(P.emittedReadable=!1),O===0&&P.needReadable&&(P.length>=P.highWaterMark||P.ended))return p("read: emitReadable",P.length,P.ended),P.length===0&&P.ended?V(this):z(this),null;if((O=G(O,P))===0&&P.ended)return P.length===0&&V(this),null;var x,D=P.needReadable;return p("need readable",D),(P.length===0||P.length-O<P.highWaterMark)&&p("length less than watermark",D=!0),P.ended||P.reading?p("reading or ended",D=!1):D&&(p("do read"),P.reading=!0,P.sync=!0,P.length===0&&(P.needReadable=!0),this._read(P.highWaterMark),P.sync=!1,P.reading||(O=G(M,P))),(x=O>0?W(O,P):null)===null?(P.needReadable=!0,O=0):P.length-=O,P.length===0&&(P.ended||(P.needReadable=!0),M!==O&&P.ended&&V(this)),x!==null&&this.emit("data",x),x},T.prototype._read=function(O){this.emit("error",new Error("_read() is not implemented"))},T.prototype.pipe=function(O,P){var M=this,x=this._readableState;switch(x.pipesCount){case 0:x.pipes=O;break;case 1:x.pipes=[x.pipes,O];break;default:x.pipes.push(O)}x.pipesCount+=1,p("pipe count=%d opts=%j",x.pipesCount,P);var D=P&&P.end===!1||O===i.stdout||O===i.stderr?q:H;function H(){p("onend"),O.end()}x.endEmitted?a.nextTick(D):M.once("end",D),O.on("unpipe",function J(Z,re){p("onunpipe"),Z===M&&re&&re.hasUnpiped===!1&&(re.hasUnpiped=!0,p("cleanup"),O.removeListener("close",N),O.removeListener("finish",R),O.removeListener("drain",Y),O.removeListener("error",E),O.removeListener("unpipe",J),M.removeListener("end",H),M.removeListener("end",q),M.removeListener("data",_),K=!0,!x.awaitDrain||O._writableState&&!O._writableState.needDrain||Y())});var Y=function(J){return function(){var Z=J._readableState;p("pipeOnDrain",Z.awaitDrain),Z.awaitDrain&&Z.awaitDrain--,Z.awaitDrain===0&&c(J,"data")&&(Z.flowing=!0,L(J))}}(M);O.on("drain",Y);var K=!1,g=!1;function _(J){p("ondata"),g=!1,O.write(J)!==!1||g||((x.pipesCount===1&&x.pipes===O||x.pipesCount>1&&w(x.pipes,O)!==-1)&&!K&&(p("false write response, pause",M._readableState.awaitDrain),M._readableState.awaitDrain++,g=!0),M.pause())}function E(J){p("onerror",J),q(),O.removeListener("error",E),c(O,"error")===0&&O.emit("error",J)}function N(){O.removeListener("finish",R),q()}function R(){p("onfinish"),O.removeListener("close",N),q()}function q(){p("unpipe"),M.unpipe(O)}return M.on("data",_),function(J,Z,re){if(typeof J.prependListener=="function")return J.prependListener(Z,re);J._events&&J._events[Z]?u(J._events[Z])?J._events[Z].unshift(re):J._events[Z]=[re,J._events[Z]]:J.on(Z,re)}(O,"error",E),O.once("close",N),O.once("finish",R),O.emit("pipe",M),x.flowing||(p("pipe resume"),M.resume()),O},T.prototype.unpipe=function(O){var P=this._readableState,M={hasUnpiped:!1};if(P.pipesCount===0)return this;if(P.pipesCount===1)return O&&O!==P.pipes?this:(O||(O=P.pipes),P.pipes=null,P.pipesCount=0,P.flowing=!1,O&&O.emit("unpipe",this,M),this);if(!O){var x=P.pipes,D=P.pipesCount;P.pipes=null,P.pipesCount=0,P.flowing=!1;for(var H=0;H<D;H++)x[H].emit("unpipe",this,M);return this}var Y=w(P.pipes,O);return Y===-1?this:(P.pipes.splice(Y,1),P.pipesCount-=1,P.pipesCount===1&&(P.pipes=P.pipes[0]),O.emit("unpipe",this,M),this)},T.prototype.on=function(O,P){var M=s.prototype.on.call(this,O,P);if(O==="data")this._readableState.flowing!==!1&&this.resume();else if(O==="readable"){var x=this._readableState;x.endEmitted||x.readableListening||(x.readableListening=x.needReadable=!0,x.emittedReadable=!1,x.reading?x.length&&z(this):a.nextTick(B,this))}return M},T.prototype.addListener=T.prototype.on,T.prototype.resume=function(){var O=this._readableState;return O.flowing||(p("resume"),O.flowing=!0,function(P,M){M.resumeScheduled||(M.resumeScheduled=!0,a.nextTick(A,P,M))}(this,O)),this},T.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},T.prototype.wrap=function(O){var P=this,M=this._readableState,x=!1;for(var D in O.on("end",function(){if(p("wrapped end"),M.decoder&&!M.ended){var Y=M.decoder.end();Y&&Y.length&&P.push(Y)}P.push(null)}),O.on("data",function(Y){p("wrapped data"),M.decoder&&(Y=M.decoder.write(Y)),(!M.objectMode||Y!=null)&&(M.objectMode||Y&&Y.length)&&(P.push(Y)||(x=!0,O.pause()))}),O)this[D]===void 0&&typeof O[D]=="function"&&(this[D]=function(Y){return function(){return O[Y].apply(O,arguments)}}(D));for(var H=0;H<m.length;H++)O.on(m[H],this.emit.bind(this,m[H]));return this._read=function(Y){p("wrapped _read",Y),x&&(x=!1,O.resume())},this},Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),T._fromList=W}).call(this,r(0),r(4))},function(e,t,r){e.exports=r(12).EventEmitter},function(e,t,r){var n=r(6);function i(a,o){a.emit("error",o)}e.exports={destroy:function(a,o){var u=this,c=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return c||s?(o?o(a):!a||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,a),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(f){!o&&f?(n.nextTick(i,u,f),u._writableState&&(u._writableState.errorEmitted=!0)):o&&o(f)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){var n=r(7).Buffer,i=n.isEncoding||function(p){switch((p=""+p)&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(p){var v;switch(this.encoding=function(b){var y=function(m){if(!m)return"utf8";for(var $;;)switch(m){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return m;default:if($)return;m=(""+m).toLowerCase(),$=!0}}(b);if(typeof y!="string"&&(n.isEncoding===i||!i(b)))throw new Error("Unknown encoding: "+b);return y||b}(p),this.encoding){case"utf16le":this.text=c,this.end=s,v=4;break;case"utf8":this.fillLast=u,v=4;break;case"base64":this.text=f,this.end=l,v=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(v)}function o(p){return p<=127?0:p>>5==6?2:p>>4==14?3:p>>3==30?4:p>>6==2?-1:-2}function u(p){var v=this.lastTotal-this.lastNeed,b=function(y,m,$){if((192&m[0])!=128)return y.lastNeed=0,"�";if(y.lastNeed>1&&m.length>1){if((192&m[1])!=128)return y.lastNeed=1,"�";if(y.lastNeed>2&&m.length>2&&(192&m[2])!=128)return y.lastNeed=2,"�"}}(this,p);return b!==void 0?b:this.lastNeed<=p.length?(p.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(p.copy(this.lastChar,v,0,p.length),void(this.lastNeed-=p.length))}function c(p,v){if((p.length-v)%2==0){var b=p.toString("utf16le",v);if(b){var y=b.charCodeAt(b.length-1);if(y>=55296&&y<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],b.slice(0,-1)}return b}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",v,p.length-1)}function s(p){var v=p&&p.length?this.write(p):"";if(this.lastNeed){var b=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,b)}return v}function f(p,v){var b=(p.length-v)%3;return b===0?p.toString("base64",v):(this.lastNeed=3-b,this.lastTotal=3,b===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",v,p.length-b))}function l(p){var v=p&&p.length?this.write(p):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function h(p){return p.toString(this.encoding)}function d(p){return p&&p.length?this.write(p):""}t.StringDecoder=a,a.prototype.write=function(p){if(p.length===0)return"";var v,b;if(this.lastNeed){if((v=this.fillLast(p))===void 0)return"";b=this.lastNeed,this.lastNeed=0}else b=0;return b<p.length?v?v+this.text(p,b):this.text(p,b):v||""},a.prototype.end=function(p){var v=p&&p.length?this.write(p):"";return this.lastNeed?v+"�":v},a.prototype.text=function(p,v){var b=function(m,$,T){var I=$.length-1;if(I<T)return 0;var C=o($[I]);return C>=0?(C>0&&(m.lastNeed=C-1),C):--I<T||C===-2?0:(C=o($[I]))>=0?(C>0&&(m.lastNeed=C-2),C):--I<T||C===-2?0:(C=o($[I]))>=0?(C>0&&(C===2?C=0:m.lastNeed=C-3),C):0}(this,p,v);if(!this.lastNeed)return p.toString("utf8",v);this.lastTotal=b;var y=p.length-(b-this.lastNeed);return p.copy(this.lastChar,0,y),p.toString("utf8",v,y)},a.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length}},function(e,t,r){e.exports=a;var n=r(1),i=r(5);function a(c){if(!(this instanceof a))return new a(c);n.call(this,c),this._transformState={afterTransform:(function(s,f){var l=this._transformState;l.transforming=!1;var h=l.writecb;if(!h)return this.emit("error",new Error("write callback called multiple times"));l.writechunk=null,l.writecb=null,f!=null&&this.push(f),h(s);var d=this._readableState;d.reading=!1,(d.needReadable||d.length<d.highWaterMark)&&this._read(d.highWaterMark)}).bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",o)}function o(){var c=this;typeof this._flush=="function"?this._flush(function(s,f){u(c,s,f)}):u(this,null,null)}function u(c,s,f){if(s)return c.emit("error",s);if(f!=null&&c.push(f),c._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(c._transformState.transforming)throw new Error("Calling transform done when still transforming");return c.push(null)}i.inherits=r(2),i.inherits(a,n),a.prototype.push=function(c,s){return this._transformState.needTransform=!1,n.prototype.push.call(this,c,s)},a.prototype._transform=function(c,s,f){throw new Error("_transform() is not implemented")},a.prototype._write=function(c,s,f){var l=this._transformState;if(l.writecb=f,l.writechunk=c,l.writeencoding=s,!l.transforming){var h=this._readableState;(l.needTransform||h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}},a.prototype._read=function(c){var s=this._transformState;s.writechunk!==null&&s.writecb&&!s.transforming?(s.transforming=!0,this._transform(s.writechunk,s.writeencoding,s.afterTransform)):s.needTransform=!0},a.prototype._destroy=function(c,s){var f=this;n.prototype._destroy.call(this,c,function(l){s(l),f.emit("close")})}},function(e,t,r){(function(n){Object.defineProperty(t,"__esModule",{value:!0}),t.bufFromString=function(i){var a=n.byteLength(i),o=n.allocUnsafe?n.allocUnsafe(a):new n(a);return o.write(i),o},t.emptyBuffer=function(){return n.allocUnsafe?n.allocUnsafe(0):new n(0)},t.filterArray=function(i,a){for(var o=[],u=0;u<i.length;u++)a.indexOf(u)>-1&&o.push(i[u]);return o},t.trimLeft=String.prototype.trimLeft?function(i){return i.trimLeft()}:function(i){return i.replace(/^\s+/,"")},t.trimRight=String.prototype.trimRight?function(i){return i.trimRight()}:function(i){return i.replace(/\s+$/,"")}}).call(this,r(3).Buffer)},function(e,t,r){var n=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])};return function(o,u){function c(){this.constructor=o}a(o,u),o.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(a){function o(u,c,s){var f=a.call(this,"Error: "+u+". JSON Line number: "+c+(s?" near: "+s:""))||this;return f.err=u,f.line=c,f.extra=s,f.name="CSV Parse Error",f}return n(o,a),o.column_mismatched=function(u,c){return new o("column_mismatched",u,c)},o.unclosed_quote=function(u,c){return new o("unclosed_quote",u,c)},o.fromJSON=function(u){return new o(u.err,u.line,u.extra)},o.prototype.toJSON=function(){return{err:this.err,line:this.line,extra:this.extra}},o}(Error);t.default=i},function(e,t,r){var n=r(18),i=r(68),a=r(69),o=n?n.toStringTag:void 0;e.exports=function(u){return u==null?u===void 0?"[object Undefined]":"[object Null]":o&&o in Object(u)?i(u):a(u)}},function(e,t){e.exports=function(r,n){return r===n||r!=r&&n!=n}},function(e,t,r){e.exports=r(33)},function(e,t,r){var n=r(34),i=function(a,o){return new n.Converter(a,o)};i.csv=i,i.Converter=n.Converter,e.exports=i},function(e,t,r){(function(n){var i=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var b in v)v.hasOwnProperty(b)&&(p[b]=v[b])};return function(p,v){function b(){this.constructor=p}d(p,v),p.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)}}(),a=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(36),u=r(50),c=r(51),s=a(r(15)),f=r(52),l=r(105),h=function(d){function p(v,b){b===void 0&&(b={});var y=d.call(this,b)||this;return y.options=b,y.params=u.mergeParams(v),y.runtime=c.initParseRuntime(y),y.result=new l.Result(y),y.processor=new f.ProcessorLocal(y),y.once("error",function(m){n(function(){y.result.processError(m),y.emit("done",m)})}),y.once("done",function(){y.processor.destroy()}),y}return i(p,d),p.prototype.preRawData=function(v){return this.runtime.preRawDataHook=v,this},p.prototype.preFileLine=function(v){return this.runtime.preFileLineHook=v,this},p.prototype.subscribe=function(v,b,y){return this.parseRuntime.subscribe={onNext:v,onError:b,onCompleted:y},this},p.prototype.fromFile=function(v,b){var y=this,m=r(!function(){var $=new Error("Cannot find module 'fs'");throw $.code="MODULE_NOT_FOUND",$}());return m.exists(v,function($){$?m.createReadStream(v,b).pipe(y):y.emit("error",new Error("File does not exist. Check to make sure the file path to your csv is correct."))}),this},p.prototype.fromStream=function(v){return v.pipe(this),this},p.prototype.fromString=function(v){v.toString();var b=new o.Readable,y=0;return b._read=function(m){if(y>=v.length)this.push(null);else{var $=v.substr(y,m);this.push($),y+=m}},this.fromStream(b)},p.prototype.then=function(v,b){var y=this;return new s.default(function(m,$){y.parseRuntime.then={onfulfilled:function(T){m(v?v(T):T)},onrejected:function(T){b?m(b(T)):$(T)}}})},Object.defineProperty(p.prototype,"parseParam",{get:function(){return this.params},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"parseRuntime",{get:function(){return this.runtime},enumerable:!0,configurable:!0}),p.prototype._transform=function(v,b,y){var m=this;this.processor.process(v).then(function($){if($.length>0)return m.runtime.started=!0,m.result.processResult($)}).then(function(){m.emit("drained"),y()},function($){m.runtime.hasError=!0,m.runtime.error=$,m.emit("error",$),y()})},p.prototype._flush=function(v){var b=this;this.processor.flush().then(function(y){if(y.length>0)return b.result.processResult(y)}).then(function(){b.processEnd(v)},function(y){b.emit("error",y),v()})},p.prototype.processEnd=function(v){this.result.endProcess(),this.emit("done"),v()},Object.defineProperty(p.prototype,"parsedLineNumber",{get:function(){return this.runtime.parsedLineNumber},enumerable:!0,configurable:!0}),p}(o.Transform);t.Converter=h}).call(this,r(11).setImmediate)},function(e,t,r){(function(n,i){(function(a,o){if(!a.setImmediate){var u,c=1,s={},f=!1,l=a.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(a);h=h&&h.setTimeout?h:a,{}.toString.call(a.process)==="[object process]"?u=function(v){i.nextTick(function(){p(v)})}:function(){if(a.postMessage&&!a.importScripts){var v=!0,b=a.onmessage;return a.onmessage=function(){v=!1},a.postMessage("","*"),a.onmessage=b,v}}()?function(){var v="setImmediate$"+Math.random()+"$",b=function(y){y.source===a&&typeof y.data=="string"&&y.data.indexOf(v)===0&&p(+y.data.slice(v.length))};a.addEventListener?a.addEventListener("message",b,!1):a.attachEvent("onmessage",b),u=function(y){a.postMessage(v+y,"*")}}():a.MessageChannel?function(){var v=new MessageChannel;v.port1.onmessage=function(b){p(b.data)},u=function(b){v.port2.postMessage(b)}}():l&&"onreadystatechange"in l.createElement("script")?function(){var v=l.documentElement;u=function(b){var y=l.createElement("script");y.onreadystatechange=function(){p(b),y.onreadystatechange=null,v.removeChild(y),y=null},v.appendChild(y)}}():u=function(v){setTimeout(p,0,v)},h.setImmediate=function(v){typeof v!="function"&&(v=new Function(""+v));for(var b=new Array(arguments.length-1),y=0;y<b.length;y++)b[y]=arguments[y+1];var m={callback:v,args:b};return s[c]=m,u(c),c++},h.clearImmediate=d}function d(v){delete s[v]}function p(v){if(f)setTimeout(p,0,v);else{var b=s[v];if(b){f=!0;try{(function(y){var m=y.callback,$=y.args;switch($.length){case 0:m();break;case 1:m($[0]);break;case 2:m($[0],$[1]);break;case 3:m($[0],$[1],$[2]);break;default:m.apply(o,$)}})(b)}finally{d(v),f=!1}}}}})(typeof self>"u"?n===void 0?this:n:self)}).call(this,r(0),r(4))},function(e,t,r){e.exports=i;var n=r(12).EventEmitter;function i(){n.call(this)}r(2)(i,n),i.Readable=r(13),i.Writable=r(46),i.Duplex=r(47),i.Transform=r(48),i.PassThrough=r(49),i.Stream=i,i.prototype.pipe=function(a,o){var u=this;function c(v){a.writable&&a.write(v)===!1&&u.pause&&u.pause()}function s(){u.readable&&u.resume&&u.resume()}u.on("data",c),a.on("drain",s),a._isStdio||o&&o.end===!1||(u.on("end",l),u.on("close",h));var f=!1;function l(){f||(f=!0,a.end())}function h(){f||(f=!0,typeof a.destroy=="function"&&a.destroy())}function d(v){if(p(),n.listenerCount(this,"error")===0)throw v}function p(){u.removeListener("data",c),a.removeListener("drain",s),u.removeListener("end",l),u.removeListener("close",h),u.removeListener("error",d),a.removeListener("error",d),u.removeListener("end",p),u.removeListener("close",p),a.removeListener("close",p)}return u.on("error",d),a.on("error",d),u.on("end",p),u.on("close",p),a.on("close",p),a.emit("pipe",u),a}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(n){return r.call(n)=="[object Array]"}},function(e,t,r){t.byteLength=function(h){var d=s(h),p=d[0],v=d[1];return 3*(p+v)/4-v},t.toByteArray=function(h){for(var d,p=s(h),v=p[0],b=p[1],y=new a(3*(v+b)/4-b),m=0,$=b>0?v-4:v,T=0;T<$;T+=4)d=i[h.charCodeAt(T)]<<18|i[h.charCodeAt(T+1)]<<12|i[h.charCodeAt(T+2)]<<6|i[h.charCodeAt(T+3)],y[m++]=d>>16&255,y[m++]=d>>8&255,y[m++]=255&d;return b===2&&(d=i[h.charCodeAt(T)]<<2|i[h.charCodeAt(T+1)]>>4,y[m++]=255&d),b===1&&(d=i[h.charCodeAt(T)]<<10|i[h.charCodeAt(T+1)]<<4|i[h.charCodeAt(T+2)]>>2,y[m++]=d>>8&255,y[m++]=255&d),y},t.fromByteArray=function(h){for(var d,p=h.length,v=p%3,b=[],y=0,m=p-v;y<m;y+=16383)b.push(l(h,y,y+16383>m?m:y+16383));return v===1?(d=h[p-1],b.push(n[d>>2]+n[d<<4&63]+"==")):v===2&&(d=(h[p-2]<<8)+h[p-1],b.push(n[d>>10]+n[d>>4&63]+n[d<<2&63]+"=")),b.join("")};for(var n=[],i=[],a=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,c=o.length;u<c;++u)n[u]=o[u],i[o.charCodeAt(u)]=u;function s(h){var d=h.length;if(d%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var p=h.indexOf("=");return p===-1&&(p=d),[p,p===d?0:4-p%4]}function f(h){return n[h>>18&63]+n[h>>12&63]+n[h>>6&63]+n[63&h]}function l(h,d,p){for(var v,b=[],y=d;y<p;y+=3)v=(h[y]<<16&16711680)+(h[y+1]<<8&65280)+(255&h[y+2]),b.push(f(v));return b.join("")}i[45]=62,i[95]=63},function(e,t){t.read=function(r,n,i,a,o){var u,c,s=8*o-a-1,f=(1<<s)-1,l=f>>1,h=-7,d=i?o-1:0,p=i?-1:1,v=r[n+d];for(d+=p,u=v&(1<<-h)-1,v>>=-h,h+=s;h>0;u=256*u+r[n+d],d+=p,h-=8);for(c=u&(1<<-h)-1,u>>=-h,h+=a;h>0;c=256*c+r[n+d],d+=p,h-=8);if(u===0)u=1-l;else{if(u===f)return c?NaN:1/0*(v?-1:1);c+=Math.pow(2,a),u-=l}return(v?-1:1)*c*Math.pow(2,u-a)},t.write=function(r,n,i,a,o,u){var c,s,f,l=8*u-o-1,h=(1<<l)-1,d=h>>1,p=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=a?0:u-1,b=a?1:-1,y=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(s=isNaN(n)?1:0,c=h):(c=Math.floor(Math.log(n)/Math.LN2),n*(f=Math.pow(2,-c))<1&&(c--,f*=2),(n+=c+d>=1?p/f:p*Math.pow(2,1-d))*f>=2&&(c++,f/=2),c+d>=h?(s=0,c=h):c+d>=1?(s=(n*f-1)*Math.pow(2,o),c+=d):(s=n*Math.pow(2,d-1)*Math.pow(2,o),c=0));o>=8;r[i+v]=255&s,v+=b,s/=256,o-=8);for(c=c<<o|s,l+=o;l>0;r[i+v]=255&c,v+=b,c/=256,l-=8);r[i+v-b]|=128*y}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(n){return r.call(n)=="[object Array]"}},function(e,t){},function(e,t,r){var n=r(7).Buffer,i=r(43);function a(o,u,c){o.copy(u,c)}e.exports=function(){function o(){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.head=null,this.tail=null,this.length=0}return o.prototype.push=function(u){var c={data:u,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length},o.prototype.unshift=function(u){var c={data:u,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length},o.prototype.shift=function(){if(this.length!==0){var u=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,u}},o.prototype.clear=function(){this.head=this.tail=null,this.length=0},o.prototype.join=function(u){if(this.length===0)return"";for(var c=this.head,s=""+c.data;c=c.next;)s+=u+c.data;return s},o.prototype.concat=function(u){if(this.length===0)return n.alloc(0);if(this.length===1)return this.head.data;for(var c=n.allocUnsafe(u>>>0),s=this.head,f=0;s;)a(s.data,c,f),f+=s.data.length,s=s.next;return c},o}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var o=i.inspect({length:this.length});return this.constructor.name+" "+o})},function(e,t){},function(e,t,r){(function(n){function i(a){try{if(!n.localStorage)return!1}catch{return!1}var o=n.localStorage[a];return o!=null&&String(o).toLowerCase()==="true"}e.exports=function(a,o){if(i("noDeprecation"))return a;var u=!1;return function(){if(!u){if(i("throwDeprecation"))throw new Error(o);i("traceDeprecation")?console.trace(o):console.warn(o),u=!0}return a.apply(this,arguments)}}}).call(this,r(0))},function(e,t,r){e.exports=a;var n=r(27),i=r(5);function a(o){if(!(this instanceof a))return new a(o);n.call(this,o)}i.inherits=r(2),i.inherits(a,n),a.prototype._transform=function(o,u,c){c(null,o)}},function(e,t,r){e.exports=r(14)},function(e,t,r){e.exports=r(1)},function(e,t,r){e.exports=r(13).Transform},function(e,t,r){e.exports=r(13).PassThrough},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.mergeParams=function(n){var i={delimiter:",",ignoreColumns:void 0,includeColumns:void 0,quote:'"',trim:!0,checkType:!1,ignoreEmpty:!1,noheader:!1,headers:void 0,flatKeys:!1,maxRowLength:0,checkColumn:!1,escape:'"',colParser:{},eol:void 0,alwaysSplitAtEOL:!1,output:"json",nullObject:!1,downstreamFormat:"line",needEmitAll:!0};for(var a in n||(n={}),n)n.hasOwnProperty(a)&&(Array.isArray(n[a])?i[a]=[].concat(n[a]):i[a]=n[a]);return i}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.initParseRuntime=function(n){var i=n.parseParam,a={needProcessIgnoreColumn:!1,needProcessIncludeColumn:!1,selectedColumns:void 0,ended:!1,hasError:!1,error:void 0,delimiter:n.parseParam.delimiter,eol:n.parseParam.eol,columnConv:[],headerType:[],headerTitle:[],headerFlag:[],headers:void 0,started:!1,parsedLineNumber:0,columnValueSetter:[]};return i.ignoreColumns&&(a.needProcessIgnoreColumn=!0),i.includeColumns&&(a.needProcessIncludeColumn=!0),a}},function(e,t,r){(function(n){var i=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,m){y.__proto__=m}||function(y,m){for(var $ in m)m.hasOwnProperty($)&&(y[$]=m[$])};return function(y,m){function $(){this.constructor=y}b(y,m),y.prototype=m===null?Object.create(m):($.prototype=m.prototype,new $)}}(),a=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(53),u=a(r(15)),c=r(54),s=a(r(16)),f=r(57),l=r(28),h=r(58),d=a(r(59)),p=a(r(29)),v=function(b){function y(){var m=b!==null&&b.apply(this,arguments)||this;return m.rowSplit=new h.RowSplit(m.converter),m.eolEmitted=!1,m._needEmitEol=void 0,m.headEmitted=!1,m._needEmitHead=void 0,m}return i(y,b),y.prototype.flush=function(){var m=this;if(this.runtime.csvLineBuffer&&this.runtime.csvLineBuffer.length>0){var $=this.runtime.csvLineBuffer;return this.runtime.csvLineBuffer=void 0,this.process($,!0).then(function(T){return m.runtime.csvLineBuffer&&m.runtime.csvLineBuffer.length>0?u.default.reject(p.default.unclosed_quote(m.runtime.parsedLineNumber,m.runtime.csvLineBuffer.toString())):u.default.resolve(T)})}return u.default.resolve([])},y.prototype.destroy=function(){return u.default.resolve()},Object.defineProperty(y.prototype,"needEmitEol",{get:function(){return this._needEmitEol===void 0&&(this._needEmitEol=this.converter.listeners("eol").length>0),this._needEmitEol},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"needEmitHead",{get:function(){return this._needEmitHead===void 0&&(this._needEmitHead=this.converter.listeners("header").length>0),this._needEmitHead},enumerable:!0,configurable:!0}),y.prototype.process=function(m,$){var T,I=this;return $===void 0&&($=!1),T=$?m.toString():c.prepareData(m,this.converter.parseRuntime),u.default.resolve().then(function(){return I.runtime.preRawDataHook?I.runtime.preRawDataHook(T):T}).then(function(C){return C&&C.length>0?I.processCSV(C,$):u.default.resolve([])})},y.prototype.processCSV=function(m,$){var T=this,I=this.params,C=this.runtime;C.eol||s.default(m,C),this.needEmitEol&&!this.eolEmitted&&C.eol&&(this.converter.emit("eol",C.eol),this.eolEmitted=!0),I.ignoreEmpty&&!C.started&&(m=l.trimLeft(m));var U=f.stringToLines(m,C);return $?(U.lines.push(U.partial),U.partial=""):this.prependLeftBuf(l.bufFromString(U.partial)),U.lines.length>0?(C.preFileLineHook?this.runPreLineHook(U.lines):u.default.resolve(U.lines)).then(function(G){return C.started||T.runtime.headers?T.processCSVBody(G):T.processDataWithHead(G)}):u.default.resolve([])},y.prototype.processDataWithHead=function(m){if(this.params.noheader)this.params.headers?this.runtime.headers=this.params.headers:this.runtime.headers=[];else{for(var $="",T=[];m.length;){var I=$+m.shift(),C=this.rowSplit.parse(I);if(C.closed){T=C.cells,$="";break}$=I+s.default(I,this.runtime)}if(this.prependLeftBuf(l.bufFromString($)),T.length===0)return[];this.params.headers?this.runtime.headers=this.params.headers:this.runtime.headers=T}return(this.runtime.needProcessIgnoreColumn||this.runtime.needProcessIncludeColumn)&&this.filterHeader(),this.needEmitHead&&!this.headEmitted&&(this.converter.emit("header",this.runtime.headers),this.headEmitted=!0),this.processCSVBody(m)},y.prototype.filterHeader=function(){if(this.runtime.selectedColumns=[],this.runtime.headers){for(var m=this.runtime.headers,$=0;$<m.length;$++)if(this.params.ignoreColumns)if(this.params.ignoreColumns.test(m[$])){if(!this.params.includeColumns||!this.params.includeColumns.test(m[$]))continue;this.runtime.selectedColumns.push($)}else this.runtime.selectedColumns.push($);else this.params.includeColumns?this.params.includeColumns.test(m[$])&&this.runtime.selectedColumns.push($):this.runtime.selectedColumns.push($);this.runtime.headers=l.filterArray(this.runtime.headers,this.runtime.selectedColumns)}},y.prototype.processCSVBody=function(m){if(this.params.output==="line")return m;var $=this.rowSplit.parseMultiLines(m);return this.prependLeftBuf(l.bufFromString($.partial)),this.params.output==="csv"?$.rowsCells:d.default($.rowsCells,this.converter)},y.prototype.prependLeftBuf=function(m){m&&(this.runtime.csvLineBuffer?this.runtime.csvLineBuffer=n.concat([m,this.runtime.csvLineBuffer]):this.runtime.csvLineBuffer=m)},y.prototype.runPreLineHook=function(m){var $=this;return new u.default(function(T,I){(function C(U,G,z,F){if(z>=U.length)F();else if(G.preFileLineHook){var j=U[z],k=G.preFileLineHook(j,G.parsedLineNumber+z);if(z++,k&&k.then)k.then(function(B){U[z-1]=B,C(U,G,z,F)});else{for(U[z-1]=k;z<U.length;)U[z]=G.preFileLineHook(U[z],G.parsedLineNumber+z),z++;F()}}else F()})(m,$.runtime,0,function(C){C?I(C):T(m)})})},y}(o.Processor);t.ProcessorLocal=v}).call(this,r(3).Buffer)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(i){this.converter=i,this.params=i.parseParam,this.runtime=i.parseRuntime};t.Processor=n},function(e,t,r){(function(n){var i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(r(55));t.prepareData=function(o,u){var c=function(f,l){return l.csvLineBuffer&&l.csvLineBuffer.length>0?n.concat([l.csvLineBuffer,f]):f}(o,u);u.csvLineBuffer=void 0;var s=function(f,l){var h=f.length-1;if(128&f[h]){for(;(192&f[h])==128;)h--;h--}return h!=f.length-1?(l.csvLineBuffer=f.slice(h+1),f.slice(0,h+1)):f}(c,u).toString("utf8");return u.started===!1?a.default(s):s}}).call(this,r(3).Buffer)},function(e,t,r){(function(n){var i=r(56);e.exports=function(a){return typeof a=="string"&&a.charCodeAt(0)===65279?a.slice(1):n.isBuffer(a)&&i(a)&&a[0]===239&&a[1]===187&&a[2]===191?a.slice(3):a}}).call(this,r(3).Buffer)},function(e,t){e.exports=function(r){for(var n=0;n<r.length;)if(r[n]==9||r[n]==10||r[n]==13||32<=r[n]&&r[n]<=126)n+=1;else if(194<=r[n]&&r[n]<=223&&128<=r[n+1]&&r[n+1]<=191)n+=2;else if(r[n]==224&&160<=r[n+1]&&r[n+1]<=191&&128<=r[n+2]&&r[n+2]<=191||(225<=r[n]&&r[n]<=236||r[n]==238||r[n]==239)&&128<=r[n+1]&&r[n+1]<=191&&128<=r[n+2]&&r[n+2]<=191||r[n]==237&&128<=r[n+1]&&r[n+1]<=159&&128<=r[n+2]&&r[n+2]<=191)n+=3;else{if(!(r[n]==240&&144<=r[n+1]&&r[n+1]<=191&&128<=r[n+2]&&r[n+2]<=191&&128<=r[n+3]&&r[n+3]<=191||241<=r[n]&&r[n]<=243&&128<=r[n+1]&&r[n+1]<=191&&128<=r[n+2]&&r[n+2]<=191&&128<=r[n+3]&&r[n+3]<=191||r[n]==244&&128<=r[n+1]&&r[n+1]<=143&&128<=r[n+2]&&r[n+2]<=191&&128<=r[n+3]&&r[n+3]<=191))return!1;n+=4}return!0}},function(e,t,r){var n=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(16));t.stringToLines=function(a,o){var u=i.default(a,o),c=a.split(u);return{lines:c,partial:c.pop()||""}}},function(e,t,r){var n=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(16)),a=r(28),o=[",","|","	",";",":"],u=function(){function c(s){this.conv=s,this.cachedRegExp={},this.delimiterEmitted=!1,this._needEmitDelimiter=void 0,this.quote=s.parseParam.quote,this.trim=s.parseParam.trim,this.escape=s.parseParam.escape}return Object.defineProperty(c.prototype,"needEmitDelimiter",{get:function(){return this._needEmitDelimiter===void 0&&(this._needEmitDelimiter=this.conv.listeners("delimiter").length>0),this._needEmitDelimiter},enumerable:!0,configurable:!0}),c.prototype.parse=function(s){if(s.length===0||this.conv.parseParam.ignoreEmpty&&s.trim().length===0)return{cells:[],closed:!0};var f=this.quote,l=this.trim;this.escape,(this.conv.parseRuntime.delimiter instanceof Array||this.conv.parseRuntime.delimiter.toLowerCase()==="auto")&&(this.conv.parseRuntime.delimiter=this.getDelimiter(s)),this.needEmitDelimiter&&!this.delimiterEmitted&&(this.conv.emit("delimiter",this.conv.parseRuntime.delimiter),this.delimiterEmitted=!0);var h=this.conv.parseRuntime.delimiter,d=s.split(h);if(f==="off"){if(l)for(var p=0;p<d.length;p++)d[p]=d[p].trim();return{cells:d,closed:!0}}return this.toCSVRow(d,l,f,h)},c.prototype.toCSVRow=function(s,f,l,h){for(var d=[],p=!1,v="",b=0,y=s.length;b<y;b++){var m=s[b];!p&&f&&(m=a.trimLeft(m));var $=m.length;if(p)this.isQuoteClose(m)?(p=!1,v+=h+(m=m.substr(0,$-1)),v=this.escapeQuote(v),f&&(v=a.trimRight(v)),d.push(v),v=""):v+=h+m;else{if($===2&&m===this.quote+this.quote){d.push("");continue}if(this.isQuoteOpen(m)){if(m=m.substr(1),this.isQuoteClose(m)){m=m.substring(0,m.lastIndexOf(l)),m=this.escapeQuote(m),d.push(m);continue}if(m.indexOf(l)!==-1){for(var T=0,I="",C=0,U=m;C<U.length;C++){var G=U[C];G===l&&I!==this.escape?(T++,I=""):I=G}if(T%2==1){f&&(m=a.trimRight(m)),d.push(l+m);continue}p=!0,v+=m;continue}p=!0,v+=m;continue}f&&(m=a.trimRight(m)),d.push(m)}}return{cells:d,closed:!p}},c.prototype.getDelimiter=function(s){var f;if(this.conv.parseParam.delimiter==="auto")f=o;else{if(!(this.conv.parseParam.delimiter instanceof Array))return this.conv.parseParam.delimiter;f=this.conv.parseParam.delimiter}var l=0,h=",";return f.forEach(function(d){var p=s.split(d).length;p>l&&(h=d,l=p)}),h},c.prototype.isQuoteOpen=function(s){var f=this.quote,l=this.escape;return s[0]===f&&(s[1]!==f||s[1]===l&&(s[2]===f||s.length===2))},c.prototype.isQuoteClose=function(s){var f=this.quote,l=this.escape;this.conv.parseParam.trim&&(s=a.trimRight(s));for(var h=0,d=s.length-1;s[d]===f||s[d]===l;)d--,h++;return h%2!=0},c.prototype.escapeQuote=function(s){var f="es|"+this.quote+"|"+this.escape;this.cachedRegExp[f]===void 0&&(this.cachedRegExp[f]=new RegExp("\\"+this.escape+"\\"+this.quote,"g"));var l=this.cachedRegExp[f];return s.replace(l,this.quote)},c.prototype.parseMultiLines=function(s){for(var f=[],l="";s.length;){var h=l+s.shift(),d=this.parse(h);d.cells.length===0&&this.conv.parseParam.ignoreEmpty||(d.closed||this.conv.parseParam.alwaysSplitAtEOL?(this.conv.parseRuntime.selectedColumns?f.push(a.filterArray(d.cells,this.conv.parseRuntime.selectedColumns)):f.push(d.cells),l=""):l=h+(i.default(h,this.conv.parseRuntime)||`
`))}return{rowsCells:f,partial:l}},c}();t.RowSplit=u},function(e,t,r){var n=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(29)),a=n(r(60)),o=/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/;function u(y,m,$){if(m.parseParam.checkColumn&&m.parseRuntime.headers&&y.length!==m.parseRuntime.headers.length)throw i.default.column_mismatched(m.parseRuntime.parsedLineNumber+$);return function(T,I,C){for(var U=!1,G={},z=0,F=T.length;z<F;z++){var j=T[z];if(!C.parseParam.ignoreEmpty||j!==""){U=!0;var k=I[z];k&&k!==""||(k=I[z]="field"+(z+1));var B=s(k,z,C);if(B){var A=B(j,k,G,T,z);A!==void 0&&f(G,k,A,C,z)}else C.parseParam.checkType&&(j=d(j,k,z,C)(j)),j!==void 0&&f(G,k,j,C,z)}}return U?G:null}(y,m.parseRuntime.headers||[],m)||null}t.default=function(y,m){for(var $=[],T=0,I=y.length;T<I;T++){var C=u(y[T],m,T);C&&$.push(C)}return $};var c={string:v,number:p,omit:function(){}};function s(y,m,$){if($.parseRuntime.columnConv[m]!==void 0)return $.parseRuntime.columnConv[m];var T=$.parseParam.colParser[y];if(T===void 0)return $.parseRuntime.columnConv[m]=null;if(typeof T=="object"&&(T=T.cellParser||"string"),typeof T=="string"){T=T.trim().toLowerCase();var I=c[T];return $.parseRuntime.columnConv[m]=I||null}return $.parseRuntime.columnConv[m]=typeof T=="function"?T:null}function f(y,m,$,T,I){if(!T.parseRuntime.columnValueSetter[I])if(T.parseParam.flatKeys)T.parseRuntime.columnValueSetter[I]=l;else if(m.indexOf(".")>-1){for(var C=m.split("."),U=!0;C.length>0;)if(C.shift().length===0){U=!1;break}!U||T.parseParam.colParser[m]&&T.parseParam.colParser[m].flat?T.parseRuntime.columnValueSetter[I]=l:T.parseRuntime.columnValueSetter[I]=h}else T.parseRuntime.columnValueSetter[I]=l;T.parseParam.nullObject===!0&&$==="null"&&($=null),T.parseRuntime.columnValueSetter[I](y,m,$)}function l(y,m,$){y[m]=$}function h(y,m,$){a.default(y,m,$)}function d(y,m,$,T){return T.parseRuntime.headerType[$]?T.parseRuntime.headerType[$]:m.indexOf("number#!")>-1?T.parseRuntime.headerType[$]=p:m.indexOf("string#!")>-1?T.parseRuntime.headerType[$]=v:T.parseParam.checkType?T.parseRuntime.headerType[$]=b:T.parseRuntime.headerType[$]=v}function p(y){var m=parseFloat(y);return isNaN(m)?y:m}function v(y){return y.toString()}function b(y){var m=y.trim();return m===""?v(y):o.test(m)?p(y):m.length===5&&m.toLowerCase()==="false"||m.length===4&&m.toLowerCase()==="true"?function($){var T=$.trim();return T.length!==5||T.toLowerCase()!=="false"}(y):m[0]==="{"&&m[m.length-1]==="}"||m[0]==="["&&m[m.length-1]==="]"?function($){try{return JSON.parse($)}catch{return $}}(y):v(y)}},function(e,t,r){var n=r(61);e.exports=function(i,a,o){return i==null?i:n(i,a,o)}},function(e,t,r){var n=r(62),i=r(74),a=r(103),o=r(20),u=r(104);e.exports=function(c,s,f,l){if(!o(c))return c;for(var h=-1,d=(s=i(s,c)).length,p=d-1,v=c;v!=null&&++h<d;){var b=u(s[h]),y=f;if(h!=p){var m=v[b];(y=l?l(m,b,v):void 0)===void 0&&(y=o(m)?m:a(s[h+1])?[]:{})}n(v,b,y),v=v[b]}return c}},function(e,t,r){var n=r(63),i=r(31),a=Object.prototype.hasOwnProperty;e.exports=function(o,u,c){var s=o[u];a.call(o,u)&&i(s,c)&&(c!==void 0||u in o)||n(o,u,c)}},function(e,t,r){var n=r(64);e.exports=function(i,a,o){a=="__proto__"&&n?n(i,a,{configurable:!0,enumerable:!0,value:o,writable:!0}):i[a]=o}},function(e,t,r){var n=r(17),i=function(){try{var a=n(Object,"defineProperty");return a({},"",{}),a}catch{}}();e.exports=i},function(e,t,r){var n=r(66),i=r(70),a=r(20),o=r(72),u=/^\[object .+?Constructor\]$/,c=Function.prototype,s=Object.prototype,f=c.toString,l=s.hasOwnProperty,h=RegExp("^"+f.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(d){return!(!a(d)||i(d))&&(n(d)?h:u).test(o(d))}},function(e,t,r){var n=r(30),i=r(20);e.exports=function(a){if(!i(a))return!1;var o=n(a);return o=="[object Function]"||o=="[object GeneratorFunction]"||o=="[object AsyncFunction]"||o=="[object Proxy]"}},function(e,t,r){(function(n){var i=typeof n=="object"&&n&&n.Object===Object&&n;e.exports=i}).call(this,r(0))},function(e,t,r){var n=r(18),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,u=n?n.toStringTag:void 0;e.exports=function(c){var s=a.call(c,u),f=c[u];try{c[u]=void 0;var l=!0}catch{}var h=o.call(c);return l&&(s?c[u]=f:delete c[u]),h}},function(e,t){var r=Object.prototype.toString;e.exports=function(n){return r.call(n)}},function(e,t,r){var n=r(71),i=function(){var a=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();e.exports=function(a){return!!i&&i in a}},function(e,t,r){var n=r(19)["__core-js_shared__"];e.exports=n},function(e,t){var r=Function.prototype.toString;e.exports=function(n){if(n!=null){try{return r.call(n)}catch{}try{return n+""}catch{}}return""}},function(e,t){e.exports=function(r,n){return r==null?void 0:r[n]}},function(e,t,r){var n=r(21),i=r(75),a=r(77),o=r(100);e.exports=function(u,c){return n(u)?u:i(u,c)?[u]:a(o(u))}},function(e,t,r){var n=r(21),i=r(22),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(u,c){if(n(u))return!1;var s=typeof u;return!(s!="number"&&s!="symbol"&&s!="boolean"&&u!=null&&!i(u))||o.test(u)||!a.test(u)||c!=null&&u in Object(c)}},function(e,t){e.exports=function(r){return r!=null&&typeof r=="object"}},function(e,t,r){var n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r(78)(function(o){var u=[];return o.charCodeAt(0)===46&&u.push(""),o.replace(n,function(c,s,f,l){u.push(f?l.replace(i,"$1"):s||c)}),u});e.exports=a},function(e,t,r){var n=r(79);e.exports=function(i){var a=n(i,function(u){return o.size===500&&o.clear(),u}),o=a.cache;return a}},function(e,t,r){var n=r(80),i="Expected a function";function a(o,u){if(typeof o!="function"||u!=null&&typeof u!="function")throw new TypeError(i);var c=function(){var s=arguments,f=u?u.apply(this,s):s[0],l=c.cache;if(l.has(f))return l.get(f);var h=o.apply(this,s);return c.cache=l.set(f,h)||l,h};return c.cache=new(a.Cache||n),c}a.Cache=n,e.exports=a},function(e,t,r){var n=r(81),i=r(95),a=r(97),o=r(98),u=r(99);function c(s){var f=-1,l=s==null?0:s.length;for(this.clear();++f<l;){var h=s[f];this.set(h[0],h[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=o,c.prototype.set=u,e.exports=c},function(e,t,r){var n=r(82),i=r(88),a=r(94);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(a||i),string:new n}}},function(e,t,r){var n=r(83),i=r(84),a=r(85),o=r(86),u=r(87);function c(s){var f=-1,l=s==null?0:s.length;for(this.clear();++f<l;){var h=s[f];this.set(h[0],h[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=o,c.prototype.set=u,e.exports=c},function(e,t,r){var n=r(8);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(e,t){e.exports=function(r){var n=this.has(r)&&delete this.__data__[r];return this.size-=n?1:0,n}},function(e,t,r){var n=r(8),i=Object.prototype.hasOwnProperty;e.exports=function(a){var o=this.__data__;if(n){var u=o[a];return u==="__lodash_hash_undefined__"?void 0:u}return i.call(o,a)?o[a]:void 0}},function(e,t,r){var n=r(8),i=Object.prototype.hasOwnProperty;e.exports=function(a){var o=this.__data__;return n?o[a]!==void 0:i.call(o,a)}},function(e,t,r){var n=r(8);e.exports=function(i,a){var o=this.__data__;return this.size+=this.has(i)?0:1,o[i]=n&&a===void 0?"__lodash_hash_undefined__":a,this}},function(e,t,r){var n=r(89),i=r(90),a=r(91),o=r(92),u=r(93);function c(s){var f=-1,l=s==null?0:s.length;for(this.clear();++f<l;){var h=s[f];this.set(h[0],h[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=o,c.prototype.set=u,e.exports=c},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,r){var n=r(9),i=Array.prototype.splice;e.exports=function(a){var o=this.__data__,u=n(o,a);return!(u<0||(u==o.length-1?o.pop():i.call(o,u,1),--this.size,0))}},function(e,t,r){var n=r(9);e.exports=function(i){var a=this.__data__,o=n(a,i);return o<0?void 0:a[o][1]}},function(e,t,r){var n=r(9);e.exports=function(i){return n(this.__data__,i)>-1}},function(e,t,r){var n=r(9);e.exports=function(i,a){var o=this.__data__,u=n(o,i);return u<0?(++this.size,o.push([i,a])):o[u][1]=a,this}},function(e,t,r){var n=r(17)(r(19),"Map");e.exports=n},function(e,t,r){var n=r(10);e.exports=function(i){var a=n(this,i).delete(i);return this.size-=a?1:0,a}},function(e,t){e.exports=function(r){var n=typeof r;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?r!=="__proto__":r===null}},function(e,t,r){var n=r(10);e.exports=function(i){return n(this,i).get(i)}},function(e,t,r){var n=r(10);e.exports=function(i){return n(this,i).has(i)}},function(e,t,r){var n=r(10);e.exports=function(i,a){var o=n(this,i),u=o.size;return o.set(i,a),this.size+=o.size==u?0:1,this}},function(e,t,r){var n=r(101);e.exports=function(i){return i==null?"":n(i)}},function(e,t,r){var n=r(18),i=r(102),a=r(21),o=r(22),u=n?n.prototype:void 0,c=u?u.toString:void 0;e.exports=function s(f){if(typeof f=="string")return f;if(a(f))return i(f,s)+"";if(o(f))return c?c.call(f):"";var l=f+"";return l=="0"&&1/f==-1/0?"-0":l}},function(e,t){e.exports=function(r,n){for(var i=-1,a=r==null?0:r.length,o=Array(a);++i<a;)o[i]=n(r[i],i,r);return o}},function(e,t){var r=/^(?:0|[1-9]\d*)$/;e.exports=function(n,i){var a=typeof n;return!!(i=i??9007199254740991)&&(a=="number"||a!="symbol"&&r.test(n))&&n>-1&&n%1==0&&n<i}},function(e,t,r){var n=r(22);e.exports=function(i){if(typeof i=="string"||n(i))return i;var a=i+"";return a=="0"&&1/i==-1/0?"-0":a}},function(e,t,r){var n=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(15)),a=r(106),o=function(){function c(s){this.converter=s,this.finalResult=[]}return Object.defineProperty(c.prototype,"needEmitLine",{get:function(){return!!this.converter.parseRuntime.subscribe&&!!this.converter.parseRuntime.subscribe.onNext||this.needPushDownstream},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"needPushDownstream",{get:function(){return this._needPushDownstream===void 0&&(this._needPushDownstream=this.converter.listeners("data").length>0||this.converter.listeners("readable").length>0),this._needPushDownstream},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"needEmitAll",{get:function(){return!!this.converter.parseRuntime.then&&this.converter.parseParam.needEmitAll},enumerable:!0,configurable:!0}),c.prototype.processResult=function(s){var f=this,l=this.converter.parseRuntime.parsedLineNumber;return this.needPushDownstream&&this.converter.parseParam.downstreamFormat==="array"&&l===0&&u(this.converter,"["+a.EOL),new i.default(function(h,d){f.needEmitLine?function p(v,b,y,m,$){if(y>=v.length)$();else if(b.parseRuntime.subscribe&&b.parseRuntime.subscribe.onNext){var T=b.parseRuntime.subscribe.onNext,I=v[y],C=T(I,b.parseRuntime.parsedLineNumber+y);if(y++,C&&C.then)C.then(function(){(function(G,z,F,j,k,B,A){k&&u(F,A),p(G,F,j,k,B)})(v,0,b,y,m,$,I)},$);else{for(m&&u(b,I);y<v.length;){var U=v[y];T(U,b.parseRuntime.parsedLineNumber+y),y++,m&&u(b,U)}$()}}else{if(m)for(;y<v.length;)U=v[y++],u(b,U);$()}}(s,f.converter,0,f.needPushDownstream,function(p){p?d(p):(f.appendFinalResult(s),h())}):(f.appendFinalResult(s),h())})},c.prototype.appendFinalResult=function(s){this.needEmitAll&&(this.finalResult=this.finalResult.concat(s)),this.converter.parseRuntime.parsedLineNumber+=s.length},c.prototype.processError=function(s){this.converter.parseRuntime.subscribe&&this.converter.parseRuntime.subscribe.onError&&this.converter.parseRuntime.subscribe.onError(s),this.converter.parseRuntime.then&&this.converter.parseRuntime.then.onrejected&&this.converter.parseRuntime.then.onrejected(s)},c.prototype.endProcess=function(){this.converter.parseRuntime.then&&this.converter.parseRuntime.then.onfulfilled&&(this.needEmitAll?this.converter.parseRuntime.then.onfulfilled(this.finalResult):this.converter.parseRuntime.then.onfulfilled([])),this.converter.parseRuntime.subscribe&&this.converter.parseRuntime.subscribe.onCompleted&&this.converter.parseRuntime.subscribe.onCompleted(),this.needPushDownstream&&this.converter.parseParam.downstreamFormat==="array"&&u(this.converter,"]"+a.EOL)},c}();function u(c,s){if(typeof s!="object"||c.options.objectMode)c.push(s);else{var f=JSON.stringify(s);c.push(f+(c.parseParam.downstreamFormat==="array"?","+a.EOL:a.EOL),"utf8")}}t.Result=o},function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return typeof location<"u"?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return typeof navigator<"u"?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL=`
`,t.homedir=function(){return"/"}}]);const Jie=qie(Xie);var it={},ar={},Va={},Ep={};Object.defineProperty(Ep,"__esModule",{value:!0});function Qie(e){for(var t=e.length,r=5381,n=52711,i;t--;)i=e.charCodeAt(t),r=r*33^i,n=n*33^i;return(r>>>0)*4096+(n>>>0)}var ya="|",Zie=/\[object ([HTML|SVG](.*)Element)\]/,eae={"[object Arguments]":0,"[object Array]":1,"[object ArrayBuffer]":2,"[object AsyncFunction]":3,"[object AsyncGeneratorFunction]":4,"[object BigInt]":5,"[object BigInt64Array]":6,"[object BigUint64Array]":7,"[object Boolean]":8,"[object DataView]":9,"[object Date]":10,"[object DocumentFragment]":11,"[object Error]":12,"[object Event]":13,"[object Float32Array]":14,"[object Float64Array]":15,"[object Function]":16,"[object Generator]":17,"[object GeneratorFunction]":18,"[object Int8Array]":19,"[object Int16Array]":20,"[object Map]":21,"[object Number]":22,"[object Object]":23,"[object Promise]":24,"[object RegExp]":25,"[object Set]":26,"[object SharedArrayBuffer]":27,"[object String]":28,"[object Uint8Array]":29,"[object Uint8ClampedArray]":30,"[object Uint16Array]":31,"[object Uint32Array]":32,"[object WeakMap]":33,"[object WeakRef]":34,"[object WeakSet]":35,CUSTOM:36,ELEMENT:37},tae={"[object Arguments]":1,"[object Array]":2},LT={"[object Generator]":1,"[object Promise]":2,"[object WeakMap]":3,"[object WeakRef]":4,"[object WeakSet]":5},rae={"[object AsyncFunction]":1,"[object AsyncGeneratorFunction]":2,"[object Boolean]":3,"[object Function]":4,"[object GeneratorFunction]":5,"[object Number]":6,"[object String]":7},nae={"[object BigInt64Array]":1,"[object BigUint64Array]":2,"[object Float32Array]":3,"[object Float64Array]":4,"[object Int8Array]":5,"[object Int16Array]":6,"[object Uint8Array]":7,"[object Uint8ClampedArray]":8,"[object Uint16Array]":9,"[object Uint32Array]":10},iae={"[object Arguments]":1,"[object Array]":2,"[object ArrayBuffer]":3,"[object BigInt64Array]":4,"[object BigUint64Array]":5,"[object DataView]":6,"[object Float32Array]":7,"[object Float64Array]":8,"[object Int8Array]":9,"[object Int16Array]":10,"[object Map]":11,"[object Object]":12,"[object Set]":13,"[object SharedArrayBuffer]":14,"[object Uint8Array]":15,"[object Uint8ClampedArray]":16,"[object Uint16Array]":17,"[object Uint32Array]":18,CUSTOM:19},Bi={bigint:"i",boolean:"b",empty:"e",function:"g",number:"n",object:"o",string:"s",symbol:"s"};function aae(e,t){return e[0]>t[0]}function NT(e,t){return e>t}function Tp(e,t){for(var r,n,i=0;i<e.length;++i){for(n=e[i],r=i-1;~r&&t(e[r],n);--r)e[r+1]=e[r];e[r+1]=n}return e}function Ne(e,t){return Bi.object+ya+eae[e]+ya+t}var Rb=new WeakMap,oae=0;function od(e,t){var r=Rb.get(e);if(r)return r;var n=Ne(t,"NOT_ENUMERABLE"+ya+oae++);return Rb.set(e,n),n}var sae=Object.prototype.toString;function uae(e,t,r){if(iae[t])return Ib(t,e,r);if(t==="[object Date]")return Ne(t,e.getTime());if(t==="[object RegExp]")return Ne(t,e.toString());if(t==="[object Event]")return Ne(t,[e.bubbles,e.cancelBubble,e.cancelable,e.composed,e.currentTarget,e.defaultPrevented,e.eventPhase,e.isTrusted,e.returnValue,e.target,e.type].join());if(t==="[object Error]")return Ne(t,e.message+ya+e.stack);if(t==="[object DocumentFragment]")return Ne(t,dae(e));var n=t.match(Zie);return n?Ne("ELEMENT",n[1]+ya+e.outerHTML):LT[t]?od(e,t):rae[t]?Ne(t,e.toString()):Ib("CUSTOM",e,r)}function Ib(e,t,r){var n=r.cache.get(t);return n?Ne(e,"RECURSIVE~"+n):(r.cache.set(t,++r.id),e==="[object Object]"?t[Symbol.iterator]?od(t,e):Ne(e,Mb(t,r)):tae[e]?Ne(e,cae(t,r)):e==="[object Map]"?Ne(e,vae(t,r)):e==="[object Set]"?Ne(e,pae(t,r)):nae[e]?Ne(e,t.join()):e==="[object ArrayBuffer]"?Ne(e,jb(t)):e==="[object DataView]"?Ne(e,jb(t.buffer)):LT[e]?od(t,e):Ne("CUSTOM",Mb(t,r)))}function cae(e,t){for(var r=e.length,n=new Array(r);--r>=0;)n[r]=ii(e[r],t);return n.join()}function fae(e){return Buffer.from(e).toString("utf8")}function lae(e){return String.fromCharCode.apply(null,new Uint16Array(e))}function hae(){return"UNSUPPORTED"}function dae(e){for(var t=e.children,r=t.length,n=new Array(r);--r>=0;)n[r]=t[r].outerHTML;return n.join()}var jb=typeof Buffer<"u"&&typeof Buffer.from=="function"?fae:typeof Uint16Array=="function"?lae:hae;function vae(e,t){var r=new Array(e.size),n=0;for(e.forEach(function(i,a){r[n++]=[ii(a,t),ii(i,t)]}),Tp(r,aae);--n>=0;)r[n]="["+r[n][0]+","+r[n][1]+"]";return"["+r.join()+"]"}function Mb(e,t){for(var r=Tp(Object.getOwnPropertyNames(e),NT),n=r.length,i=new Array(n),a=n;--a>=0;)i[a]=r[a]+":"+ii(e[r[a]],t);return"{"+i.join()+"}"}function pae(e,t){var r=new Array(e.size),n=0;return e.forEach(function(i){r[n++]=ii(i,t)}),"["+Tp(r,NT).join()+"]"}function ii(e,t){var r=typeof e;return e==null||r==="undefined"?Bi.empty+e:r==="object"?uae(e,sae.call(e),t||{cache:new WeakMap,id:1}):r==="function"||r==="symbol"?Bi[r]+e.toString():r==="boolean"?Bi.boolean+ +e:Bi[r]+e}function yae(e){return Qie(ii(e,void 0))}Ep.default=yae;Object.defineProperty(Va,"__esModule",{value:!0});var gae=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),mae=Ep,bae=_ae(mae);function _ae(e){return e&&e.__esModule?e:{default:e}}function $ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var xp=function(){function e(t,r,n){$ae(this,e),this.id=t;var i={cache:!0};if(typeof n>"u"&&(n=i),typeof r!="function"?(this.value=r,this.type=this.constructor.CONSTANT):(this.calculationMethod=r,this.type=this.constructor.DYNAMIC),!this.id)throw new Error("factId required");return this.priority=parseInt(n.priority||1,10),this.options=Object.assign({},i,n),this.cacheKeyMethod=this.defaultCacheKeys,this}return gae(e,[{key:"isConstant",value:function(){return this.type===this.constructor.CONSTANT}},{key:"isDynamic",value:function(){return this.type===this.constructor.DYNAMIC}},{key:"calculate",value:function(r,n){return Object.prototype.hasOwnProperty.call(this,"value")?this.value:this.calculationMethod(r,n)}},{key:"defaultCacheKeys",value:function(r,n){return{params:n,id:r}}},{key:"getCacheKey",value:function(r){if(this.options.cache===!0){var n=this.cacheKeyMethod(this.id,r),i=e.hashFromObject(n);return i}}}],[{key:"hashFromObject",value:function(r){return(0,bae.default)(r)}}]),e}();xp.CONSTANT="CONSTANT";xp.DYNAMIC="DYNAMIC";Va.default=xp;var fc={},lc={},di={},bl={};Object.defineProperty(di,"__esModule",{value:!0});di.default=wae;function wae(e){try{(typeof process<"u"&&bl&&bl.DEBUG&&bl.DEBUG.match(/json-rules-engine/)||typeof window<"u"&&window.localStorage&&window.localStorage.debug&&window.localStorage.debug.match(/json-rules-engine/))&&console.log(e)}catch{}}Object.defineProperty(lc,"__esModule",{value:!0});var Sae=function(){function e(t,r){var n=[],i=!0,a=!1,o=void 0;try{for(var u=t[Symbol.iterator](),c;!(i=(c=u.next()).done)&&(n.push(c.value),!(r&&n.length===r));i=!0);}catch(s){a=!0,o=s}finally{try{!i&&u.return&&u.return()}finally{if(a)throw o}}return n}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Oae=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Eae=di,Tae=xae(Eae);function xae(e){return e&&e.__esModule?e:{default:e}}function Pae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Cae=function(){function e(t){if(Pae(this,e),!t)throw new Error("Condition: constructor options required");var r=e.booleanOperator(t);if(Object.assign(this,t),r){var n=t[r],i=Array.isArray(n);if(r!=="not"&&!i)throw new Error('"'+r+'" must be an array');if(r==="not"&&i)throw new Error('"'+r+'" cannot be an array');this.operator=r,this.priority=parseInt(t.priority,10)||1,i?this[r]=n.map(function(a){return new e(a)}):this[r]=new e(n)}else if(!Object.prototype.hasOwnProperty.call(t,"condition")){if(!Object.prototype.hasOwnProperty.call(t,"fact"))throw new Error('Condition: constructor "fact" property required');if(!Object.prototype.hasOwnProperty.call(t,"operator"))throw new Error('Condition: constructor "operator" property required');if(!Object.prototype.hasOwnProperty.call(t,"value"))throw new Error('Condition: constructor "value" property required');Object.prototype.hasOwnProperty.call(t,"priority")&&(t.priority=parseInt(t.priority,10))}}return Oae(e,[{key:"toJSON",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n={};this.priority&&(n.priority=this.priority),this.name&&(n.name=this.name);var i=e.booleanOperator(this);return i?Array.isArray(this[i])?n[i]=this[i].map(function(a){return a.toJSON(!1)}):n[i]=this[i].toJSON(!1):this.isConditionReference()?n.condition=this.condition:(n.operator=this.operator,n.value=this.value,n.fact=this.fact,this.factResult!==void 0&&(n.factResult=this.factResult),this.result!==void 0&&(n.result=this.result),this.params&&(n.params=this.params),this.path&&(n.path=this.path)),r?JSON.stringify(n):n}},{key:"evaluate",value:function(r,n){var i=this;if(!r)return Promise.reject(new Error("almanac required"));if(!n)return Promise.reject(new Error("operatorMap required"));if(this.isBooleanOperator())return Promise.reject(new Error("Cannot evaluate() a boolean condition"));var a=n.get(this.operator);return a?Promise.all([r.getValue(this.value),r.factValue(this.fact,this.params,this.path)]).then(function(o){var u=Sae(o,2),c=u[0],s=u[1],f=a.evaluate(s,c);return(0,Tae.default)("condition::evaluate <"+JSON.stringify(s)+" "+i.operator+" "+JSON.stringify(c)+"?> ("+f+")"),{result:f,leftHandSideValue:s,rightHandSideValue:c,operator:i.operator}}):Promise.reject(new Error("Unknown operator: "+this.operator))}},{key:"booleanOperator",value:function(){return e.booleanOperator(this)}},{key:"isBooleanOperator",value:function(){return e.booleanOperator(this)!==void 0}},{key:"isConditionReference",value:function(){return Object.prototype.hasOwnProperty.call(this,"condition")}}],[{key:"booleanOperator",value:function(r){if(Object.prototype.hasOwnProperty.call(r,"any"))return"any";if(Object.prototype.hasOwnProperty.call(r,"all"))return"all";if(Object.prototype.hasOwnProperty.call(r,"not"))return"not"}}]),e}();lc.default=Cae;var Pp={},UT={exports:{}};(function(e){var t=function(){function r(h,d){return d!=null&&h instanceof d}var n;try{n=Map}catch{n=function(){}}var i;try{i=Set}catch{i=function(){}}var a;try{a=Promise}catch{a=function(){}}function o(h,d,p,v,b){typeof d=="object"&&(p=d.depth,v=d.prototype,b=d.includeNonEnumerable,d=d.circular);var y=[],m=[],$=typeof Buffer<"u";typeof d>"u"&&(d=!0),typeof p>"u"&&(p=1/0);function T(I,C){if(I===null)return null;if(C===0)return I;var U,G;if(typeof I!="object")return I;if(r(I,n))U=new n;else if(r(I,i))U=new i;else if(r(I,a))U=new a(function(V,S){I.then(function(w){V(T(w,C-1))},function(w){S(T(w,C-1))})});else if(o.__isArray(I))U=[];else if(o.__isRegExp(I))U=new RegExp(I.source,l(I)),I.lastIndex&&(U.lastIndex=I.lastIndex);else if(o.__isDate(I))U=new Date(I.getTime());else{if($&&Buffer.isBuffer(I))return Buffer.allocUnsafe?U=Buffer.allocUnsafe(I.length):U=new Buffer(I.length),I.copy(U),U;r(I,Error)?U=Object.create(I):typeof v>"u"?(G=Object.getPrototypeOf(I),U=Object.create(G)):(U=Object.create(v),G=v)}if(d){var z=y.indexOf(I);if(z!=-1)return m[z];y.push(I),m.push(U)}r(I,n)&&I.forEach(function(V,S){var w=T(S,C-1),O=T(V,C-1);U.set(w,O)}),r(I,i)&&I.forEach(function(V){var S=T(V,C-1);U.add(S)});for(var F in I){var j;G&&(j=Object.getOwnPropertyDescriptor(G,F)),!(j&&j.set==null)&&(U[F]=T(I[F],C-1))}if(Object.getOwnPropertySymbols)for(var k=Object.getOwnPropertySymbols(I),F=0;F<k.length;F++){var B=k[F],A=Object.getOwnPropertyDescriptor(I,B);A&&!A.enumerable&&!b||(U[B]=T(I[B],C-1),A.enumerable||Object.defineProperty(U,B,{enumerable:!1}))}if(b)for(var L=Object.getOwnPropertyNames(I),F=0;F<L.length;F++){var W=L[F],A=Object.getOwnPropertyDescriptor(I,W);A&&A.enumerable||(U[W]=T(I[W],C-1),Object.defineProperty(U,W,{enumerable:!1}))}return U}return T(h,p)}o.clonePrototype=function(d){if(d===null)return null;var p=function(){};return p.prototype=d,new p};function u(h){return Object.prototype.toString.call(h)}o.__objToStr=u;function c(h){return typeof h=="object"&&u(h)==="[object Date]"}o.__isDate=c;function s(h){return typeof h=="object"&&u(h)==="[object Array]"}o.__isArray=s;function f(h){return typeof h=="object"&&u(h)==="[object RegExp]"}o.__isRegExp=f;function l(h){var d="";return h.global&&(d+="g"),h.ignoreCase&&(d+="i"),h.multiline&&(d+="m"),d}return o.__getRegExpFlags=l,o}();e.exports&&(e.exports=t)})(UT);var BT=UT.exports;function Aae(e){return!!e&&typeof e=="object"}var WT=Aae;Object.defineProperty(Pp,"__esModule",{value:!0});var Rae=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Iae=BT,Fo=HT(Iae),jae=WT,Mae=HT(jae);function HT(e){return e&&e.__esModule?e:{default:e}}function kae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Dae=function(){function e(t,r,n,i){kae(this,e),this.conditions=(0,Fo.default)(t),this.event=(0,Fo.default)(r),this.priority=(0,Fo.default)(n),this.name=(0,Fo.default)(i),this.result=null}return Rae(e,[{key:"setResult",value:function(r){this.result=r}},{key:"resolveEventParams",value:function(r){var n=this;if((0,Mae.default)(this.event.params)){var i=[],a=function(c){Object.prototype.hasOwnProperty.call(n.event.params,c)&&i.push(r.getValue(n.event.params[c]).then(function(s){return n.event.params[c]=s}))};for(var o in this.event.params)a(o);return Promise.all(i)}return Promise.resolve()}},{key:"toJSON",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n={conditions:this.conditions.toJSON(!1),event:this.event,priority:this.priority,name:this.name,result:this.result};return r?JSON.stringify(n):n}}]),e}();Pp.default=Dae;var YT={exports:{}};/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */(function(e,t){(function(r){var n=Object.hasOwnProperty,i=Array.isArray?Array.isArray:function(w){return Object.prototype.toString.call(w)==="[object Array]"},a=10,o=typeof process=="object"&&typeof process.nextTick=="function",u=typeof Symbol=="function",c=typeof Reflect=="object",s=typeof setImmediate=="function",f=s?setImmediate:setTimeout,l=u?c&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(S){var w=Object.getOwnPropertyNames(S);return w.push.apply(w,Object.getOwnPropertySymbols(S)),w}:Object.keys;function h(){this._events={},this._conf&&d.call(this,this._conf)}function d(S){S&&(this._conf=S,S.delimiter&&(this.delimiter=S.delimiter),S.maxListeners!==r&&(this._maxListeners=S.maxListeners),S.wildcard&&(this.wildcard=S.wildcard),S.newListener&&(this._newListener=S.newListener),S.removeListener&&(this._removeListener=S.removeListener),S.verboseMemoryLeak&&(this.verboseMemoryLeak=S.verboseMemoryLeak),S.ignoreErrors&&(this.ignoreErrors=S.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function p(S,w){var O="(node) warning: possible EventEmitter memory leak detected. "+S+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(O+=" Event name: "+w+"."),typeof process<"u"&&process.emitWarning){var P=new Error(O);P.name="MaxListenersExceededWarning",P.emitter=this,P.count=S,process.emitWarning(P)}else console.error(O),console.trace&&console.trace()}var v=function(S,w,O){var P=arguments.length;switch(P){case 0:return[];case 1:return[S];case 2:return[S,w];case 3:return[S,w,O];default:for(var M=new Array(P);P--;)M[P]=arguments[P];return M}};function b(S,w){for(var O={},P,M=S.length,x=0,D=0;D<M;D++)P=S[D],O[P]=D<x?w[D]:r;return O}function y(S,w,O){this._emitter=S,this._target=w,this._listeners={},this._listenersCount=0;var P,M;if((O.on||O.off)&&(P=O.on,M=O.off),w.addEventListener?(P=w.addEventListener,M=w.removeEventListener):w.addListener?(P=w.addListener,M=w.removeListener):w.on&&(P=w.on,M=w.off),!P&&!M)throw Error("target does not implement any known event API");if(typeof P!="function")throw TypeError("on method must be a function");if(typeof M!="function")throw TypeError("off method must be a function");this._on=P,this._off=M;var x=S._observers;x?x.push(this):S._observers=[this]}Object.assign(y.prototype,{subscribe:function(S,w,O){var P=this,M=this._target,x=this._emitter,D=this._listeners,H=function(){var Y=v.apply(null,arguments),K={data:Y,name:w,original:S};if(O){var g=O.call(M,K);g!==!1&&x.emit.apply(x,[K.name].concat(Y));return}x.emit.apply(x,[w].concat(Y))};if(D[S])throw Error("Event '"+S+"' is already listening");this._listenersCount++,x._newListener&&x._removeListener&&!P._onNewListener?(this._onNewListener=function(Y){Y===w&&D[S]===null&&(D[S]=H,P._on.call(M,S,H))},x.on("newListener",this._onNewListener),this._onRemoveListener=function(Y){Y===w&&!x.hasListeners(Y)&&D[S]&&(D[S]=null,P._off.call(M,S,H))},D[S]=null,x.on("removeListener",this._onRemoveListener)):(D[S]=H,P._on.call(M,S,H))},unsubscribe:function(S){var w=this,O=this._listeners,P=this._emitter,M,x,D=this._off,H=this._target,Y;if(S&&typeof S!="string")throw TypeError("event must be a string");function K(){w._onNewListener&&(P.off("newListener",w._onNewListener),P.off("removeListener",w._onRemoveListener),w._onNewListener=null,w._onRemoveListener=null);var g=G.call(P,w);P._observers.splice(g,1)}if(S){if(M=O[S],!M)return;D.call(H,S,M),delete O[S],--this._listenersCount||K()}else{for(x=l(O),Y=x.length;Y-- >0;)S=x[Y],D.call(H,S,O[S]);this._listeners={},this._listenersCount=0,K()}}});function m(S,w,O,P){var M=Object.assign({},w);if(!S)return M;if(typeof S!="object")throw TypeError("options must be an object");var x=Object.keys(S),D=x.length,H,Y,K;function g(E){throw Error('Invalid "'+H+'" option value'+(E?". Reason: "+E:""))}for(var _=0;_<D;_++){if(H=x[_],!n.call(w,H))throw Error('Unknown "'+H+'" option');Y=S[H],Y!==r&&(K=O[H],M[H]=K?K(Y,g):Y)}return M}function $(S,w){return(typeof S!="function"||!S.hasOwnProperty("prototype"))&&w("value must be a constructor"),S}function T(S){var w="value must be type of "+S.join("|"),O=S.length,P=S[0],M=S[1];return O===1?function(x,D){if(typeof x===P)return x;D(w)}:O===2?function(x,D){var H=typeof x;if(H===P||H===M)return x;D(w)}:function(x,D){for(var H=typeof x,Y=O;Y-- >0;)if(H===S[Y])return x;D(w)}}var I=T(["function"]),C=T(["object","function"]);function U(S,w,O){var P,M,x=0,D,H=new S(function(Y,K,g){O=m(O,{timeout:0,overload:!1},{timeout:function(R,q){return R*=1,(typeof R!="number"||R<0||!Number.isFinite(R))&&q("timeout must be a positive number"),R}}),P=!O.overload&&typeof S.prototype.cancel=="function"&&typeof g=="function";function _(){M&&(M=null),x&&(clearTimeout(x),x=0)}var E=function(R){_(),Y(R)},N=function(R){_(),K(R)};P?w(E,N,g):(M=[function(R){N(R||Error("canceled"))}],w(E,N,function(R){if(D)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof R!="function")throw TypeError("onCancel callback must be a function");M.push(R)}),D=!0),O.timeout>0&&(x=setTimeout(function(){var R=Error("timeout");R.code="ETIMEDOUT",x=0,H.cancel(R),K(R)},O.timeout))});return P||(H.cancel=function(Y){if(M){for(var K=M.length,g=1;g<K;g++)M[g](Y);M[0](Y),M=null}}),H}function G(S){var w=this._observers;if(!w)return-1;for(var O=w.length,P=0;P<O;P++)if(w[P]._target===S)return P;return-1}function z(S,w,O,P,M){if(!O)return null;if(P===0){var x=typeof w;if(x==="string"){var D,H,Y=0,K=0,g=this.delimiter,_=g.length;if((H=w.indexOf(g))!==-1){D=new Array(5);do D[Y++]=w.slice(K,H),K=H+_;while((H=w.indexOf(g,K))!==-1);D[Y++]=w.slice(K),w=D,M=Y}else w=[w],M=1}else x==="object"?M=w.length:(w=[w],M=1)}var E=null,N,R,q,J,Z,re=w[P],ce=w[P+1],ae,ve;if(P===M)O._listeners&&(typeof O._listeners=="function"?(S&&S.push(O._listeners),E=[O]):(S&&S.push.apply(S,O._listeners),E=[O]));else if(re==="*"){for(ae=l(O),H=ae.length;H-- >0;)N=ae[H],N!=="_listeners"&&(ve=z(S,w,O[N],P+1,M),ve&&(E?E.push.apply(E,ve):E=ve));return E}else if(re==="**"){for(Z=P+1===M||P+2===M&&ce==="*",Z&&O._listeners&&(E=z(S,w,O,M,M)),ae=l(O),H=ae.length;H-- >0;)N=ae[H],N!=="_listeners"&&(N==="*"||N==="**"?(O[N]._listeners&&!Z&&(ve=z(S,w,O[N],M,M),ve&&(E?E.push.apply(E,ve):E=ve)),ve=z(S,w,O[N],P,M)):N===ce?ve=z(S,w,O[N],P+2,M):ve=z(S,w,O[N],P,M),ve&&(E?E.push.apply(E,ve):E=ve));return E}else O[re]&&(E=z(S,w,O[re],P+1,M));if(R=O["*"],R&&z(S,w,R,P+1,M),q=O["**"],q)if(P<M)for(q._listeners&&z(S,w,q,M,M),ae=l(q),H=ae.length;H-- >0;)N=ae[H],N!=="_listeners"&&(N===ce?z(S,w,q[N],P+2,M):N===re?z(S,w,q[N],P+1,M):(J={},J[N]=q[N],z(S,w,{"**":J},P+1,M)));else q._listeners?z(S,w,q,M,M):q["*"]&&q["*"]._listeners&&z(S,w,q["*"],M,M);return E}function F(S,w,O){var P=0,M=0,x,D=this.delimiter,H=D.length,Y;if(typeof S=="string")if((x=S.indexOf(D))!==-1){Y=new Array(5);do Y[P++]=S.slice(M,x),M=x+H;while((x=S.indexOf(D,M))!==-1);Y[P++]=S.slice(M)}else Y=[S],P=1;else Y=S,P=S.length;if(P>1){for(x=0;x+1<P;x++)if(Y[x]==="**"&&Y[x+1]==="**")return}var K=this.listenerTree,g;for(x=0;x<P;x++)if(g=Y[x],K=K[g]||(K[g]={}),x===P-1)return K._listeners?(typeof K._listeners=="function"&&(K._listeners=[K._listeners]),O?K._listeners.unshift(w):K._listeners.push(w),!K._listeners.warned&&this._maxListeners>0&&K._listeners.length>this._maxListeners&&(K._listeners.warned=!0,p.call(this,K._listeners.length,g))):K._listeners=w,!0;return!0}function j(S,w,O,P){for(var M=l(S),x=M.length,D,H,Y,K=S._listeners,g;x-- >0;)H=M[x],D=S[H],H==="_listeners"?Y=O:Y=O?O.concat(H):[H],g=P||typeof H=="symbol",K&&w.push(g?Y:Y.join(this.delimiter)),typeof D=="object"&&j.call(this,D,w,Y,g);return w}function k(S){for(var w=l(S),O=w.length,P,M,x;O-- >0;)M=w[O],P=S[M],P&&(x=!0,M!=="_listeners"&&!k(P)&&delete S[M]);return x}function B(S,w,O){this.emitter=S,this.event=w,this.listener=O}B.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function A(S,w,O){if(O===!0)M=!0;else if(O===!1)P=!0;else{if(!O||typeof O!="object")throw TypeError("options should be an object or true");var P=O.async,M=O.promisify,x=O.nextTick,D=O.objectify}if(P||x||M){var H=w,Y=w._origin||w;if(x&&!o)throw Error("process.nextTick is not supported");M===r&&(M=w.constructor.name==="AsyncFunction"),w=function(){var K=arguments,g=this,_=this.event;return M?x?Promise.resolve():new Promise(function(E){f(E)}).then(function(){return g.event=_,H.apply(g,K)}):(x?process.nextTick:f)(function(){g.event=_,H.apply(g,K)})},w._async=!0,w._origin=Y}return[w,D?new B(this,S,w):this]}function L(S){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,d.call(this,S)}L.EventEmitter2=L,L.prototype.listenTo=function(S,w,O){if(typeof S!="object")throw TypeError("target musts be an object");var P=this;O=m(O,{on:r,off:r,reducers:r},{on:I,off:I,reducers:C});function M(x){if(typeof x!="object")throw TypeError("events must be an object");var D=O.reducers,H=G.call(P,S),Y;H===-1?Y=new y(P,S,O):Y=P._observers[H];for(var K=l(x),g=K.length,_,E=typeof D=="function",N=0;N<g;N++)_=K[N],Y.subscribe(_,x[_]||_,E?D:D&&D[_])}return i(w)?M(b(w)):M(typeof w=="string"?b(w.split(/\s+/)):w),this},L.prototype.stopListeningTo=function(S,w){var O=this._observers;if(!O)return!1;var P=O.length,M,x=!1;if(S&&typeof S!="object")throw TypeError("target should be an object");for(;P-- >0;)M=O[P],(!S||M._target===S)&&(M.unsubscribe(w),x=!0);return x},L.prototype.delimiter=".",L.prototype.setMaxListeners=function(S){S!==r&&(this._maxListeners=S,this._conf||(this._conf={}),this._conf.maxListeners=S)},L.prototype.getMaxListeners=function(){return this._maxListeners},L.prototype.event="",L.prototype.once=function(S,w,O){return this._once(S,w,!1,O)},L.prototype.prependOnceListener=function(S,w,O){return this._once(S,w,!0,O)},L.prototype._once=function(S,w,O,P){return this._many(S,1,w,O,P)},L.prototype.many=function(S,w,O,P){return this._many(S,w,O,!1,P)},L.prototype.prependMany=function(S,w,O,P){return this._many(S,w,O,!0,P)},L.prototype._many=function(S,w,O,P,M){var x=this;if(typeof O!="function")throw new Error("many only accepts instances of Function");function D(){return--w===0&&x.off(S,D),O.apply(this,arguments)}return D._origin=O,this._on(S,D,P,M)},L.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||h.call(this);var S=arguments[0],w,O=this.wildcard,P,M,x,D,H;if(S==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(O&&(w=S,S!=="newListener"&&S!=="removeListener"&&typeof S=="object")){if(M=S.length,u){for(x=0;x<M;x++)if(typeof S[x]=="symbol"){H=!0;break}}H||(S=S.join(this.delimiter))}var Y=arguments.length,K;if(this._all&&this._all.length)for(K=this._all.slice(),x=0,M=K.length;x<M;x++)switch(this.event=S,Y){case 1:K[x].call(this,S);break;case 2:K[x].call(this,S,arguments[1]);break;case 3:K[x].call(this,S,arguments[1],arguments[2]);break;default:K[x].apply(this,arguments)}if(O)K=[],z.call(this,K,w,this.listenerTree,0,M);else if(K=this._events[S],typeof K=="function"){switch(this.event=S,Y){case 1:K.call(this);break;case 2:K.call(this,arguments[1]);break;case 3:K.call(this,arguments[1],arguments[2]);break;default:for(P=new Array(Y-1),D=1;D<Y;D++)P[D-1]=arguments[D];K.apply(this,P)}return!0}else K&&(K=K.slice());if(K&&K.length){if(Y>3)for(P=new Array(Y-1),D=1;D<Y;D++)P[D-1]=arguments[D];for(x=0,M=K.length;x<M;x++)switch(this.event=S,Y){case 1:K[x].call(this);break;case 2:K[x].call(this,arguments[1]);break;case 3:K[x].call(this,arguments[1],arguments[2]);break;default:K[x].apply(this,P)}return!0}else if(!this.ignoreErrors&&!this._all&&S==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},L.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||h.call(this);var S=arguments[0],w=this.wildcard,O,P,M,x,D,H;if(S==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(w&&(O=S,S!=="newListener"&&S!=="removeListener"&&typeof S=="object")){if(x=S.length,u){for(D=0;D<x;D++)if(typeof S[D]=="symbol"){P=!0;break}}P||(S=S.join(this.delimiter))}var Y=[],K=arguments.length,g;if(this._all)for(D=0,x=this._all.length;D<x;D++)switch(this.event=S,K){case 1:Y.push(this._all[D].call(this,S));break;case 2:Y.push(this._all[D].call(this,S,arguments[1]));break;case 3:Y.push(this._all[D].call(this,S,arguments[1],arguments[2]));break;default:Y.push(this._all[D].apply(this,arguments))}if(w?(g=[],z.call(this,g,O,this.listenerTree,0)):g=this._events[S],typeof g=="function")switch(this.event=S,K){case 1:Y.push(g.call(this));break;case 2:Y.push(g.call(this,arguments[1]));break;case 3:Y.push(g.call(this,arguments[1],arguments[2]));break;default:for(M=new Array(K-1),H=1;H<K;H++)M[H-1]=arguments[H];Y.push(g.apply(this,M))}else if(g&&g.length){if(g=g.slice(),K>3)for(M=new Array(K-1),H=1;H<K;H++)M[H-1]=arguments[H];for(D=0,x=g.length;D<x;D++)switch(this.event=S,K){case 1:Y.push(g[D].call(this));break;case 2:Y.push(g[D].call(this,arguments[1]));break;case 3:Y.push(g[D].call(this,arguments[1],arguments[2]));break;default:Y.push(g[D].apply(this,M))}}else if(!this.ignoreErrors&&!this._all&&S==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(Y)},L.prototype.on=function(S,w,O){return this._on(S,w,!1,O)},L.prototype.prependListener=function(S,w,O){return this._on(S,w,!0,O)},L.prototype.onAny=function(S){return this._onAny(S,!1)},L.prototype.prependAny=function(S){return this._onAny(S,!0)},L.prototype.addListener=L.prototype.on,L.prototype._onAny=function(S,w){if(typeof S!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),w?this._all.unshift(S):this._all.push(S),this},L.prototype._on=function(S,w,O,P){if(typeof S=="function")return this._onAny(S,w),this;if(typeof w!="function")throw new Error("on only accepts instances of Function");this._events||h.call(this);var M=this,x;return P!==r&&(x=A.call(this,S,w,P),w=x[0],M=x[1]),this._newListener&&this.emit("newListener",S,w),this.wildcard?(F.call(this,S,w,O),M):(this._events[S]?(typeof this._events[S]=="function"&&(this._events[S]=[this._events[S]]),O?this._events[S].unshift(w):this._events[S].push(w),!this._events[S].warned&&this._maxListeners>0&&this._events[S].length>this._maxListeners&&(this._events[S].warned=!0,p.call(this,this._events[S].length,S))):this._events[S]=w,M)},L.prototype.off=function(S,w){if(typeof w!="function")throw new Error("removeListener only takes instances of Function");var O,P=[];if(this.wildcard){var M=typeof S=="string"?S.split(this.delimiter):S.slice();if(P=z.call(this,null,M,this.listenerTree,0),!P)return this}else{if(!this._events[S])return this;O=this._events[S],P.push({_listeners:O})}for(var x=0;x<P.length;x++){var D=P[x];if(O=D._listeners,i(O)){for(var H=-1,Y=0,K=O.length;Y<K;Y++)if(O[Y]===w||O[Y].listener&&O[Y].listener===w||O[Y]._origin&&O[Y]._origin===w){H=Y;break}if(H<0)continue;return this.wildcard?D._listeners.splice(H,1):this._events[S].splice(H,1),O.length===0&&(this.wildcard?delete D._listeners:delete this._events[S]),this._removeListener&&this.emit("removeListener",S,w),this}else(O===w||O.listener&&O.listener===w||O._origin&&O._origin===w)&&(this.wildcard?delete D._listeners:delete this._events[S],this._removeListener&&this.emit("removeListener",S,w))}return this.listenerTree&&k(this.listenerTree),this},L.prototype.offAny=function(S){var w=0,O=0,P;if(S&&this._all&&this._all.length>0){for(P=this._all,w=0,O=P.length;w<O;w++)if(S===P[w])return P.splice(w,1),this._removeListener&&this.emit("removeListenerAny",S),this}else{if(P=this._all,this._removeListener)for(w=0,O=P.length;w<O;w++)this.emit("removeListenerAny",P[w]);this._all=[]}return this},L.prototype.removeListener=L.prototype.off,L.prototype.removeAllListeners=function(S){if(S===r)return!this._events||h.call(this),this;if(this.wildcard){var w=z.call(this,null,S,this.listenerTree,0),O,P;if(!w)return this;for(P=0;P<w.length;P++)O=w[P],O._listeners=null;this.listenerTree&&k(this.listenerTree)}else this._events&&(this._events[S]=null);return this},L.prototype.listeners=function(S){var w=this._events,O,P,M,x,D;if(S===r){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!w)return[];for(O=l(w),x=O.length,M=[];x-- >0;)P=w[O[x]],typeof P=="function"?M.push(P):M.push.apply(M,P);return M}else{if(this.wildcard){if(D=this.listenerTree,!D)return[];var H=[],Y=typeof S=="string"?S.split(this.delimiter):S.slice();return z.call(this,H,Y,D,0),H}return w?(P=w[S],P?typeof P=="function"?[P]:P:[]):[]}},L.prototype.eventNames=function(S){var w=this._events;return this.wildcard?j.call(this,this.listenerTree,[],null,S):w?l(w):[]},L.prototype.listenerCount=function(S){return this.listeners(S).length},L.prototype.hasListeners=function(S){if(this.wildcard){var w=[],O=typeof S=="string"?S.split(this.delimiter):S.slice();return z.call(this,w,O,this.listenerTree,0),w.length>0}var P=this._events,M=this._all;return!!(M&&M.length||P&&(S===r?l(P).length:P[S]))},L.prototype.listenersAny=function(){return this._all?this._all:[]},L.prototype.waitFor=function(S,w){var O=this,P=typeof w;return P==="number"?w={timeout:w}:P==="function"&&(w={filter:w}),w=m(w,{timeout:0,filter:r,handleError:!1,Promise,overload:!1},{filter:I,Promise:$}),U(w.Promise,function(M,x,D){function H(){var Y=w.filter;if(!(Y&&!Y.apply(O,arguments)))if(O.off(S,H),w.handleError){var K=arguments[0];K?x(K):M(v.apply(null,arguments).slice(1))}else M(v.apply(null,arguments))}D(function(){O.off(S,H)}),O._on(S,H,!1)},{timeout:w.timeout,overload:w.overload})};function W(S,w,O){O=m(O,{Promise,timeout:0,overload:!1},{Promise:$});var P=O.Promise;return U(P,function(M,x,D){var H;if(typeof S.addEventListener=="function"){H=function(){M(v.apply(null,arguments))},D(function(){S.removeEventListener(w,H)}),S.addEventListener(w,H,{once:!0});return}var Y=function(){K&&S.removeListener("error",K),M(v.apply(null,arguments))},K;w!=="error"&&(K=function(g){S.removeListener(w,Y),x(g)},S.once("error",K)),D(function(){K&&S.removeListener("error",K),S.removeListener(w,Y)}),S.once(w,Y)},{timeout:O.timeout,overload:O.overload})}var V=L.prototype;Object.defineProperties(L,{defaultMaxListeners:{get:function(){return V._maxListeners},set:function(S){if(typeof S!="number"||S<0||Number.isNaN(S))throw TypeError("n must be a non-negative number");V._maxListeners=S},enumerable:!0},once:{value:W,writable:!0,configurable:!0}}),Object.defineProperties(V,{_maxListeners:{value:a,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),e.exports=L})()})(YT);var VT=YT.exports;Object.defineProperty(fc,"__esModule",{value:!0});var Fae=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Lae=lc,Nae=Ga(Lae),Uae=Pp,Bae=Ga(Uae),Wae=di,_l=Ga(Wae),Hae=BT,Yae=Ga(Hae),Vae=VT,Gae=Ga(Vae);function Ga(e){return e&&e.__esModule?e:{default:e}}function zae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qae(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Kae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Xae=function(e){Kae(t,e);function t(r){zae(this,t);var n=qae(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));typeof r=="string"&&(r=JSON.parse(r)),r&&r.conditions&&n.setConditions(r.conditions),r&&r.onSuccess&&n.on("success",r.onSuccess),r&&r.onFailure&&n.on("failure",r.onFailure),r&&(r.name||r.name===0)&&n.setName(r.name);var i=r&&r.priority||1;n.setPriority(i);var a=r&&r.event||{type:"unknown"};return n.setEvent(a),n}return Fae(t,[{key:"setPriority",value:function(n){if(n=parseInt(n,10),n<=0)throw new Error("Priority must be greater than zero");return this.priority=n,this}},{key:"setName",value:function(n){if(!n&&n!==0)throw new Error('Rule "name" must be defined');return this.name=n,this}},{key:"setConditions",value:function(n){if(!Object.prototype.hasOwnProperty.call(n,"all")&&!Object.prototype.hasOwnProperty.call(n,"any")&&!Object.prototype.hasOwnProperty.call(n,"not")&&!Object.prototype.hasOwnProperty.call(n,"condition"))throw new Error('"conditions" root must contain a single instance of "all", "any", "not", or "condition"');return this.conditions=new Nae.default(n),this}},{key:"setEvent",value:function(n){if(!n)throw new Error("Rule: setEvent() requires event object");if(!Object.prototype.hasOwnProperty.call(n,"type"))throw new Error('Rule: setEvent() requires event object with "type" property');return this.ruleEvent={type:n.type},n.params&&(this.ruleEvent.params=n.params),this}},{key:"getEvent",value:function(){return this.ruleEvent}},{key:"getPriority",value:function(){return this.priority}},{key:"getConditions",value:function(){return this.conditions}},{key:"getEngine",value:function(){return this.engine}},{key:"setEngine",value:function(n){return this.engine=n,this}},{key:"toJSON",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i={conditions:this.conditions.toJSON(!1),priority:this.priority,event:this.ruleEvent,name:this.name};return n?JSON.stringify(i):i}},{key:"prioritizeConditions",value:function(n){var i=this,a=n.reduce(function(o,u){var c=u.priority;if(!c){var s=i.engine.getFact(u.fact);c=s&&s.priority||1}return o[c]||(o[c]=[]),o[c].push(u),o},{});return Object.keys(a).sort(function(o,u){return Number(o)>Number(u)?-1:1}).map(function(o){return a[o]})}},{key:"evaluate",value:function(n){var i=this,a=new Bae.default(this.conditions,this.ruleEvent,this.priority,this.name),o=function(v){if(v.isConditionReference())return h(v);if(v.isBooleanOperator()){var b=v[v.operator],y=void 0;return v.operator==="all"?y=f(b):v.operator==="any"?y=s(b):y=l(b),y.then(function(m){var $=m===!0;return v.result=$,$})}else return v.evaluate(n,i.engine.operators).then(function(m){var $=m.result;return v.factResult=m.leftHandSideValue,v.result=$,$})},u=function(v,b){return Array.isArray(v)||(v=[v]),Promise.all(v.map(function(y){return o(y)})).then(function(y){return(0,_l.default)("rule::evaluateConditions results",y),b.call(y,function(m){return m===!0})})},c=function(v,b){if(v.length===0)return Promise.resolve(!0);if(v.length===1)return o(v[0]);var y=Array.prototype.some;b==="all"&&(y=Array.prototype.every);for(var m=i.prioritizeConditions(v),$=Promise.resolve(),T=function(U){var G=m[U],z=!1;$=$.then(function(F){return b==="any"&&F===!0||z?((0,_l.default)("prioritizeAndRun::detected truthy result; skipping remaining conditions"),z=!0,!0):b==="all"&&F===!1||z?((0,_l.default)("prioritizeAndRun::detected falsey result; skipping remaining conditions"),z=!0,!1):u(G,y)})},I=0;I<m.length;I++)T(I);return $},s=function(v){return c(v,"any")},f=function(v){return c(v,"all")},l=function(v){return c([v],"not").then(function(b){return!b})},h=function(v){var b=i.engine.conditions.get(v.condition);if(b)return delete v.condition,Object.assign(v,(0,Yae.default)(b)),o(v);if(i.engine.allowUndefinedConditions)return v.result=!1,Promise.resolve(!1);throw new Error("No condition "+v.condition+" exists")},d=function(v){a.setResult(v);var b=Promise.resolve();i.engine.replaceFactsInEventParams&&(b=a.resolveEventParams(n));var y=v?"success":"failure";return b.then(function(){return i.emitAsync(y,a.event,n,a)}).then(function(){return a})};return a.conditions.any?s(a.conditions.any).then(function(p){return d(p)}):a.conditions.all?f(a.conditions.all).then(function(p){return d(p)}):a.conditions.not?l(a.conditions.not).then(function(p){return d(p)}):h(a.conditions).then(function(p){return d(p)})}}]),t}(Gae.default);fc.default=Xae;var za={};Object.defineProperty(za,"__esModule",{value:!0});var Jae=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function Qae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Zae=function(){function e(t,r,n){if(Qae(this,e),this.name=String(t),!t)throw new Error("Missing operator name");if(typeof r!="function")throw new Error("Missing operator callback");this.cb=r,this.factValueValidator=n,this.factValueValidator||(this.factValueValidator=function(){return!0})}return Jae(e,[{key:"evaluate",value:function(r,n){return this.factValueValidator(r)&&this.cb(r,n)}}]),e}();za.default=Zae;var hc={},Cp={};Object.defineProperty(Cp,"__esModule",{value:!0});function eoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function toe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function roe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Cp.UndefinedFactError=function(e){roe(t,e);function t(){var r;eoe(this,t);for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=toe(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(i)));return o.code="UNDEFINED_FACT",o}return t}(Error);function Mt(e){"@babel/helpers - typeof";return Mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mt(e)}function GT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function noe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zT(e,t,r){return t&&noe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ioe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ma(e,t)}function ga(e){return ga=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ga(e)}function ma(e,t){return ma=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ma(e,t)}function qT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zi(e,t,r){return qT()?Zi=Reflect.construct.bind():Zi=function(i,a,o){var u=[null];u.push.apply(u,a);var c=Function.bind.apply(i,u),s=new c;return o&&ma(s,o.prototype),s},Zi.apply(null,arguments)}function aoe(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function sd(e){var t=typeof Map=="function"?new Map:void 0;return sd=function(n){if(n===null||!aoe(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,i)}function i(){return Zi(n,arguments,ga(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),ma(i,n)},sd(e)}function ooe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function soe(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ooe(e)}function uoe(e){var t=qT();return function(){var n=ga(e),i;if(t){var a=ga(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return soe(this,i)}}function coe(e){return foe(e)||loe(e)||KT(e)||hoe()}function foe(e){if(Array.isArray(e))return ud(e)}function loe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KT(e,t){if(e){if(typeof e=="string")return ud(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ud(e,t)}}function ud(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function doe(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=KT(e))||t){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,u;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return a=c.done,c},e:function(c){o=!0,u=c},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw u}}}}var Ze=Object.prototype.hasOwnProperty;function Br(e,t){return e=e.slice(),e.push(t),e}function cd(e,t){return t=t.slice(),t.unshift(e),t}var voe=function(e){ioe(r,e);var t=uoe(r);function r(n){var i;return GT(this,r),i=t.call(this,'JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)'),i.avoidNew=!0,i.value=n,i.name="NewError",i}return zT(r)}(sd(Error));function pe(e,t,r,n,i){if(!(this instanceof pe))try{return new pe(e,t,r,n,i)}catch(c){if(!c.avoidNew)throw c;return c.value}typeof e=="string"&&(i=n,n=r,r=t,t=e,e=null);var a=e&&Mt(e)==="object";if(e=e||{},this.json=e.json||r,this.path=e.path||t,this.resultType=e.resultType||"value",this.flatten=e.flatten||!1,this.wrap=Ze.call(e,"wrap")?e.wrap:!0,this.sandbox=e.sandbox||{},this.preventEval=e.preventEval||!1,this.parent=e.parent||null,this.parentProperty=e.parentProperty||null,this.callback=e.callback||n||null,this.otherTypeCallback=e.otherTypeCallback||i||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},e.autostart!==!1){var o={path:a?e.path:t};a?"json"in e&&(o.json=e.json):o.json=r;var u=this.evaluate(o);if(!u||Mt(u)!=="object")throw new voe(u);return u}}pe.prototype.evaluate=function(e,t,r,n){var i=this,a=this.parent,o=this.parentProperty,u=this.flatten,c=this.wrap;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,r=r||this.callback,this.currOtherTypeCallback=n||this.otherTypeCallback,t=t||this.json,e=e||this.path,e&&Mt(e)==="object"&&!Array.isArray(e)){if(!e.path&&e.path!=="")throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!Ze.call(e,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');var s=e;t=s.json,u=Ze.call(e,"flatten")?e.flatten:u,this.currResultType=Ze.call(e,"resultType")?e.resultType:this.currResultType,this.currSandbox=Ze.call(e,"sandbox")?e.sandbox:this.currSandbox,c=Ze.call(e,"wrap")?e.wrap:c,this.currPreventEval=Ze.call(e,"preventEval")?e.preventEval:this.currPreventEval,r=Ze.call(e,"callback")?e.callback:r,this.currOtherTypeCallback=Ze.call(e,"otherTypeCallback")?e.otherTypeCallback:this.currOtherTypeCallback,a=Ze.call(e,"parent")?e.parent:a,o=Ze.call(e,"parentProperty")?e.parentProperty:o,e=e.path}if(a=a||null,o=o||null,Array.isArray(e)&&(e=pe.toPathString(e)),!(!e&&e!==""||!t)){var f=pe.toPathArray(e);f[0]==="$"&&f.length>1&&f.shift(),this._hasParentSelector=null;var l=this._trace(f,t,["$"],a,o,r).filter(function(h){return h&&!h.isParentSelector});return l.length?!c&&l.length===1&&!l[0].hasArrExpr?this._getPreferredOutput(l[0]):l.reduce(function(h,d){var p=i._getPreferredOutput(d);return u&&Array.isArray(p)?h=h.concat(p):h.push(p),h},[]):c?[]:void 0}};pe.prototype._getPreferredOutput=function(e){var t=this.currResultType;switch(t){case"all":{var r=Array.isArray(e.path)?e.path:pe.toPathArray(e.path);return e.pointer=pe.toPointer(r),e.path=typeof e.path=="string"?e.path:pe.toPathString(e.path),e}case"value":case"parent":case"parentProperty":return e[t];case"path":return pe.toPathString(e[t]);case"pointer":return pe.toPointer(e.path);default:throw new TypeError("Unknown result type")}};pe.prototype._handleCallback=function(e,t,r){if(t){var n=this._getPreferredOutput(e);e.path=typeof e.path=="string"?e.path:pe.toPathString(e.path),t(n,r,e)}};pe.prototype._trace=function(e,t,r,n,i,a,o,u){var c=this,s;if(!e.length)return s={path:r,value:t,parent:n,parentProperty:i,hasArrExpr:o},this._handleCallback(s,a,"value"),s;var f=e[0],l=e.slice(1),h=[];function d(j){Array.isArray(j)?j.forEach(function(k){h.push(k)}):h.push(j)}if((typeof f!="string"||u)&&t&&Ze.call(t,f))d(this._trace(l,t[f],Br(r,f),t,f,a,o));else if(f==="*")this._walk(t,function(j){d(c._trace(l,t[j],Br(r,j),t,j,a,!0,!0))});else if(f==="..")d(this._trace(l,t,r,n,i,a,o)),this._walk(t,function(j){Mt(t[j])==="object"&&d(c._trace(e.slice(),t[j],Br(r,j),t,j,a,!0))});else{if(f==="^")return this._hasParentSelector=!0,{path:r.slice(0,-1),expr:l,isParentSelector:!0};if(f==="~")return s={path:Br(r,f),value:i,parent:n,parentProperty:null},this._handleCallback(s,a,"property"),s;if(f==="$")d(this._trace(l,t,r,null,null,a,o));else if(/^(\x2D?[0-9]*):(\x2D?[0-9]*):?([0-9]*)$/.test(f))d(this._slice(f,l,t,r,n,i,a));else if(f.indexOf("?(")===0){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");var p=f.replace(/^\?\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?)\)$/,"$1");this._walk(t,function(j){c._eval(p,t[j],j,r,n,i)&&d(c._trace(l,t[j],Br(r,j),t,j,a,!0))})}else if(f[0]==="("){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");d(this._trace(cd(this._eval(f,t,r[r.length-1],r.slice(0,-1),n,i),l),t,r,n,i,a,o))}else if(f[0]==="@"){var v=!1,b=f.slice(1,-2);switch(b){case"scalar":(!t||!["object","function"].includes(Mt(t)))&&(v=!0);break;case"boolean":case"string":case"undefined":case"function":Mt(t)===b&&(v=!0);break;case"integer":Number.isFinite(t)&&!(t%1)&&(v=!0);break;case"number":Number.isFinite(t)&&(v=!0);break;case"nonFinite":typeof t=="number"&&!Number.isFinite(t)&&(v=!0);break;case"object":t&&Mt(t)===b&&(v=!0);break;case"array":Array.isArray(t)&&(v=!0);break;case"other":v=this.currOtherTypeCallback(t,r,n,i);break;case"null":t===null&&(v=!0);break;default:throw new TypeError("Unknown value type "+b)}if(v)return s={path:r,value:t,parent:n,parentProperty:i},this._handleCallback(s,a,"value"),s}else if(f[0]==="`"&&t&&Ze.call(t,f.slice(1))){var y=f.slice(1);d(this._trace(l,t[y],Br(r,y),t,y,a,o,!0))}else if(f.includes(",")){var m=f.split(","),$=doe(m),T;try{for($.s();!(T=$.n()).done;){var I=T.value;d(this._trace(cd(I,l),t,r,n,i,a,!0))}}catch(j){$.e(j)}finally{$.f()}}else!u&&t&&Ze.call(t,f)&&d(this._trace(l,t[f],Br(r,f),t,f,a,o,!0))}if(this._hasParentSelector)for(var C=0;C<h.length;C++){var U=h[C];if(U&&U.isParentSelector){var G=this._trace(U.expr,t,U.path,n,i,a,o);if(Array.isArray(G)){h[C]=G[0];for(var z=G.length,F=1;F<z;F++)C++,h.splice(C,0,G[F])}else h[C]=G}}return h};pe.prototype._walk=function(e,t){if(Array.isArray(e))for(var r=e.length,n=0;n<r;n++)t(n);else e&&Mt(e)==="object"&&Object.keys(e).forEach(function(i){t(i)})};pe.prototype._slice=function(e,t,r,n,i,a,o){if(Array.isArray(r)){var u=r.length,c=e.split(":"),s=c[2]&&Number.parseInt(c[2])||1,f=c[0]&&Number.parseInt(c[0])||0,l=c[1]&&Number.parseInt(c[1])||u;f=f<0?Math.max(0,f+u):Math.min(u,f),l=l<0?Math.max(0,l+u):Math.min(u,l);for(var h=[],d=f;d<l;d+=s){var p=this._trace(cd(d,t),r,n,i,a,o,!0);p.forEach(function(v){h.push(v)})}return h}};pe.prototype._eval=function(e,t,r,n,i,a){this.currSandbox._$_parentProperty=a,this.currSandbox._$_parent=i,this.currSandbox._$_property=r,this.currSandbox._$_root=this.json,this.currSandbox._$_v=t;var o=e.includes("@path");o&&(this.currSandbox._$_path=pe.toPathString(n.concat([r])));var u="script:"+e;if(!pe.cache[u]){var c=e.replace(/@parentProperty/g,"_$_parentProperty").replace(/@parent/g,"_$_parent").replace(/@property/g,"_$_property").replace(/@root/g,"_$_root").replace(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/g,"_$_v$1");o&&(c=c.replace(/@path/g,"_$_path")),pe.cache[u]=new this.vm.Script(c)}try{return pe.cache[u].runInNewContext(this.currSandbox)}catch(s){throw new Error("jsonPath: "+s.message+": "+e)}};pe.cache={};pe.toPathString=function(e){for(var t=e,r=t.length,n="$",i=1;i<r;i++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(t[i])||(n+=/^[\*0-9]+$/.test(t[i])?"["+t[i]+"]":"['"+t[i]+"']");return n};pe.toPointer=function(e){for(var t=e,r=t.length,n="",i=1;i<r;i++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(t[i])||(n+="/"+t[i].toString().replace(/~/g,"~0").replace(/\//g,"~1"));return n};pe.toPathArray=function(e){var t=pe.cache;if(t[e])return t[e].concat();var r=[],n=e.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/['\[](\??\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\))['\]]/g,function(a,o){return"[#"+(r.push(o)-1)+"]"}).replace(/\[["']((?:(?!['\]])[\s\S])*)["']\]/g,function(a,o){return"['"+o.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"}).replace(/~/g,";~;").replace(/["']?\.["']?(?!(?:(?!\[)[\s\S])*\])|\[["']?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,function(a,o){return";"+o.split("").join(";")+";"}).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,""),i=n.split(";").map(function(a){var o=a.match(/#([0-9]+)/);return!o||!o[1]?a:r[o[1]]});return t[e]=i,t[e].concat()};var poe=function(t,r,n){for(var i=t.length,a=0;a<i;a++){var o=t[a];n(o)&&r.push(t.splice(a--,1)[0])}},yoe=function(){function e(t){GT(this,e),this.code=t}return zT(e,[{key:"runInNewContext",value:function(r){var n=this.code,i=Object.keys(r),a=[];poe(i,a,function(f){return typeof r[f]=="function"});var o=i.map(function(f,l){return r[f]}),u=a.reduce(function(f,l){var h=r[l].toString();return/function/.test(h)||(h="function "+h),"var "+l+"="+h+";"+f},"");n=u+n,!/(["'])use strict\1/.test(n)&&!i.includes("arguments")&&(n="var arguments = undefined;"+n),n=n.replace(/;[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*$/,"");var c=n.lastIndexOf(";"),s=c>-1?n.slice(0,c+1)+" return "+n.slice(c+1):" return "+n;return Zi(Function,i.concat([s])).apply(void 0,coe(o))}}]),e}();pe.prototype.vm={Script:yoe};const goe=Object.freeze(Object.defineProperty({__proto__:null,JSONPath:pe},Symbol.toStringTag,{value:"Module"})),moe=Kie(goe);Object.defineProperty(hc,"__esModule",{value:!0});var boe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_oe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),$oe=Va,$l=Ap($oe),woe=Cp,Soe=di,Wr=Ap(Soe),Ooe=moe,Eoe=WT,kb=Ap(Eoe);function Ap(e){return e&&e.__esModule?e:{default:e}}function Toe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xoe(e,t){return(0,Ooe.JSONPath)({path:t,json:e,wrap:!1})}var Poe=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Toe(this,e),this.factMap=new Map,this.factResultsCache=new Map,this.allowUndefinedFacts=!!t.allowUndefinedFacts,this.pathResolver=t.pathResolver||xoe,this.events={success:[],failure:[]},this.ruleResults=[]}return _oe(e,[{key:"addEvent",value:function(r,n){if(!n)throw new Error('outcome required: "success" | "failure"]');this.events[n].push(r)}},{key:"getEvents",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return r?this.events[r]:this.events.success.concat(this.events.failure)}},{key:"addResult",value:function(r){this.ruleResults.push(r)}},{key:"getResults",value:function(){return this.ruleResults}},{key:"_getFact",value:function(r){return this.factMap.get(r)}},{key:"_addConstantFact",value:function(r){this.factMap.set(r.id,r),this._setFactValue(r,{},r.value)}},{key:"_setFactValue",value:function(r,n,i){var a=r.getCacheKey(n),o=Promise.resolve(i);return a&&this.factResultsCache.set(a,o),o}},{key:"addFact",value:function(r,n,i){var a=r,o=void 0;return r instanceof $l.default?(a=r.id,o=r):o=new $l.default(r,n,i),(0,Wr.default)("almanac::addFact id:"+a),this.factMap.set(a,o),o.isConstant()&&this._setFactValue(o,{},o.value),this}},{key:"addRuntimeFact",value:function(r,n){(0,Wr.default)("almanac::addRuntimeFact id:"+r);var i=new $l.default(r,n);return this._addConstantFact(i)}},{key:"factValue",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",o=void 0,u=this._getFact(r);if(u===void 0)return this.allowUndefinedFacts?Promise.resolve(void 0):Promise.reject(new woe.UndefinedFactError("Undefined fact: "+r));if(u.isConstant())o=Promise.resolve(u.calculate(i,this));else{var c=u.getCacheKey(i),s=c&&this.factResultsCache.get(c);s?(o=Promise.resolve(s),(0,Wr.default)("almanac::factValue cache hit for fact:"+r)):((0,Wr.default)("almanac::factValue cache miss for fact:"+r+"; calculating"),o=this._setFactValue(u,i,u.calculate(i,this)))}return a?((0,Wr.default)("condition::evaluate extracting object property "+a),o.then(function(f){if((0,kb.default)(f)){var l=n.pathResolver(f,a);return(0,Wr.default)("condition::evaluate extracting object property "+a+", received: "+JSON.stringify(l)),l}else return(0,Wr.default)("condition::evaluate could not compute object path("+a+") of non-object: "+f+" <"+(typeof f>"u"?"undefined":boe(f))+">; continuing with "+f),f})):o}},{key:"getValue",value:function(r){return(0,kb.default)(r)&&Object.prototype.hasOwnProperty.call(r,"fact")?this.factValue(r.fact,r.params,r.path):Promise.resolve(r)}}]),e}();hc.default=Poe;var Rp={};Object.defineProperty(Rp,"__esModule",{value:!0});var Coe=za,Xt=Aoe(Coe);function Aoe(e){return e&&e.__esModule?e:{default:e}}var At=[];At.push(new Xt.default("equal",function(e,t){return e===t}));At.push(new Xt.default("notEqual",function(e,t){return e!==t}));At.push(new Xt.default("in",function(e,t){return t.indexOf(e)>-1}));At.push(new Xt.default("notIn",function(e,t){return t.indexOf(e)===-1}));At.push(new Xt.default("contains",function(e,t){return e.indexOf(t)>-1},Array.isArray));At.push(new Xt.default("doesNotContain",function(e,t){return e.indexOf(t)===-1},Array.isArray));function dc(e){return Number.parseFloat(e).toString()!=="NaN"}At.push(new Xt.default("lessThan",function(e,t){return e<t},dc));At.push(new Xt.default("lessThanInclusive",function(e,t){return e<=t},dc));At.push(new Xt.default("greaterThan",function(e,t){return e>t},dc));At.push(new Xt.default("greaterThanInclusive",function(e,t){return e>=t},dc));Rp.default=At;Object.defineProperty(ar,"__esModule",{value:!0});ar.FINISHED=ar.RUNNING=ar.READY=void 0;var Roe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ioe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),joe=Va,Ii=Fr(joe),Moe=fc,wl=Fr(Moe),koe=za,Sl=Fr(koe),Doe=hc,Foe=Fr(Doe),Loe=VT,Noe=Fr(Loe),Uoe=Rp,Boe=Fr(Uoe),Woe=di,Hr=Fr(Woe),Hoe=lc,Yoe=Fr(Hoe);function Fr(e){return e&&e.__esModule?e:{default:e}}function Voe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Goe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function zoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var qoe=ar.READY="READY",Db=ar.RUNNING="RUNNING",Fb=ar.FINISHED="FINISHED",Koe=function(e){zoe(t,e);function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Voe(this,t);var i=Goe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.rules=[],i.allowUndefinedFacts=n.allowUndefinedFacts||!1,i.allowUndefinedConditions=n.allowUndefinedConditions||!1,i.replaceFactsInEventParams=n.replaceFactsInEventParams||!1,i.pathResolver=n.pathResolver,i.operators=new Map,i.facts=new Map,i.conditions=new Map,i.status=qoe,r.map(function(a){return i.addRule(a)}),Boe.default.map(function(a){return i.addOperator(a)}),i}return Ioe(t,[{key:"addRule",value:function(n){if(!n)throw new Error("Engine: addRule() requires options");var i=void 0;if(n instanceof wl.default)i=n;else{if(!Object.prototype.hasOwnProperty.call(n,"event"))throw new Error('Engine: addRule() argument requires "event" property');if(!Object.prototype.hasOwnProperty.call(n,"conditions"))throw new Error('Engine: addRule() argument requires "conditions" property');i=new wl.default(n)}return i.setEngine(this),this.rules.push(i),this.prioritizedRules=null,this}},{key:"updateRule",value:function(n){var i=this.rules.findIndex(function(a){return a.name===n.name});if(i>-1)this.rules.splice(i,1),this.addRule(n),this.prioritizedRules=null;else throw new Error("Engine: updateRule() rule not found")}},{key:"removeRule",value:function(n){var i=!1;if(n instanceof wl.default){var o=this.rules.indexOf(n);o>-1&&(i=!!this.rules.splice(o,1).length)}else{var a=this.rules.filter(function(u){return u.name!==n});i=a.length!==this.rules.length,this.rules=a}return i&&(this.prioritizedRules=null),i}},{key:"setCondition",value:function(n,i){if(!n)throw new Error("Engine: setCondition() requires name");if(!i)throw new Error("Engine: setCondition() requires conditions");if(!Object.prototype.hasOwnProperty.call(i,"all")&&!Object.prototype.hasOwnProperty.call(i,"any")&&!Object.prototype.hasOwnProperty.call(i,"not")&&!Object.prototype.hasOwnProperty.call(i,"condition"))throw new Error('"conditions" root must contain a single instance of "all", "any", "not", or "condition"');return this.conditions.set(n,new Yoe.default(i)),this}},{key:"removeCondition",value:function(n){return this.conditions.delete(n)}},{key:"addOperator",value:function(n,i){var a=void 0;n instanceof Sl.default?a=n:a=new Sl.default(n,i),(0,Hr.default)("engine::addOperator name:"+a.name),this.operators.set(a.name,a)}},{key:"removeOperator",value:function(n){var i=void 0;return n instanceof Sl.default?i=n.name:i=n,this.operators.delete(i)}},{key:"addFact",value:function(n,i,a){var o=n,u=void 0;return n instanceof Ii.default?(o=n.id,u=n):u=new Ii.default(n,i,a),(0,Hr.default)("engine::addFact id:"+o),this.facts.set(o,u),this}},{key:"removeFact",value:function(n){var i=void 0;return n instanceof Ii.default?i=n.id:i=n,this.facts.delete(i)}},{key:"prioritizeRules",value:function(){if(!this.prioritizedRules){var n=this.rules.reduce(function(i,a){var o=a.priority;return i[o]||(i[o]=[]),i[o].push(a),i},{});this.prioritizedRules=Object.keys(n).sort(function(i,a){return Number(i)>Number(a)?-1:1}).map(function(i){return n[i]})}return this.prioritizedRules}},{key:"stop",value:function(){return this.status=Fb,this}},{key:"getFact",value:function(n){return this.facts.get(n)}},{key:"evaluateRules",value:function(n,i){var a=this;return Promise.all(n.map(function(o){return a.status!==Db?((0,Hr.default)("engine::run status:"+a.status+"; skipping remaining rules"),Promise.resolve()):o.evaluate(i).then(function(u){return(0,Hr.default)("engine::run ruleResult:"+u.result),i.addResult(u),u.result?(i.addEvent(u.event,"success"),a.emitAsync("success",u.event,i,u).then(function(){return a.emitAsync(u.event.type,u.event.params,i,u)})):(i.addEvent(u.event,"failure"),a.emitAsync("failure",u.event,i,u))})}))}},{key:"run",value:function(){var n=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,Hr.default)("engine::run started"),this.status=Db;var o=a.almanac||new Foe.default({allowUndefinedFacts:this.allowUndefinedFacts,pathResolver:this.pathResolver});this.facts.forEach(function(l){o.addFact(l)});for(var u in i){var c=void 0;i[u]instanceof Ii.default?c=i[u]:c=new Ii.default(u,i[u]),o.addFact(c),(0,Hr.default)("engine::run initialized runtime fact:"+c.id+" with "+c.value+"<"+Roe(c.value)+">")}var s=this.prioritizeRules(),f=Promise.resolve();return new Promise(function(l,h){s.map(function(d){return f=f.then(function(){return n.evaluateRules(d,o)}).catch(h),f}),f.then(function(){n.status=Fb,(0,Hr.default)("engine::run completed");var d=o.getResults(),p=d.reduce(function(y,m){var $=m.result?"results":"failureResults";return y[$].push(m),y},{results:[],failureResults:[]}),v=p.results,b=p.failureResults;l({almanac:o,results:v,failureResults:b,events:o.getEvents("success"),failureEvents:o.getEvents("failure")})}).catch(h)})}}]),t}(Noe.default);ar.default=Koe;Object.defineProperty(it,"__esModule",{value:!0});it.Almanac=it.Engine=it.Operator=it.Rule=it.Fact=void 0;it.default=function(e,t){return new XT.default(e,t)};var Xoe=ar,XT=qa(Xoe),Joe=Va,Qoe=qa(Joe),Zoe=fc,ese=qa(Zoe),tse=za,rse=qa(tse),nse=hc,ise=qa(nse);function qa(e){return e&&e.__esModule?e:{default:e}}it.Fact=Qoe.default;it.Rule=ese.default;it.Operator=rse.default;it.Engine=XT.default;it.Almanac=ise.default;var ase=it;function vse(e,t){var r=new Array(t),n=e.length,i=new Array(n);if(t>n)throw new RangeError("getRandom: more elements taken than available");for(;t--;){var a=Math.floor(Math.random()*n);r[t]=e[a in i?i[a]:a],i[a]=--n in i?i[n]:n}return r}function pse(e){return e.charAt(0).toUpperCase()+e.slice(1)}function yse(e){return e.replace(/([A-Z])/g," $1").replace(/^./,function(t){return t.toUpperCase()})}function gse(e,t,r){const n=new Map;return e.forEach(i=>{const a=i[r];n.set(a,{...i})}),t.forEach(i=>{const a=i[r];if(n.has(a)){const o=n.get(a);n.set(a,{...o,...i})}else n.set(a,{...i})}),Array.from(n.values())}function ose(e){if(typeof e=="string"){if(e.toLowerCase()==="true")return!0;if(e.toLowerCase()==="false")return!1;const t=parseInt(e,10);if(!isNaN(t)&&e===t.toString())return t;const r=parseFloat(e);if(!isNaN(r)&&e===r.toString())return r;const n=new Date(e);return isNaN(n.getTime()),e}return e}function fd(e){if(Array.isArray(e))return e.map(t=>fd(t));if(typeof e=="object"&&e!==null){const t={};for(const r in e)e.hasOwnProperty(r)&&(t[r]=fd(e[r]));return t}else return ose(e)}function Lb(e){return`${e.getMonth()+1}/${e.getDate()}/${e.getFullYear()}`}function mse(e,t){const r=Lb(e);return t.find(i=>{const a=Lb(new Date(i.date));return r==a})}async function sse(e){try{const t=await(await fetch(e)).text();return fd(await Jie().fromString(t))}catch(t){throw t}}function bse(){return new ase.Engine}function Nb(e,t,r){const n=e.slice();return n[2]=t[r],n}function Ub(e){let t,r,n=e[2].title+"",i,a,o,u,c,s;return{c(){t=Wi("div"),r=Wi("h1"),i=nx(n),a=Ol(),o=Wi("div"),c=Ol(),this.h()},l(f){t=Hi(f,"DIV",{id:!0});var l=No(t);r=Hi(l,"H1",{});var h=No(r);i=ix(h,n),h.forEach(wr),a=El(l),o=Hi(l,"DIV",{id:!0}),No(o).forEach(wr),c=El(l),l.forEach(wr),this.h()},h(){ji(o,"id",u=`${e[2].id}-heatmap`),ji(t,"id",s=e[2].id)},m(f,l){Uo(f,t,l),vi(t,r),vi(r,i),vi(t,a),vi(t,o),vi(t,c)},p(f,l){l&1&&n!==(n=f[2].title+"")&&ax(i,n),l&1&&u!==(u=`${f[2].id}-heatmap`)&&ji(o,"id",u),l&1&&s!==(s=f[2].id)&&ji(t,"id",s)},d(f){f&&wr(t)}}}function use(e){let t,r="Anthony Wong's Habit Tracker",n,i,a=jp(e[0]),o=[];for(let u=0;u<a.length;u+=1)o[u]=Ub(Nb(e,a,u));return{c(){t=Wi("h1"),t.textContent=r,n=Ol(),i=Wi("div");for(let u=0;u<o.length;u+=1)o[u].c();this.h()},l(u){t=Hi(u,"H1",{"data-svelte-h":!0}),tx(t)!=="svelte-1lw2ff6"&&(t.textContent=r),n=El(u),i=Hi(u,"DIV",{id:!0});var c=No(i);for(let s=0;s<o.length;s+=1)o[s].l(c);c.forEach(wr),this.h()},h(){ji(i,"id","heatmaps")},m(u,c){Uo(u,t,c),Uo(u,n,c),Uo(u,i,c);for(let s=0;s<o.length;s+=1)o[s]&&o[s].m(i,null)},p(u,[c]){if(c&1){a=jp(u[0]);let s;for(s=0;s<a.length;s+=1){const f=Nb(u,a,s);o[s]?o[s].p(f,c):(o[s]=Ub(f),o[s].c(),o[s].m(i,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=a.length}},i:Ip,o:Ip,d(u){u&&(wr(t),wr(n),wr(i)),rx(o,u)}}}const cse=6;function fse(e,t,r){let n;const i=new Date("07/01/2024");return QT(async()=>{try{const a=[{id:"books",title:"📚 Books 🛋️",heatMap:"books",scaleType:"threshold",sources:["/data/books/entries.csv"]},{id:"chess",title:"♘ Chess ♞",heatMap:"chess",scaleType:"ordinal",sources:["/data/chess/ChessDotCom.csv","/data/chess/TheWoodpeckerMethod.csv"]},{id:"puzzles",title:"🧩🔠 NYT - Puzzles ✍🏁",heatMap:"puzzles",scaleType:"threshold",sources:["/data/puzzles/NYT.csv"]}];for(const o of a){const u=await ox(Object.assign({"../lib/books/index.ts":()=>Lo(()=>import("./index.B5cyhEH9.js"),[],import.meta.url),"../lib/chess/index.ts":()=>Lo(()=>import("./index.DSQaIt3u.js"),[],import.meta.url),"../lib/puzzles/index.ts":()=>Lo(()=>import("./index.Dq21SkUm.js"),[],import.meta.url)}),`../lib/${o.heatMap}/index.ts`,4);if(u.default){const c=u.default,s=[];for(const p of o.sources){const v=await sse(p);s.push(v)}const f=new c(...s),l=await f.generateValue();console.log(`${o.id}'s logs:'`,l);const h=f.generateDomains();console.log("domains",h);const d=f.generateRanges();console.log("ranges",d),r(0,n=[...n,{...o}]),new WO().paint({data:{source:l,x:"date",y:p=>+p.value},date:{start:i},range:cse,itemSelector:`#${o.id}-heatmap`,scale:{color:{type:o.scaleType,domain:h,range:d}},domain:{type:"month"},subDomain:{width:15,height:15,type:"day",label:null,color:"#FFF"}},[[zie,{text:(p,v,b)=>f.toolTip(p,v,b,f)}]])}}}catch(a){console.log(a)}}),r(0,n=[]),[n]}class _se extends ZT{constructor(t){super(),ex(this,t,fse,use,JT,{})}}export{_se as P,bse as a,yse as b,gse as c,pse as d,mse as f,vse as g};
