import{c as u,a as i,f as c,b as m}from"./2.BHM-eX3V.js";const l={name:"Chess",attributes:[{name:"dailyPuzzle",type:"object"},{name:"numberOfExercises",type:"number"},{name:"numberOfGames",type:"number"}],decisions:[{conditions:{all:[{fact:"dailyPuzzle",operator:"equal",value:!0},{fact:"numberOfExercises",operator:"greaterThan",value:0},{fact:"numberOfGames",operator:"greaterThan",value:0}]},event:{type:"blue",params:{color:"blue",value:3}}},{conditions:{all:[{fact:"dailyPuzzle",operator:"equal",value:!0},{fact:"numberOfExercises",operator:"equal",value:0},{fact:"numberOfGames",operator:"equal",value:0}]},event:{type:"yellow",params:{color:"yellow",value:1}}},{conditions:{all:[{fact:"dailyPuzzle",operator:"equal",value:!0},{any:[{fact:"numberOfExercises",operator:"greaterThan",value:0},{fact:"numberOfGames",operator:"greaterThan",value:0}]}]},event:{type:"green",params:{color:"green",value:2}}}]};class y{constructor(a,s){this.chessDotComLogs=a,this.woodpeckerLogs=s;const t={dailyPuzzle:!1,numberOfExercises:0,numberOfGames:0,date:new Date("2020-20-2"),value:0},n=Object.keys(t);this.logKeys=n;let e=u(a,s,"date");e=e.map(o=>{for(const r of this.logKeys)Object.hasOwn(o,r)||(o[r]=t[r]);return o}),this.logs=e}async generateValue(){const a=i();for(const t of l.decisions)a.addRule(t);const s=[];for(const t of this.logs){const{events:n}=await a.run(t),e=n[0];s.push({...t,...e.params})}return this.logs=s,s}generateDomains(){return Array.from(new Set(l.decisions.map(a=>a.event.params.value)))}generateRanges(){return Array.from(new Set(l.decisions.map(a=>a.event.params.color)))}toolTip(a,s,t,n){if(s){const e=c(new Date(t),n.logs);if(e){let o=[];for(const r of this.logKeys)r!="date"&&(e[r]==!0&&e||e[r]>0)&&o.push(`${m(r)}: ${e[r]}`);return o.join(`.
`)}}return""}}export{y as default};
